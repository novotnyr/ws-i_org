

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>Attachments Profile - 
					Version 1.0 
					(BdAD)
				</title>
      <style type="text/css">
                     body { color: black; background: white; font-family: sans-serif; margin: 16pt 24pt; }
                     dt { font-style: italic; padding-top: 0.5em; }
                     h4 { font-weight: normal; font-style: italic; font-size: 0.8em; margin-bottom: 0; }
                     .refinement { margin: 18pt 0em; }
                    .statement { font-style: italic; margin: 0.5em 5.5em; text-indent: -4em; }
                    .statement-id { background-color: #ffa; font-style: normal; padding: 0em 0.3em; }
                    .statement-type { background-color: #ccf; font-style: normal; padding: 0em 0.3em; font-size: 0.7em; vertical-align: text-top; }
                    .statement-origin { background-color: #fcc; font-style: normal; padding: 0em 0.3em; font-size: 0.7em; vertical-align: text-top; }
                    .rationale { margin: 0.5em 0em;  }
                    .explanation { margin: 0.5em 0em; }
                    .definition { margin: 0.5em 5.5em;}
                    .explanation p, .rationale p { margin: 0.25em 0; }
                    .practice { background-color: green; }
                    .example { background-color: #eee; margin: 0.5em 2em; padding: 0.5em; }
                    .example-banner { margin: 0; }
                    .example pre { margin: 0; }
                    .correct, .incorrect { font-family: sans-serif; font-weight: bold; font-size: 0.9em; margin: 0; }
                    .correct { color: #090; }
                    .incorrect { color: #900; }
                    .specification { padding: 0.5em; background-color: #ffa; margin: 0.5em 2em; }
                    .ednote { margin: 1.2em; padding: 1.2em; background-color: #fcc; }
                    .note { background-color: #fcc; margin-left: 1.5em; }
                    .toc { margin-left: 2em; }
                    .subtoc { margin-left: 3em; }
                    .subsubtoc { margin-left: 4em; }
                    .chg { background-color: orange; text-decoration: underline; }
                    .add { background-color: green; text-decoration: underline; }
                    .del { background-color: red; text-decoration: line-through; }
                    @media print {
                        a.offsite:after { content: " [" attr(href) "] "; font-size: 85%; font-weight: lighter; }
                    } 
                    [id]:hover:after { content: " #" attr(id) " "; font-size: 50%; color: #ccc; text-decoration: none; }
		        </style>
   </head>
   <body>
      <div class="head">
         <p>
            <a href="http://www.ws-i.org/">
               <img src="http://www.ws-i.org/images/WS-I-logo.gif" height="88" width="107" border="0" alt="WS-I"/>
            </a>
         </p>
         <h1>Attachments Profile Version 1.0</h1>
         <h2>Board Approval Draft</h2>
         <h2>2004-06-11</h2>
         <dl>
            <dt>This version:</dt>
            <dd>
               <a href="http://www.ws-i.org/Profiles/AttachmentsProfile-1.0-2004-06-11.html">http://www.ws-i.org/Profiles/AttachmentsProfile-1.0-2004-06-11.html
							</a>
            </dd>
            <dt>Latest version:</dt>
            <dd>
               <a href="http://www.ws-i.org/Profiles/AttachmentsProfile-1.0.html">http://www.ws-i.org/Profiles/AttachmentsProfile-1.0.html
							</a>
            </dd>
            <dt>Editors:</dt>
            <dd>Chris Ferris, IBM</dd>
            <dd>Anish Karmarkar, Oracle Corp.</dd>
            <dd>Canyang Kevin Liu, SAP AG</dd>
            <dt>Administrative contact:</dt>
            <dd>
               <a href="mailto:secretary@ws-i.org">secretary@ws-i.org</a>
            </dd>
         </dl>
         <p class="copyright" id="copyright"> Copyright &#169;  2002-2004 by
			<a href="http://www.ws-i.org/">The Web Services-Interoperability
			Organization</a> (<abbr title="Web Services Interoperability    Organization">WS-I</abbr>) and Certain of its Members. All Rights
			Reserved.</p>
      </div>
      <hr/>
      <h2 id="abstract">Abstract</h2>
      <p>This document defines the WS-I Attachments Profile 1.0,
		consisting of a set of non-proprietary Web services specifications,
		along with clarifications and amendments to those specifications that
		are intended to promote interoperability. This profile complements the
		WS-I Basic Profile 1.1 to add support for interoperable SOAP Messages
		with Attachments-based Web services. </p>
      <h2 id="status">Status of this Document</h2>
      <p> This document is a Board
				Approval Draft; it has been approved for publication by the
				Working Group, and is submitted for consideration by the Board
				of Directors, and for public comment. It is a work in
				progress, and should not be considered as final; other
				documents may supersede this document. </p>
      <h2 id="license">Notice</h2>
      <p>The material contained herein is not a license, either expressly or
		impliedly, to any intellectual property owned or controlled by any of
		the authors or developers of this material or WS-I. The material
		contained herein is provided on an "AS IS" basis and to the maximum
		extent permitted by applicable law, this material is provided AS IS
		AND WITH ALL FAULTS, and the authors and developers of this material
		and WS-I hereby disclaim all other warranties and conditions, either
		express, implied or statutory, including, but not limited to, any (if
		any) implied warranties, duties or conditions of merchantability, of
		fitness for a particular purpose, of accuracy or completeness of
		responses, of results, of workmanlike effort, of lack of viruses, and
		of lack of negligence. ALSO, THERE IS NO WARRANTY OR CONDITION OF
		TITLE, QUIET ENJOYMENT, QUIET POSSESSION, CORRESPONDENCE TO
		DESCRIPTION OR NON-INFRINGEMENT WITH REGARD TO THIS MATERIAL. </p>
      <p>IN NO EVENT WILL ANY AUTHOR OR DEVELOPER OF THIS MATERIAL OR WS-I
		BE LIABLE TO ANY OTHER PARTY FOR THE COST OF PROCURING SUBSTITUTE
		GOODS OR SERVICES, LOST PROFITS, LOSS OF USE, LOSS OF DATA, OR ANY
		INCIDENTAL, CONSEQUENTIAL, DIRECT, INDIRECT, OR SPECIAL DAMAGES
		WHETHER UNDER CONTRACT, TORT, WARRANTY, OR OTHERWISE, ARISING IN ANY
		WAY OUT OF THIS OR ANY OTHER AGREEMENT RELATING TO THIS MATERIAL,
		WHETHER OR NOT SUCH PARTY HAD ADVANCE NOTICE OF THE POSSIBILITY OF
		SUCH DAMAGES.</p>
      <h2 id="feedback">Feedback</h2>
      <p>The Web Services-Interoperability Organization (WS-I)
					would like to receive input, suggestions and other
					feedback ("Feedback") on this work from a wide variety of
					industry participants to improve its quality over time.
					</p>
      <p>By sending email, or otherwise communicating with WS-I, you (on
			behalf of yourself if you are an individual, and your company if
			you are providing Feedback on behalf of the company) will be
			deemed to have granted to WS-I, the members of WS-I, and other
			parties that have access to your Feedback, a non-exclusive,
			non-transferable, worldwide, perpetual, irrevocable, royalty-free
			license to use, disclose, copy, license, modify, sublicense or
			otherwise distribute and exploit in any manner whatsoever the
			Feedback you provide regarding the work. You acknowledge that you
			have no expectation of confidentiality with respect to any
			Feedback you provide. You represent and warrant that you have
			rights to provide this Feedback, and if you are providing Feedback
			on behalf of a company, you represent and warrant that you have
			the rights to provide Feedback on behalf of your company. You also
			acknowledge that WS-I is not required to review, discuss, use,
			consider or in any way incorporate your Feedback into future
			versions of its work. If WS-I does incorporate some or all of your
			Feedback in a future version of the work, it may, but is not
			obligated to include your name (or, if you are identified as
			acting on behalf of your company, the name of your company) on a
			list of contributors to the work. If the foregoing is not
			acceptable to you and any company on whose behalf you are acting,
			please do not provide any Feedback.</p>
      <p>Feedback on this document should be directed to <a href="mailto:wsbasic_comment@ws-i.org">wsbasic_comment@ws-i.org</a>.</p>
      <hr/>
      <h2 id="toc">Table of Contents</h2>
      <p class="toc">1. <a href="#introduction">Introduction</a>
         <br/>
         <span class="subtoc">1.1. <a href="#relationship">Relationship to other Profiles</a>
         </span>
         <br/>
         <span class="subtoc">1.2. <a href="#conventions">Notational Conventions</a>
         </span>
         <br/>
         <span class="subtoc">1.3. <a href="#versioning">Profile Identification and Versioning</a>
         </span>
         <br/>2. <a href="#conformance">Profile Conformance</a>
         <br/>
         <span class="subtoc">2.1. <a href="#conformance_requirements">Conformance Requirements</a>
         </span>
         <br/>
         <span class="subtoc">2.2. <a href="#conformance_targets">Conformance Targets</a>
         </span>
         <br/>
         <span class="subtoc">2.3. <a href="#conformance_scope">Conformance Scope</a>
         </span>
         <br/>
         <span class="subtoc">2.4. <a href="#conformance_claims">Claiming Conformance</a>
         </span>
         <br/>3. <a href="#SOAPPackage">Attachments Packaging</a>
         <br/>
         <span class="subsubtoc">3.1. <a href="#Root_Part">Root Part</a>
         </span>
         <br/>
         <span class="subsubtoc">3.2. <a href="#Encoding_of_Root_Part">Encoding of Root Part</a>
         </span>
         <br/>
         <span class="subsubtoc">3.3. <a href="#Media_Type_of_Message">Media Type of Message</a>
         </span>
         <br/>
         <span class="subsubtoc">3.4. <a href="#Messages_with_No_Attachments">Messages with No Attachments</a>
         </span>
         <br/>
         <span class="subsubtoc">3.5. <a href="#Dereferencing_Attachments">Dereferencing Attachments</a>
         </span>
         <br/>
         <span class="subsubtoc">3.6. <a href="#Carrying_Additional_SOAP_Envelopes">Carrying Additional SOAP Envelopes</a>
         </span>
         <br/>
         <span class="subsubtoc">3.7. <a href="#Fault_Messages_with_Attachments">Fault Messages with Attachments</a>
         </span>
         <br/>
         <span class="subsubtoc">3.8. <a href="#Value-space_of_Content-Id_Header">Value-space of Content-Id Header</a>
         </span>
         <br/>
         <span class="subsubtoc">3.9. <a href="#Ordering_of_MIME_Parts">Ordering of MIME Parts</a>
         </span>
         <br/>
         <span class="subsubtoc">3.10. <a href="#Position_of_Root_Part">Position of Root Part</a>
         </span>
         <br/>
         <span class="subsubtoc">3.11. <a href="#Content-Transfer-Encoding">Content-Transfer-Encoding</a>
         </span>
         <br/>
         <span class="subsubtoc">3.12. <a href="#MIME_Boundary_String">MIME Boundary String</a>
         </span>
         <br/>4. <a href="#WSDLMIMEBINDING">Attachments Description</a>
         <br/>
         <span class="subsubtoc">4.1. <a href="#Use_of_MIME_Binding_Extension">Use of MIME Binding Extension</a>
         </span>
         <br/>
         <span class="subsubtoc">4.2. <a href="#Unbound_portType_Element_Contents">Unbound portType Element Contents</a>
         </span>
         <br/>
         <span class="subsubtoc">4.3. <a href="#Referencing_Message_Parts">Referencing Message Parts</a>
         </span>
         <br/>
         <span class="subsubtoc">4.4. <a href="#Referencing_Attachments_from_the_SOAP_Envelope">Referencing Attachments from the SOAP Envelope</a>
         </span>
         <br/>
         <span class="subsubtoc">4.5. <a href="#Specifying_Root_Part">Specifying Root Part</a>
         </span>
         <br/>
         <span class="subsubtoc">4.6. <a href="#Specifying_SOAP_Headers_in_Root_Part">Specifying SOAP Headers in Root Part</a>
         </span>
         <br/>
         <span class="subsubtoc">4.7. <a href="#MIME_Binding_Schema_Fixes">MIME Binding Schema Fixes</a>
         </span>
         <br/>
         <span class="subsubtoc">4.8. <a href="#Specifying_Alternate_Media_Types">Specifying Alternate Media Types</a>
         </span>
         <br/>
         <span class="subsubtoc">4.9. <a href="#WSDL_Parts">WSDL Parts</a>
         </span>
         <br/>
         <span class="subsubtoc">4.10. <a href="#Ordering_of_Parts">Ordering of Parts</a>
         </span>
         <br/>
         <span class="subsubtoc">4.11. <a href="#Sending_Fault_Messages">Sending Fault Messages</a>
         </span>
         <br/>
         <span class="subsubtoc">4.12. <a href="#Describing_Faults">Describing Faults</a>
         </span>
         <br/>
         <span class="subsubtoc">4.13. <a href="#Sending_Additional_Parts_Not_Described_in_WSDL">Sending Additional Parts Not Described in WSDL</a>
         </span>
         <br/>
         <span class="subsubtoc">4.14. <a href="#Conformance_of_SOAP_Messages">Conformance of SOAP Messages</a>
         </span>
         <br/>
                Appendix A: <a href="#references">Referenced Specifications</a>
         <br/>
                Appendix B: <a href="#points">Extensibility Points</a>
         <br/>
                Appendix C: <a href="#defs">Defined Terms</a>
         <br/>
            Appendix D: <a href="#acks">Acknowledgements</a>
         <br/>
      </p>
      <h2 id="introduction">1. Introduction</h2>
      <p>This document defines the WS-I Attachments Profile 1.0
				(hereafter,  "Profile"), consisting of a set of
				non-proprietary Web services specifications, along with
				clarifications to and amplifications of  those specifications
				that are intended to promote interoperability. This profile
				compliments the WS-I Basic Profile 1.1 to add support for
				conveying interoperable SOAP Messages with Attachments-based
				attachments with SOAP messages.</p>
      <p>SOAP Messages with Attachments (SwA) defines a MIME
				multipart/related structure for packaging attachments with
				SOAP messages. This profile complements the WS-I Basic Profile
				1.1 to add support for conveying interoperable SwA-based
				attachments with SOAP messages.</p>
      <p>Section 1 introduces the Profile, and explains its
				relationships to other profiles.</p>
      <p>Section 2, "Profile Conformance," explains what it means
				to be conformant to the Profile. </p>
      <p>Each subsequent section addresses a component of the
				Profile, and consists of two parts; an overview detailing the
				component specifications and their extensibility points,
				followed by subsections that address individual parts of the
				component specifications.</p>
      <h3 id="relationship">1.1 Relationship to other Profiles</h3>
      <p>This Profile adds support for SOAP with Attachments
					and MIME bindings, and is intended to be used in
					combination with the Basic Profile 1.1.</p>
      <h3 id="conventions">1.2 
            Notational Conventions
        </h3>
      <p>The keywords "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <a class="offsite" href="http://www.ietf.org/rfc/rfc2119.txt">RFC2119</a>.</p>
      <p>Normative statements of requirements in the Profile (i.e., those
        impacting conformance, as outlined in "<a href="#conformance_requirements">Conformance Requirements</a>") are
        presented in the following manner:</p>
      <p class="statement">
         <span class="statement-id">Rnnnn</span>Statement
        text here.</p>
      <p>where "nnnn" is replaced by a number that is unique among the
        requirements in the Profile, thereby forming a unique requirement
        identifier.</p>
      <p>Requirement identifiers can be considered to be namespace
        qualified, in such a way as to be compatible with QNames from <a class="offsite" href="http://www.w3.org/TR/REC-xml-names/">Namespaces in XML</a>. If
        there is no explicit namespace prefix on a requirement's identifier
        (e.g., "R9999" as opposed to "bp10:R9999"), it should be interpreted
        as being in the namespace identified by the conformance URI of the
        document section it occurs in. If it is qualified, the prefix should
        be interpreted according to the namespace mappings in effect, as
        documented below.</p>
      <p>Some requirements clarify the referenced specification(s), but do not
        place additional constraints upon implementations. For convenience,
        clarifications are annotated in the following manner: <span class="statement-type">C</span>
      </p>
      <p>Some requirements are derived from ongoing standardization work on
        the referenced specification(s). For convenience, such forward-derived
        statements are annotated in the following manner: <span class="statement-origin">xxxx</span>, where "xxxx" is an identifier
        for the specification (e.g., "WSDL20" for WSDL Version 2.0). Note that
        because such work was not complete when this document was publiished,
        the specification that the requirement is derived from may change;
        this information is included only as a convenience to
        implementers.</p>
      <p>Extensibility points in underlying specifications (see "<a href="#conformance_scope">Conformance Scope</a>") are presented in a similar
        manner:</p>
      <p class="statement">
         <span class="statement-id">Ennnn</span>Extensibility
        Point Name - Description</p>
      <p>where "nnnn" is replaced by a number that is unique among the extensibility
        points in the Profile. As with requirement statements, extensibility statements
        can be considered namespace-qualified.</p>
      <p>This specification uses a number of namespace prefixes throughout;
            their associated URIs are listed below. Note that the choice of any
            namespace prefix is arbitrary and not semantically significant.</p>
      <ul>
         <li>
            <strong>soap</strong> - "http://schemas.xmlsoap.org/soap/envelope/"</li>
         <li>
            <strong>xsi</strong> - "http://www.w3.org/2001/XMLSchema-instance"</li>
         <li>
            <strong>xsd</strong> - "http://www.w3.org/2001/XMLSchema"</li>
         <li>
            <strong>soapenc</strong> - "http://schemas.xmlsoap.org/soap/encoding/"</li>
         <li>
            <strong>wsdl</strong> - "http://schemas.xmlsoap.org/wsdl/"</li>
         <li>
            <strong>soapbind</strong> - "http://schemas.xmlsoap.org/wsdl/soap/"</li>
         <li>
            <strong>mime</strong> - "http://schemas.xmlsoap.org/wsdl/mime/"</li>
         <li>
            <strong>uddi</strong> - "urn:uddi-org:api_v2"</li>
         <li>
            <strong>wsi</strong> - "http://www.ws-i.org/schemas/conformanceClaim"</li>
         <li>
            <strong>ref</strong> - "http://ws-i.org/profiles/basic/1.1/xsd"</li>
      </ul>
      <h3 id="versioning">1.3       
        Profile Identification and Versioning
        </h3>
      <p>This document is identified by a name (in this case, Attachments Profile) and 
        a version number (here, 1.0). Together, they identify a 
        particular <em>profile instance</em>.</p>
      <p>Version numbers are composed of a major and minor portion, in the form 
        "major.minor". They can be used to determine the precedence of a 
        profile instance; a higher version number (considering both the major 
        and minor components) indicates that an instance is more recent, and 
        therefore supersedes earlier instances.</p>
      <p>Instances of profiles with the same name (e.g., "Example 
        Profile 1.1" and "Example Profile 5.0") address interoperability 
        problems in the same general scope (although some developments may 
        require the exact scope of a profile to change between instances).</p>
      <p>One can also use this information to determine whether two instances of 
        a profile are backwards-compatible; that is, whether one can assume 
        that conformance to an earlier profile instance implies conformance to a later 
        one. Profile instances with the same name and major version number (e.g., 
        "Example Profile 1.0" and "Example Profile 1.1") MAY be considered 
        compatible. Note that this does not imply anything about compatibility 
        in the other direction; that is, one cannot assume that conformance 
        with a later profile instance implies conformance to an earlier one.</p>
      <h2 id="conformance">2 
            Profile Conformance
        </h2>
      <p>Conformance to the Profile is defined by adherence to the
        set of <em>requirements</em> defined for a specific
        <em>target</em>, within the <em>scope</em> of the
        Profile. This section explains these terms and describes how
        conformance is defined and used.</p>
      <h3 id="conformance_requirements">2.1
             
            Conformance Requirements
        </h3>
      <p>Requirements state the criteria for conformance to the
        Profile. They typically refer to an existing specification and
        embody refinements, amplifications, interpretations and
        clarifications to it in order to improve interoperability. All
        requirements in the Profile are considered normative, and those
        in the specifications it references that are in-scope (see
        "Conformance Scope") should likewise be considered normative.
        When requirements in the Profile and its referenced
        specifications contradict each other, the Profile's
        requirements take precedence for purposes of Profile
        conformance.</p>
      <p>Requirement levels, using <a class="offsite" href="http://www.ietf.org/rfc/rfc2119.txt">RFC2119</a> language (e.g.,
        MUST, MAY, SHOULD) indicate the nature of the requirement and its
        impact on conformance. Each requirement is individually identified
        (e.g., R9999) for convenience.</p>
      <p>For example;</p>
      <p class="statement">
         <span class="statement-id">R9999</span> WIDGETs SHOULD be round in shape.</p>
      <p>This requirement is identified by "R9999", applies to the
        target WIDGET (see below), and places a conditional
        requirement upon widgets; i.e., although this requirement must
        be met to maintain conformance in most cases, there are some
        situations where there may be valid reasons for it not being
        met (which are explained in the requirement itself, or in its
        accompanying text).</p>
      <p>Each requirement statement contains exactly one requirement level
        keyword (e.g., "MUST") and one conformance target keyword (e.g.,
        "MESSAGE"). Additional text may
        be included to illuminate a requirement or group of
        requirements (e.g., rationale and examples); however, prose
        surrounding requirement statements must not be considered in
        determining conformance.</p>
      <p>Definitions of terms in the Profile are considered
        authoritative for the purposes of determining
        conformance.</p>
      <p>None of the requirements in the Profile, regardless of
        their conformance level, should be interpreted as limiting the
        ability of an otherwise conforming implementation to apply
        security countermeasures in response to a real or perceived
        threat (e.g., a denial of service attack).</p>
      <h3 id="conformance_targets">2.2
             
            Conformance Targets
	    </h3>
      <p>Conformance targets identify what artifacts (e.g.,
        SOAP message, WSDL description, UDDI registry data) or
        parties (e.g., SOAP processor, end user) requirements
        apply to.</p>
      <p>This allows for the definition of conformance in
        different contexts, to assure unambiguous interpretation
        of the applicability of requirements, and to allow
        conformance testing of artifacts (e.g., SOAP messages and
        WSDL descriptions) and the behavior of various parties to
        a Web service (e.g., clients and service instances).</p>
      <p>Requirements' conformance targets are physical
        artifacts wherever possible, to simplify testing and avoid
        ambiguity.</p>
      <p>The following conformance targets are used in the Profile:</p>
      <ul>
         <li>
            <strong>MESSAGE</strong> 
              - protocol elements that transport the ENVELOPE (e.g., SOAP/HTTP messages)
                (from 
                <a class="offsite" href="http://www.ws-i.org/Profiles/BasicProfile-1.1.html">Basic Profile 1.1</a>)
              </li>
         <li>
            <strong>ENVELOPE</strong> 
              - the serialization of the soap:Envelope element and its content
                (from 
                <a class="offsite" href="http://www.ws-i.org/Profiles/BasicProfile-1.1.html">Basic Profile 1.1</a>)
              </li>
         <li>
            <strong>DESCRIPTION</strong> 
              - descriptions of types, messages, interfaces and their concrete protocol and data format bindings, and the network access points associated with Web services (e.g., WSDL descriptions)
                (from 
                <a class="offsite" href="http://www.ws-i.org/Profiles/BasicProfile-1.0.html">Basic Profile 1.0</a>)
              </li>
         <li>
            <strong>INSTANCE</strong> 
              - software that implements a wsdl:port or a uddi:bindingTemplate
                (from 
                <a class="offsite" href="http://www.ws-i.org/Profiles/BasicProfile-1.0.html">Basic Profile 1.0</a>)
              </li>
         <li>
            <strong>CONSUMER</strong> 
              - software that invokes an INSTANCE
                (from 
                <a class="offsite" href="http://www.ws-i.org/Profiles/BasicProfile-1.0.html">Basic Profile 1.0</a>)
              </li>
         <li>
            <strong>SENDER</strong> 
              - software that generates a message according to the protocol(s) associated with it
                (from 
                <a class="offsite" href="http://www.ws-i.org/Profiles/BasicProfile-1.0.html">Basic Profile 1.0</a>)
              </li>
         <li>
            <strong>RECEIVER</strong> 
              - software that consumes a message according to the protocol(s) associated with it (e.g., SOAP processors)
                (from 
                <a class="offsite" href="http://www.ws-i.org/Profiles/BasicProfile-1.0.html">Basic Profile 1.0</a>)
              </li>
      </ul>
      <h3 id="conformance_scope">2.3
             
            Conformance Scope
        </h3>
      <p>The scope of the Profile delineates the technologies
        that it addresses; in other words, the Profile only attempts
        to improve interoperability within its own scope.
        Generally, the Profile's scope is bounded by the
        specifications referenced by it.</p>
      <p>The Profile's scope is further refined by extensibility
        points. Referenced specifications often provide extension
        mechanisms and unspecified or open-ended configuration
        parameters; when identified in the Profile as an
        extensibility point, such a mechanism or parameter is
        outside the scope of the Profile, and its use or non-use
        is not relevant to conformance.</p>
      <p>Note that the Profile may still place requirements on
        the use of an extensibility point. Also, specific uses of
        extensibility points may be further restricted by other
        profiles, to improve interoperability when used in
        conjunction with the Profile.</p>
      <p>Because the use of extensibility points may impair
        interoperability, their use should be negotiated or
        documented in some fashion by the parties to a Web
        service; for example, this could take the form of an
        out-of-band agreement.</p>
      <p>The Profile's scope is defined by the referenced
        specifications in <a href="#references">Appendix A</a>,  as refined by the
        extensibility points in <a href="#points">Appendix B</a>.</p>
      <h3 id="conformance_claims">2.4
             
            Claiming Conformance
        </h3>
      <p>Claims of conformance to the Profile can be made using the following 
        mechanisms, as described in <a class="offsite" href="http://www.ws-i.org/Profiles/ConformanceClaims-1.0.html">Conformance Claim Attachment Mechanisms</a>, 
        when the applicable Profile requirements associated 
        with the listed targets have been met:</p>
      <p class="ednote">The CCAM URI may change before final publication.</p>
      <li>
         <strong>WSDL 1.1 Claim Attachment Mechanism for Web Services Instances</strong> - MESSAGE DESCRIPTION INSTANCE RECEIVER</li>
      <li>
         <strong>WSDL 1.1 Claim Attachment Mechanism for Description Constructs</strong> - DESCRIPTION</li>
      <li>
         <strong>UDDI Claim Attachment Mechanism for Web Services Instances</strong> - MESSAGE DESCRIPTION INSTANCE RECEIVER</li>
      <p>The conformance claim URI for this Profile is "http://ws-i.org/profiles/attachments/1.0".</p>
      <h2 id="SOAPPackage">3. Attachments Packaging</h2>
      <p>This section of the Profile incorporates the following
		specifications by reference, and defines extensibility points within
		them:</p>
      <ul>
         <li>
            <a class="offsite" href="http://www.w3.org/TR/SOAP-attachments#SOAPMultipart">SOAP Messages with Attachments</a>
            <br/>Extensibility points:
			               <ul>
               <li>
                  <span class="statement-id" id="E0001">E0001</span> - MIME parts - SOAP Messages with Attachments places no restriction on the type of any non-root part in a multipart/related message.</li>
            </ul>
         </li>
         <li>
            <a class="offsite" href="http://www.w3.org/TR/REC-xml">Extensible Markup Language (XML) 1.0 (Second Edition)</a>
         </li>
         <li>
            <a class="offsite" href="http://www.w3.org/TR/1999/REC-xml-names-19990114">Namespaces in XML 1.0</a>
         </li>
         <li>
            <a class="offsite" href="http://ietf.org/rfc/rfc2557">RFC2557 MIME Encapsulation of Aggregate Documents, such as HTML (MHTML)</a>
         </li>
         <li>
            <a class="offsite" href="http://ietf.org/rfc/rfc2045">RFC2045 Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies</a>
         </li>
         <li>
            <a class="offsite" href="http://ietf.org/rfc/rfc2046">RFC2046 Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types</a>
         </li>
         <li>
            <a class="offsite" href="http://ietf.org/rfc/rfc2392">RFC2392 Content-ID and Message-ID Uniform Resource Locators</a>
         </li>
      </ul>
      <p>SOAP Messages with Attachments defines a MIME <code>multipart/related</code> structure for packaging SOAP envelope with attachments. The Profile mandates 
					the use of that structure, and places the following constraints on its use:</p>
      <div class="refinement">
         <h4 id="Root_Part">3.1 Root Part</h4>
         <p class="statement">
            <span class="statement-id">
               <a name="R2931">R2931</a>
            </span> 
The entity body of the root part of multipart/related MESSAGE MUST be a soap:Envelope.
					</p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2945">R2945</a>
            </span> 
                                        The Content-Type HTTP header field-value in a MESSAGE MUST be either "multipart/related" or  "text/xml".
                                <span class="statement-type">C</span>
         </p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2932">R2932</a>
            </span> 
                                        If the Content-Type HTTP header field-value in a MESSAGE has a media-type of "multipart/related" then the Content-Type HTTP header field-value in that message MUST have the <code>type</code> parameter with a value of "text/xml".
					<span class="statement-type">C</span>
         </p>
         <div class="explanation">
            <p>
					Any MIME part may contain a soap:Envelope, but only the entity body 
					of the root-part of the MIME package is treated as the primary SOAP envelope. 
					Non-root parts are referred to as attachments.
					</p>
         </div>
         <p class="example-banner">For example,</p>
         <div class="example">
            <p class="correct">CORRECT: </p>
            <p>In the message below the the Content-Type HTTP header field-value has a 
					media-type of 'Multipart/Related' and a parameter 'type' with value of 'text/xml'.</p>
            <pre>MIME-Version: 1.0
Content-Type: Multipart/Related; boundary=MIME_boundary; type=text/xml;
Content-Description: This is the optional message description.

--MIME_boundary
Content-Type: text/xml; charset=UTF-8
Content-Transfer-Encoding: 8bit
Content-ID: &lt;rootpart@example.com&gt;

&lt;?xml version='1.0' ?&gt;
&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&gt;
...
&lt;/SOAP-ENV:Envelope&gt;

--MIME_boundary

...
--MIME_boundary--</pre>
         </div>
      </div>
      <div class="refinement">
         <h4 id="Encoding_of_Root_Part">3.2 Encoding of Root Part</h4>
         <p class="statement">
            <span class="statement-id">
               <a name="R2915">R2915</a>
            </span> 
					The entity body of the root part of a <code>multipart/related</code> MESSAGE MUST be serialized using either UTF-8 or UTF-16 character encoding.
					</p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2916">R2916</a>
            </span> 
					Non-root parts of a <code>multipart/related</code> MESSAGE MAY use any character encoding.
					</p>
      </div>
      <div class="refinement">
         <h4 id="Media_Type_of_Message">3.3 Media Type of Message</h4>
         <p class="statement">
            <span class="statement-id">
               <a name="R2925">R2925</a>
            </span> 
					If the WSDL description lists at least one non-root MIME part, 
					the corresponding MESSAGE MUST have a <code>Content-Type</code> 
					HTTP header field-value with a media-type of "multipart/related".
          </p>
      </div>
      <div class="refinement">
         <h4 id="Messages_with_No_Attachments">3.4 Messages with No Attachments</h4>
         <div class="rationale">
            <p>
					If a receiver expects zero or more attachments in a message, the sender of that message can use the text/xml media type for a message that has no attachments.
					</p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2917">R2917</a>
            </span> 
                    A MESSAGE containing zero attachment parts MUST be sent using a content-type 
                    of either "text/xml" as though a SOAP HTTP binding were used or 
                    "multipart/related" when the WSDL description for the message specifies 
                    the <code>mime:multipartRelated</code> element on the corresponding 
                    <code>wsdl:input</code> or <code>wsdl:output</code> element in
                    its <code>wsdl:binding</code>.</p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2902">R2902</a>
            </span> 
				   	A SENDER MUST NOT send a message using SOAP with
				   	Attachments if the corresponding <code>wsdl:input
				   	</code>or <code>wsdl:output</code> element in the
				   	<code>wsdl:binding</code> does not specify the WSDL
				   	MIME Binding.
				 	</p>
         <div class="explanation">
            <p>This can happen only when the WSDL description specifies a <code>mime:multipartRelated</code> that has only one <code>mime:part</code> child element containing <code>soapbind:body</code>.</p>
         </div>
         <p class="example-banner">For example,</p>
         <div class="example">
            <p class="correct">CORRECT: </p>
            <p>A WSDL Description that is as follows:</p>
            <pre>&lt;wsdl:definitions xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
                  xmlns:soapbind="http://schemas.xmlsoap.org/wsdl/soap/"
                  xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
                  xmlns:mime="http://schemas.xmlsoap.org/wsdl/mime/" 
                  targetNamespace="http://example.com/mimewsdl"
                  xmlns:tns="http://example.com/mimewsdl"&gt;

...

    &lt;wsdl:binding name="aBinding" type="tns:aPortType"&gt;
        &lt;soapbind:binding style="rpc" 
                          transport="http://schemas.xmlsoap.org/soap/http"/&gt;
        &lt;wsdl:operation name="anOperation"&gt;
            &lt;soap:operation soapAction="http://example.com/soapaction"/&gt;
            &lt;wsdl:input&gt;
                &lt;mime:multipartRelated&gt;
                    &lt;mime:part&gt;
                        &lt;soapbind:body use="literal" 
                                       namespace="http://example.com/mimetypes"/&gt;
                    &lt;/mime:part&gt;
                &lt;/mime:multipartRelated&gt;
            &lt;/wsdl:input&gt;
            &lt;wsdl:output&gt;
                &lt;soapbind:body use="literal" 
                               namespace="http://example.com/mimetypes"/&gt;
            &lt;/wsdl:output&gt;
        &lt;/wsdl:operation&gt;
 &lt;/wsdl:binding&gt;
&lt;/wsdl:definitions&gt;</pre>
            <p>may result in an input message which uses the SOAP HTTP Binding as follows:</p>
            <pre>&lt;?xml version='1.0' ?&gt;
&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;SOAP-ENV:Body xmlns:types="http://example.com/mimetypes"&gt;
        &lt;types:anOperation&gt;
 ...
         &lt;/types:anOperation&gt;
    &lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;</pre>
            <p>must not result in an output message which uses the MIME Binding as follows:</p>
            <pre>MIME-Version: 1.0
Content-Type: Multipart/Related; boundary=MIME_boundary; type=text/xml;
        start="&lt;rootpart@example.com&gt;"
Content-Description: This is the optional message description.

--MIME_boundary
Content-Type: text/xml; charset=UTF-8
Content-Transfer-Encoding: 8bit
Content-ID: &lt;rootpart@example.com&gt;

&lt;?xml version='1.0' ?&gt;
&lt;SOAP-ENV:Envelope 
 xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;SOAP-ENV:Body xmlns:types="http://example.com/mimetypes"&gt;
        &lt;types:anOperationResponse&gt;
...
        &lt;/types:anOpertionResponse&gt;
    &lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;

--MIME_boundary--</pre>
         </div>
      </div>
      <div class="refinement">
         <h4 id="Dereferencing_Attachments">3.5 Dereferencing Attachments</h4>
         <div class="rationale">
            <p>Applications using Web services can use URIs in a variety of ways, 
including as a means of fetching content from a network. Although 
attachments can be used to provide content which is identified with a URI, 
implementations are not required to prefer attached content, to use it 
exclusively, or to use it at all. Likewise, applications may choose to 
ignore the specified dereference function of a URI (e.g., fetching content 
from a network) and only use attached content.</p>
            <p>When using the CID URI scheme, the syntax and rules defined in RFC 2111 
apply.</p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2918">R2918</a>
            </span> 
					A RECEIVER MAY ignore a URI reference to an attachment in an envelope.
					</p>
      </div>
      <div class="refinement">
         <h4 id="Carrying_Additional_SOAP_Envelopes">3.6 Carrying Additional SOAP Envelopes</h4>
         <div class="rationale">
            <p>The Profile places no constraints on the content of attachment parts. 
                    Additional XML documents that contain a <code>soap:Envelope</code> may be sent 
                    as attachments, but only the root-part of the MIME message should be treated as the 
                    primary soap envelope in a MIME package.</p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2919">R2919</a>
            </span> 
					A MESSAGE MAY contain <code>soap:Envelope</code>s carried as attachments in 
					parts that are not the root part of the message.
					</p>
      </div>
      <div class="refinement">
         <h4 id="Fault_Messages_with_Attachments">3.7 Fault Messages with Attachments</h4>
         <p class="statement">
            <span class="statement-id">
               <a name="R2920">R2920</a>
            </span> 
					An INSTANCE MAY send a fault with attachments if and only if the <code>wsdl:output</code> 
					element is described using the WSDL MIME binding.
					</p>
      </div>
      <div class="refinement">
         <h4 id="Value-space_of_Content-Id_Header">3.8 Value-space of Content-Id Header</h4>
         <p>Definition: content-id part encoding</p>
         <div class="definition">
            <p>The "content-id part encoding" consists of the concatenation of:</p>
            <ul>
               <li>The value of the name attribute of the <code>wsdl:part</code> element 
referenced by the <code>mime:content</code>, in which characters disallowed 
in content-id headers (non-ASCII characters as represented by code points above 
0x7F) are escaped as follows:
<ul>
                     <li>Each disallowed character is converted to UTF-8 as one or more bytes.</li>
                     <li>Any bytes corresponding to a disallowed character are escaped with the URI 
escaping mechanism (that is, converted to %HH, where HH is the hexadecimal 
notation of the byte value).</li>
                     <li>The original character is replaced by the resulting character sequence.</li>
                  </ul>
               </li>
               <li>The character '=' (0x3D).</li>
               <li>A globally unique value such as a UUID.</li>
               <li>The character '@' (0x40).</li>
               <li>A valid domain name under the authority of the entity constructing the message.</li>
            </ul>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2933">R2933</a>
            </span> 
                If a description binds a <code>wsdl:message</code> part to a 
                <code>mime:content</code> element, then the corresponding MIME part's 
                <code>content-id</code> field-value in a MESSAGE MUST conform to the 
                content-id part encoding.
				</p>
         <p class="example-banner">For example,</p>
         <div class="example">
            <p class="correct">CORRECT: </p>
            <p>In the WSDL fragment below, the name of the part bound to the mime:content is the value appended to the content-id value.</p>
            <pre>
&lt;wsdl:message name="fooMsg"&gt;
  &lt;wsdl:part name="body" type="ns1:Claim"/&gt;
  &lt;wsdl:part name="fooPart" type="xs:base64binary"/&gt;
&lt;/wsdl:message&gt;
...
&lt;wsdl:binding
    ...
    &lt;mime:multipartRelated&gt;
      &lt;mime:part&gt;
        &lt;soapbind:body parts="body" use="literal"/&gt;
      &lt;/mime:part&gt;
      &lt;mime:part&gt;
        &lt;mime:content part="fooPart" type="application/octet-stream"/&gt;
      &lt;/mime:part&gt;
    &lt;/mime:multipartRelated&gt;
    ...
&lt;/wsdl:binding&gt;
</pre>
            <p>Here's a fragment of the multipart package containing the <code>fooPart</code> binary stream highlighting how the "name" attribute of  <code>wsdl:part </code> is incorporated into the content-id value.</p>
            <pre>
...
--MIME_boundary
Content-Type: application/octet-stream
Content-Transfer-Encoding: 8bit
Content-ID: &lt;fooPart=somereallybignumberlikeauuid@example.com&gt;
...
</pre>
         </div>
      </div>
      <div class="refinement">
         <h4 id="Ordering_of_MIME_Parts">3.9 Ordering of MIME Parts</h4>
         <div class="rationale">
            <p>
					It is possible that intermediaries might reorder the parts in a <code>multipart/related</code> message. Hence semantics should be neither given to, nor implied by the ordering of parts in a message.
					</p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2921">R2921</a>
            </span> 
					A RECEIVER MUST NOT infer any semantics from the ordering of non-root MIME parts in a message.
					</p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2929">R2929</a>
            </span> 
					A MESSAGE MAY have its MIME parts in any order provided that the identity of the root part is maintained.
					</p>
         <div class="explanation">
            <p>
				A receiver must not assume that the order of <code>mime:part</code> elements specified in a WSDL description is the same as the order of MIME parts in the message.
					The order of MIME parts specified in a WSDL description must be considered independent of the order of MIME parts in the message.
					</p>
         </div>
      </div>
      <div class="refinement">
         <h4 id="Position_of_Root_Part">3.10 Position of Root Part</h4>
         <div class="rationale">
            <p>
            If the <code>start</code> parameter is present, then the value
            of the <code>start</code> parameter is the
            <code>content-ID</code> of the root part of the message. In the
            absence of a <code>start</code> parameter, the root part is the
            first body part in the package, as defined by RFC 2387 Section 3.2.
          </p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2922">R2922</a>
            </span> 
					If the <code>Content-Type</code> HTTP header field-value in a message does not have a <code>start</code> parameter, a RECEIVER MUST treat the first body part of the MIME package as the root part.
          <span class="statement-type">C</span>
         </p>
         <p class="example-banner">For example,</p>
         <div class="example">
            <p class="correct">CORRECT: </p>
            <p>In the message below the first MIME part (which has the Content-ID header of "&lt;rootpart@example.com&gt;") is the root part.</p>
            <pre>MIME-Version: 1.0
Content-Type: Multipart/Related; boundary=MIME_boundary; type=text/xml;
Content-Description: This is the optional message description.

--MIME_boundary
Content-Type: text/xml; charset=UTF-8
Content-Transfer-Encoding: 8bit
Content-ID: &lt;rootpart@example.com&gt;

&lt;?xml version='1.0' ?&gt;
&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;SOAP-ENV:Body xmlns:types="http://example.com/mimetypes"&gt;
        &lt;types:SendClaim&gt;
            &lt;ClaimDetail&gt;.............................&lt;/ClaimDetail&gt;
            &lt;photo&gt;
              &lt;href&gt;cid:claimphoto@example.com&lt;/href&gt;
            &lt;/photo&gt;
        &lt;/types:SendClaim&gt;
    &lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;

--MIME_boundary
Content-Type: application/octet-stream
Content-Transfer-Encoding: binary
Content-ID: &lt;claimphoto@example.com&gt;

...binary photograph...
--MIME_boundary--</pre>
         </div>
      </div>
      <div class="refinement">
         <h4 id="Content-Transfer-Encoding">3.11 Content-Transfer-Encoding</h4>
         <div class="rationale">
            <p>Content-Transfer-Encodings allow messages to be sent across transports that do not support binary content; for example, some e-mail systems are only capable of transferring character-based messages. Because Web services messages may originate on or be destined for such systems, the Profile allows this mechanism's use.</p>
            <p>If Content-Transfer-Encoding field of a part in mime multipart message is not present, the body of that part must conform to 7 bit ascii encoding as specified RFC 2045.</p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2934">R2934</a>
            </span> 
The Content-Transfer-Encoding field of a part in a multipart/related MESSAGE MUST have a value of "7bit", "8bit", "binary", "quoted-printable" or "base64".
</p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2935">R2935</a>
            </span> 
The encoding of the body of a part in a multipart/related MESSAGE MUST conform to the encoding indicated by the Content-Transfer-Encoding field-value, as specified by RFC2045. [clarification]
</p>
         <div class="explanation">
            <p>
The Profile restricts its legal values to those that are well-known to improve interoperability.
</p>
         </div>
      </div>
      <div class="refinement">
         <h4 id="MIME_Boundary_String">3.12 MIME Boundary String</h4>
         <div class="rationale">
            <p>Certain implementations have been shown to produce messages in which 
				the MIME encapsulation boundary string is not preceded with a CRLF (carriage-return line-feed). This 
				creates problems for implementations which correctly expect that the encapsulation 
				boundary string is preceded by a CRLF.</p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2936">R2936</a>
            </span> 
				In a MESSAGE, all MIME encapsulation boundary strings MUST be preceded with the ascii 
				characters CR (13) and LF (10) in that sequence.
				<span class="statement-type">C</span>
         </p>
         <div class="explanation">
            <p>
				RFC2046 section 5.5.1 clearly requires that all encapsulation boundaries must 
				be preceded with a CRLF (carriage-return line-feed).
				</p>
         </div>
      </div>
      <h2 id="WSDLMIMEBINDING">4. Attachments Description</h2>
      <p>This section of the Profile incorporates the following
		specifications by reference, and defines extensibility points within
		them:</p>
      <ul>
         <li>
            <a class="offsite" href="http://www.w3.org/TR/2001/NOTE-wsdl-20010315#_Toc492291084">WSDL 1.1, Section 5.0</a>
         </li>
      </ul>
      <p>WSDL 1.1 section 5 defines the MIME binding. The Profile permits the use of the WSDL MIME binding, but limits it to the SOAP Messages with Attachments protocol. The Profile places the following constraints on its use:
				</p>
      <div class="refinement">
         <h4 id="Use_of_MIME_Binding_Extension">4.1 Use of MIME Binding Extension</h4>
         <div class="rationale">
            <p>There may be use cases where a sender might be capable of sending a message using SOAP with Attachments yet incapable of receiving and processing such a message.</p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2901">R2901</a>
            </span> 
                                        A DESCRIPTION MUST use either the WSDL MIME Binding as described in WSDL 1.1 Section 5 or WSDL SOAP binding as described in WSDL 1.1 Section 3 on each of the <code>wsdl:input</code> or <code>wsdl:output</code> elements of a <code>wsdl:binding</code>.
				 	</p>
      </div>
      <div class="refinement">
         <h4 id="Unbound_portType_Element_Contents">4.2 Unbound portType Element Contents</h4>
         <div class="rationale">
            <p>
					WSDL 1.1 is not explicit about whether it is permissible for a <code>wsdl:binding</code>
					 to leave the binding for portions of the content defined by 
					a <code>wsdl:portType</code> unspecified.
					</p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2941">R2941</a>
            </span> 
					A <code>wsdl:binding</code> in a DESCRIPTION SHOULD bind every <code>wsdl:part</code> of a 
					<code>wsdl:message</code> in the <code>wsdl:portType</code> to which it refers to one of 
					<code>soapbind:body</code>, <code>soapbind:header</code>, <code>soapbind:fault</code>
					, <code>soapbind:headerfault</code>, or <code>mime:content</code>
         </p>
         <div class="explanation">
            <p>
					A portType defines an abstract contract with a named set of operations and associated abstract messages. 
					Although not disallowed, it is expected that every part of the abstract input, output and fault messages specified in 
					a portType is bound to <code>soapbind:body</code> or <code>soapbind:header</code> (and so forth) or a <code>mime:content</code> as appropriate when using the MIME binding as defined in WSDL 1.1 Section 5. Un-bound wsdl:parts should be ignored by a consumer.
					</p>
         </div>
      </div>
      <div class="refinement">
         <h4 id="Referencing_Message_Parts">4.3 Referencing Message Parts</h4>
         <div class="rationale">
            <p>A message part in WSDL can be bound to a particular MIME part (using <code>mime:content</code>).Unlike a <code>soapbind:header</code> which may reference parts contained in a message that is not part of the contract defined by the <code>wsdl:porttype</code>, a <code>mime:content</code> must not reference a <code>wsdl:part</code> that is not defined in the <code>wsdl:message</code> referenced by the <code>wsdl:operation</code>.
Additionally, message parts in WSDL are considered to be an indivisible unit. Components of a message part which is of complex content cannot be selectively bound to a particular MIME part.
				</p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2903">R2903</a>
            </span> 
					A <code>mime:content</code> element in a DESCRIPTION MUST NOT reference a <code>wsdl:part</code> that is not present in the respective <code>wsdl:input </code> or <code>wsdl:output </code> of the corresponding <code>wsdl:operation</code> of the corresponding <code>wsdl:portType.</code>.
					</p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2904">R2904</a>
            </span> 
					A <code>mime:content</code> element in a DESCRIPTION MUST NOT be bound to a sub-component of an element or type referenced by a <code>wsdl:part</code>.
					</p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2946">R2946</a>
            </span> 
In a DESCRIPTION, a <code>mime:content</code> element MUST include the <code>part</code> attribute.
				</p>
         <p class="example-banner">For example,</p>
         <div class="example">
            <p class="incorrect">INCORRECT: </p>
            <pre>
&lt;definitions xmlns="http://schemas.xmlsoap.org/wsdl/"&gt; 
  &lt;types ...&gt; 
    &lt;schema xmlns="http://www.w3.org/2001/XMLSchema/" 
            targetNamespace="http://example.org/foo" 
            xmlns:ns="http://example.org/foo"&gt;
      &lt;element name='foo'&gt; 
        &lt;complextContent&gt; 
          &lt;sequence&gt;
            &lt;element ref='bar1'/&gt; 
            &lt;element ref='bar2'/&gt; 
         &lt;/sequence&gt; 
      &lt;/complexContent&gt; 
    &lt;/element&gt;
  &lt;/schema&gt;
&lt;/types&gt;
 ... 
&lt;message name='aMsg'&gt; 
  &lt;part name='apart' element='ns:foo' /&gt;
  &lt;part name="body" element="ns:bar"/&gt;
&lt;/message&gt;
&lt;portType&gt;
  &lt;operation&gt;
    &lt;input&gt;
      &lt;part name="apart"&gt;
    &lt;/input&gt;
...
  &lt;/operation&gt;
&lt;/portType&gt;
&lt;binding&gt;
  &lt;operation&gt;
    &lt;input&gt;
      &lt;mime:multipartRelated&gt;
        &lt;mime:part&gt;
          &lt;soapbind:body part="body" use="literal"/&gt;
        &lt;/mime:part&gt;
        &lt;mime:part&gt;
          &lt;mime:content part="ns:bar1"/&gt;
        &lt;/mime:part&gt;
      &lt;/mime:multipartRelated&gt;
    &lt;/input&gt;
...
  &lt;/operation&gt;
&lt;/binding&gt;
&lt;/definitions&gt;
</pre>
         </div>
      </div>
      <div class="refinement">
         <h4 id="Referencing_Attachments_from_the_SOAP_Envelope">4.4 Referencing Attachments from the SOAP Envelope</h4>
         <div class="rationale">
            <p>One of the advantages of having attachments is the
					ability to include data in a separate MIME part and refer
					to it from the SOAP envelope contained in the root part of
					the same MIME package. </p>
            <p>This Profile defines a schema type
					<code>ref:swaRef</code> which can be used in a WSDL
					description to define a message part. When a message part
					is described using  the <code>ref:swaRef</code> type, 
					in its instance document,   the URI  points to an
					attachment in the same MIME package. This type is offered
					to application/tool/platform developers as an
					interoperable way to mark references to attachments in the
					descriptions. Nevertheless, use of other mechanisms does
					not make the description non-conformant. </p>
            <p>The XML Schema for the type used to refer to attachments
					from the SOAP envelope is:</p>
            <pre class="specification">
&lt;?xml version="1.0" encoding="UTF-8" ?&gt; 
&lt;xsd:schema targetNamespace="http://ws-i.org/profiles/basic/1.1/xsd" 
            xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt; 
  &lt;xsd:simpleType name="swaRef"&gt; 
    &lt;xsd:restriction base="xsd:anyURI" /&gt; 
  &lt;/xsd:simpleType&gt; 
&lt;/xsd:schema&gt;</pre>
            <p>As a convenience, WS-I has published the schema for this schema type at: 
<a class="offsite" href="http://ws-i.org/profiles/basic/1.1/swaref.xsd">http://ws-i.org/profiles/basic/1.1/swaref.xsd</a>
            </p>
            <p>
Please note that there is no way in a WSDL1.1 description to correlate an
attachment reference (defined using swaRef) with an attachment (defined using
a wsdl:part bound to mime:content). As a best practice, the Profile recommends
that when <code>ref:swaRef</code> is used, the corresponding attachment
should not be described, and vice versa.
</p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2940">R2940</a>
            </span> 
				In a DESCRIPTION, a <code>wsdl:part</code> defined with the <code>ref:swaRef</code> 
				schema type SHOULD only be bound to a <code>soapbind:body</code>, or a 
				<code>soapbind:header</code> in a MIME binding.
				</p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2928">R2928</a>
            </span> 
				In an ENVELOPE, a URI reference that is typed using the <code>ref:swaRef</code> 
				schema type MUST resolve to a MIME part in the same message as the envelope.
			    </p>
         <div class="explanation">
            <p>The swaRef type can be used to represent a reference to an attachment
either as an element (as shown in the example below) or an attribute. There is no preferred approach.</p>
         </div>
         <p class="example-banner">For example,</p>
         <div class="example">
            <p class="correct">CORRECT: </p>
            <p>WSDL description for rpc/literal binding:</p>
            <pre>&lt;?xml version="1.0"?&gt;
&lt;wsdl:definitions xmlns:types="http://example.com/mimetypes"
                  xmlns:ref="http://ws-i.org/profiles/basic/1.1/xsd"
                  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                  xmlns:soapbind="http://schemas.xmlsoap.org/wsdl/soap/"
                  xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
                  xmlns:mime="http://schemas.xmlsoap.org/wsdl/mime/"
                  targetNamespace="http://example.com/mimewsdl"
                  xmlns:tns="http://example.com/mimewsdl"&gt;

    &lt;wsdl:types&gt;
        &lt;xsd:schema targetNamespace="http://example.com/mimetypes"
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt;

            &lt;xsd:import namespace="http://ws-i.org/profiles/basic/1.1/xsd" /&gt;
            &lt;xsd:complexType name="ClaimDetailType"&gt;
                &lt;xsd:sequence&gt;
                    &lt;xsd:element name="Name" type="xsd:string"/&gt;
                    &lt;xsd:element name="ClaimForm" type="ref:swaRef"/&gt;
                &lt;/xsd:sequence&gt;
            &lt;/xsd:complexType&gt;
        &lt;/xsd:schema&gt;
    &lt;/wsdl:types&gt;

    &lt;wsdl:message name="ClaimIn"&gt;
        &lt;wsdl:part name="ClaimDetail" type="types:ClaimDetailType"/&gt;
        <strong>&lt;wsdl:part name="ClaimPhoto" type="xsd:base64Binary"/&gt;</strong>
    &lt;/wsdl:message&gt;

    &lt;wsdl:message name="ClaimOut"&gt;
        &lt;wsdl:part name="ClaimRefNo" type="xsd:string"/&gt;
    &lt;/wsdl:message&gt;

    &lt;wsdl:portType name="ClaimPortType"&gt;
        &lt;wsdl:operation name="SendClaim"&gt;
            &lt;wsdl:input message="tns:ClaimIn"/&gt;
            &lt;wsdl:output message="tns:ClaimOut"/&gt;
        &lt;/wsdl:operation&gt;
    &lt;/wsdl:portType&gt;

    &lt;wsdl:binding name="ClaimBinding" type="tns:ClaimPortType"&gt;
        &lt;soapbind:binding style="rpc" 
                          transport="http://schemas.xmlsoap.org/soap/http"/&gt;
        &lt;wsdl:operation name="SendClaim"&gt;
            &lt;soapbind:operation soapAction="http://example.com/soapaction"/&gt;
            &lt;wsdl:input&gt;
                &lt;mime:multipartRelated&gt;
                    &lt;mime:part&gt;
                        &lt;soapbind:body use="literal" 
                                       parts="ClaimDetail" 
                                       namespace="http://example.com/mimetypes"/&gt;
                    &lt;/mime:part&gt;
                    &lt;mime:part&gt;
                        <strong>&lt;mime:content part="ClaimPhoto" 
                                      type="image/jpeg"/&gt;</strong>
                    &lt;/mime:part&gt;
                &lt;/mime:multipartRelated&gt;
            &lt;/wsdl:input&gt;
            &lt;wsdl:output&gt;
                &lt;soapbind:body use="literal" 
                               namespace="http://example.com/mimetypes"/&gt;
            &lt;/wsdl:output&gt;
        &lt;/wsdl:operation&gt;
 &lt;/wsdl:binding&gt;
&lt;/wsdl:definitions&gt;
</pre>
            <p>Resulting input message for "SendClaim" rpc/literal operation:</p>
            <pre>MIME-Version: 1.0
Content-Type: Multipart/Related; boundary=MIME_boundary; type=text/xml;
        start="&lt;rootpart@example.com&gt;"
Content-Description: This is the optional message description.

--MIME_boundary
Content-Type: text/xml; charset=UTF-8
Content-Transfer-Encoding: 8bit
Content-ID: &lt;rootpart@example.com&gt;

&lt;?xml version='1.0' ?&gt;
&lt;SOAP-ENV:Envelope 
xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;SOAP-ENV:Body xmlns:types="http://example.com/mimetypes"&gt;
        &lt;types:SendClaim&gt;
            &lt;ClaimDetail&gt;
                &lt;Name&gt;...&lt;/Name&gt;
                &lt;ClaimForm&gt;cid:claimform@example.com&lt;/ClaimForm&gt;
            &lt;/ClaimDetail&gt;
        &lt;/types:SendClaim&gt;
    &lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;

--MIME_boundary
Content-Type: text/xml
Content-Transfer-Encoding: 8bit
Content-ID: &lt;claimform@example.com&gt;

...claim form referenced by the swaRef...

--MIME_boundary
Content-Type: image/jpeg
Content-Transfer-Encoding: binary
<strong>Content-ID: &lt;ClaimPhoto=4d7a5fa2-14af-451c-961b-5c3abf786796@example.com&gt;</strong>

...MIME attachment of binary photograph...
--MIME_boundary--</pre>
            <p>Resulting output message for "SendClaim" rpc/literal operation:</p>
            <pre>MIME-Version: 1.0
Content-Type: text/xml; charset=UTF-8

&lt;?xml version='1.0' ?&gt;
&lt;SOAP-ENV:Envelope 
xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;SOAP-ENV:Body xmlns:types="http://example.com/mimetypes"&gt;
        &lt;types:SendClaimResponse&gt;
            &lt;ClaimRefNo&gt;.............................&lt;/ClaimRefNo&gt;
        &lt;/types:SendClaimResponse&gt;
    &lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;</pre>
         </div>
         <div class="example">
            <p class="correct">CORRECT: </p>
            <p>WSDL description for document/literal binding:</p>
            <pre>&lt;?xml version="1.0" encoding="utf-8" ?&gt; 
&lt;wsdl:definitions xmlns:types="http://example.com/mimetypes"
                  xmlns:ref="http://ws-i.org/profiles/basic/1.1/xsd"
                  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                  xmlns:soapbind="http://schemas.xmlsoap.org/wsdl/soap/"
                  xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
                  xmlns:mime="http://schemas.xmlsoap.org/wsdl/mime/"
                  targetNamespace="http://example.com/mimewsdl"
                  xmlns:tns="http://example.com/mimewsdl"&gt;

    &lt;wsdl:types&gt;
        &lt;xsd:schema targetNamespace="http://example.com/mimetypes"
                xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt;

            &lt;xsd:import namespace="http://ws-i.org/profiles/basic/1.1/xsd" /&gt;
            &lt;xsd:element name="ClaimDetail" type="types:ClaimDetailType"/&gt;
            &lt;xsd:complexType name="ClaimDetailType"&gt;
                &lt;xsd:sequence&gt;
                    &lt;xsd:element name="Name" type="xsd:string"/&gt;
                    &lt;xsd:element name="ClaimForm" type="ref:swaRef"/&gt;
                &lt;/xsd:sequence&gt;
            &lt;/xsd:complexType&gt;
            &lt;xsd:element name="ClaimRefNo" type="xsd:string"/&gt;
        &lt;/xsd:schema&gt;
    &lt;/wsdl:types&gt;

    &lt;wsdl:message name="ClaimIn"&gt;
        &lt;wsdl:part name="body" element="types:ClaimDetail"/&gt;
        <strong>&lt;wsdl:part name="ClaimPhoto" type="xsd:base64Binary"/&gt;</strong>
    &lt;/wsdl:message&gt;

    &lt;wsdl:message name="ClaimOut"&gt;
        &lt;wsdl:part name="out" element="types:ClaimRefNo"/&gt;
    &lt;/wsdl:message&gt;

    &lt;wsdl:portType name="ClaimPortType"&gt;
        &lt;wsdl:operation name="SendClaim"&gt;
            &lt;wsdl:input message="tns:ClaimIn"/&gt;
            &lt;wsdl:output message="tns:ClaimOut"/&gt;
        &lt;/wsdl:operation&gt;
    &lt;/wsdl:portType&gt;

    &lt;wsdl:binding name="ClaimBinding" type="tns:ClaimPortType"&gt;
        &lt;soapbind:binding style="document" 
                          transport="http://schemas.xmlsoap.org/soap/http"/&gt;
        &lt;wsdl:operation name="SendClaim"&gt;
            &lt;soapbind:operation soapAction="http://example.com/soapaction"/&gt;
            &lt;wsdl:input&gt;
                &lt;mime:multipartRelated&gt;
                    &lt;mime:part&gt;
                        &lt;soapbind:body parts="body" use="literal"/&gt;
                    &lt;/mime:part&gt;
                    &lt;mime:part&gt;
                        <strong>&lt;mime:content part="ClaimPhoto" type="image/jpeg"/&gt;</strong>
                    &lt;/mime:part&gt;
                &lt;/mime:multipartRelated&gt;
            &lt;/wsdl:input&gt;
            &lt;wsdl:output&gt;
                &lt;soapbind:body use="literal" /&gt;
            &lt;/wsdl:output&gt;
        &lt;/wsdl:operation&gt;
    &lt;/wsdl:binding&gt;
&lt;/wsdl:definitions&gt;</pre>
            <p>Resulting input message for "SendClaim" document/literal operation:</p>
            <pre>MIME-Version: 1.0
Content-Type: Multipart/Related; boundary=MIME_boundary; type=text/xml;
        start="&lt;rootpart@example.com&gt;"
Content-Description: This is the optional message description.

--MIME_boundary
Content-Type: text/xml; charset=UTF-8
Content-Transfer-Encoding: 8bit
Content-ID: &lt;rootpart@example.com&gt;

&lt;?xml version='1.0' ?&gt;
&lt;SOAP-ENV:Envelope 
xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;SOAP-ENV:Body xmlns:types="http://example.com/mimetypes"&gt;
            &lt;types:ClaimDetail&gt;
                &lt;Name&gt;...&lt;/Name&gt;
                &lt;ClaimForm&gt;cid:claimform@example.com&lt;/ClaimForm&gt;
            &lt;/types:ClaimDetail&gt;
    &lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;

--MIME_boundary
Content-Type: text/xml
Content-Transfer-Encoding: 8bit
Content-ID: &lt;claimform@example.com&gt;

...claim form referenced by the swaRef...

--MIME_boundary
Content-Type: image/jpeg
Content-Transfer-Encoding: binary
<strong>Content-ID: &lt;ClaimPhoto=4d7a5fa2-14af-451c-961b-5c3abf786796@example.com&gt;</strong>

...MIME attachment of binary photograph...
--MIME_boundary--</pre>
            <p>Resulting output message for "SendClaim" document/literal operation:</p>
            <pre>MIME-Version: 1.0
Content-Type: text/xml; charset=UTF-8

&lt;?xml version='1.0' ?&gt;
&lt;SOAP-ENV:Envelope 
xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&gt;
    &lt;SOAP-ENV:Body xmlns:types="http://example.com/mimetypes"&gt;
        &lt;types:ClaimRefNo&gt;...............&lt;/types:ClaimRefNo&gt;
    &lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;</pre>
         </div>
      </div>
      <div class="refinement">
         <h4 id="Specifying_Root_Part">4.5 Specifying Root Part</h4>
         <div class="rationale">
            <p>
					SOAP Messages with Attachments requires that the root part of the multipart/related package must contain the SOAP envelope,
but the WSDL MIME binding is unclear on how this is described.
					</p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2911">R2911</a>
            </span> 
					A <code>mime:multipartRelated</code> element in a DESCRIPTION MUST contain exactly one <code>mime:part</code> element, amongst its child <code>mime:part</code> elements, containing a <code>soapbind:body</code> child.
					<span class="statement-type">C</span>
         </p>
         <div class="explanation">
            <p>
					In a WSDL MIME binding, the <code>mime:part</code> that contains a <code>soapbind:body</code> describes the root MIME part required by SOAP Messages with Attachments.
					</p>
         </div>
         <p class="example-banner">For example,</p>
         <div class="example">
            <p class="incorrect">INCORRECT: </p>
            <p>
               <pre>&lt;wsdl:definitions xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
                  xmlns:soapbind="http://schemas.xmlsoap.org/wsdl/soap/"
                  xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
                  xmlns:mime="http://schemas.xmlsoap.org/wsdl/mime/" 
                  targetNamespace="http://example.com/mimewsdl"
                  xmlns:tns="http://example.com/mimewsdl"&gt;

...

    &lt;wsdl:binding name="aBinding" type="tns:aPortType"&gt;
        &lt;soapbind:binding style="rpc" transport="http://schemas.xmlsoap.org/soap/http"/&gt;
        &lt;wsdl:operation name="anOperation"&gt;
            &lt;soap:operation soapAction="http://example.com/soapaction"/&gt;
            &lt;wsdl:input&gt;
                &lt;mime:multipartRelated&gt;
                    &lt;mime:part&gt;
                        &lt;soapbind:body use="literal" 
                                       namespace="http://example.com/mimetypes"/&gt;
                    &lt;/mime:part&gt;
                    &lt;mime:part&gt;
                        &lt;soapbind:body use="literal" 
                                       namespace="http://example.com/mimetypes"/&gt;
                    &lt;/mime:part&gt;
                &lt;/mime:multipartRelated&gt;
            &lt;/wsdl:input&gt;
            &lt;wsdl:output&gt;
 ...
             &lt;/wsdl:output&gt;
        &lt;/wsdl:operation&gt;
 &lt;/wsdl:binding&gt;
&lt;/wsdl:definitions&gt;</pre>
            </p>
         </div>
      </div>
      <div class="refinement">
         <h4 id="Specifying_SOAP_Headers_in_Root_Part">4.6 Specifying SOAP Headers in Root Part</h4>
         <div class="rationale">
            <p>The WSDL1.1 specification does not specify whether the <code>soapbind:header</code> element is permitted as a child of the <code>mime:part</code> element along with the <code>soapbind:body</code> element. The SOAP Messages with Attachments specification requires that the root part of the multipart message contain the SOAP envelope, but the WSDL1.1 specification is unclear as to how to describe this part. Since the WSDL1.1 specification specifies that the <code>mime:part</code> element is used to describe each part of a multipart/related message, the contents of the <code>mime:part</code> element that represents the root part of the multipart message must therefore fully describe the SOAP envelope, including the <code>soapbind:body</code> and <code>soapbind:header</code> elements just as they would be used in the absence of the WSDL MIME binding extension.</p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2905">R2905</a>
            </span> 
					The <code>soapbind:header</code> element in a DESCRIPTION MAY be included as a child of the <code>mime:part</code> element.
					<span class="statement-type">C</span>
         </p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2906">R2906</a>
            </span> 
					A <code>soapbind:header</code> element in a DESCRIPTION MUST NOT be included in a <code>mime:part</code> that is not the root part, containing the <code>soapbind:body</code> element.
					<span class="statement-type">C</span>
         </p>
         <p class="example-banner">For example,</p>
         <div class="example">
            <p class="incorrect">INCORRECT: </p>
            <p>
               <pre>&lt;wsdl:definitions xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
                  xmlns:soapbind="http://schemas.xmlsoap.org/wsdl/soap/"
                  xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"
                  xmlns:mime="http://schemas.xmlsoap.org/wsdl/mime/" 
                  targetNamespace="http://example.com/mimewsdl"
                  xmlns:tns="http://example.com/mimewsdl"&gt;

...

    &lt;wsdl:binding name="aBinding" type="tns:aPortType"&gt;
        &lt;soapbind:binding style="rpc" 
                          transport="http://schemas.xmlsoap.org/soap/http"/&gt;
        &lt;wsdl:operation name="anOperation"&gt;
            &lt;soap:operation soapAction="http://example.com/soapaction"/&gt;
            &lt;wsdl:input&gt;
                &lt;mime:multipartRelated&gt;
                    &lt;mime:part&gt;
                        &lt;soapbind:body use="literal" 
                                       namespace="http://example.com/mimetypes"/&gt;
                    &lt;/mime:part&gt;
                    &lt;mime:part&gt;
                        &lt;soapbind:header message="tns:headerMessage" 
                                         part="aPart" 
                                         use="literal"/&gt;
                    &lt;/mime:part&gt;
                &lt;/mime:multipartRelated&gt;
            &lt;/wsdl:input&gt;
            &lt;wsdl:output&gt;
 ...
             &lt;/wsdl:output&gt;
        &lt;/wsdl:operation&gt;
 &lt;/wsdl:binding&gt;
&lt;/wsdl:definitions&gt;</pre>
            </p>
         </div>
      </div>
      <div class="refinement">
         <h4 id="MIME_Binding_Schema_Fixes">4.7 MIME Binding Schema Fixes</h4>
         <div class="rationale">
            <p>There are a number of discrepancies between the WSDL1.1 specification and the WSDL MIME binding schema. In the case of the <code>mime:part</code> element, the schema incorrectly defines it as a local element declaration and it incorrectly adds a name attribute that is not described in the WSDL1.1 specification.</p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2907">R2907</a>
            </span> 
					MIME parts in a DESCRIPTION MUST be defined using an element with a local name of <code>part</code> in the namespace of the WSDL MIME Binding extension.
					<span class="statement-type">C</span>
         </p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2908">R2908</a>
            </span> 
					The <code>mime:part</code> element in a DESCRIPTION MUST NOT have a <code>name</code> attribute.
					</p>
         <div class="explanation">
            <p>
					These and other fixes to the WSDL MIME Binding extension schema are reflected in the revised schema located at http://schemas.xmlsoap.org/wsdl/mime/xxx.xsd.
					</p>
         </div>
      </div>
      <div class="refinement">
         <h4 id="Specifying_Alternate_Media_Types">4.8 Specifying Alternate Media Types</h4>
         <div class="rationale">
            <p>
					Multiple <code>mime:content</code> element children of a <code>mime:part</code> are considered alternate acceptable serializations of the referenced <code>wsdl:part</code>.
					</p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2909">R2909</a>
            </span> 
					Multiple <code>mime:content</code> child elements of a <code>mime:part</code> element in a DESCRIPTION MUST reference the same <code>wsdl:part</code>.
					</p>
         <p class="example-banner">For example,</p>
         <div class="example">
            <p class="incorrect">INCORRECT: </p>
            <pre>&lt;mime:part&gt;
  &lt;mime:content part="ns:foo" type="image/jpeg"/&gt;
  &lt;mime:content part="ns:bar" type="image/jpeg"/&gt;
&lt;/mime:part&gt;</pre>
         </div>
         <div class="example">
            <p class="correct">CORRECT: </p>
            <pre>&lt;mime:part&gt;
  &lt;mime:content part="ns:foo" type="image/jpeg"/&gt;
  &lt;mime:content part="ns:foo" type="image/gif"/&gt;
&lt;/mime:part&gt;</pre>
         </div>
      </div>
      <div class="refinement">
         <h4 id="WSDL_Parts">4.9 WSDL Parts</h4>
         <p class="statement">
            <span class="statement-id">
               <a name="R2910">R2910</a>
            </span> 
                                        A <code>mime:content</code> in a DESCRIPTION MUST reference a <code>wsdl:part</code> that is defined using either the <code>type</code> attribute or the <code>element</code> attribute.
					</p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2942">R2942</a>
            </span> 
                                        In a MESSAGE, a message part bound to a <code>mime:content</code> that refers to global element declaration (via the element attribute of the <code>wsdl:part</code> element) MUST be serialized within the MIME part as a serialization of an XML infoset whose root element is described by the referenced element.
                                </p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2943">R2943</a>
            </span> 
                   In a DESCRIPTION, if a message part is bound to a <code>mime:content</code> that refers 
                   to a type (via the type attribute of the <code>wsdl:part</code> element), then the value 
                   of that type attribute MUST be ignored in favor of media type of the type attribute of 
                   the <code>mime:content</code> element. 
                                </p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2944">R2944</a>
            </span> 
                                        In a DESCRIPTION, if a <code>wsdl:part</code> element refers to a global element declaration (via the element attribute of the <code>wsdl:part</code> element) then the value of the type attribute of a <code>mime:content</code> element that binds that part MUST be a content type suitable for carrying an XML serialization.
                                </p>
      </div>
      <div class="refinement">
         <h4 id="Ordering_of_Parts">4.10 Ordering of Parts</h4>
         <p class="statement">
            <span class="statement-id">
               <a name="R2912">R2912</a>
            </span> 
					A RECEIVER MUST NOT assume that the order of <code>mime:part</code> elements specified in a WSDL description is the same as the order of MIME parts in the message.
					</p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2947">R2947</a>
            </span> 
In a DESRIPTION, a <code>mime:part</code> element that contains a <code>soapbind:body</code> child element MAY appear in any position amongst the other child elements of a <code>mime:multipartRelated</code> element.
				</p>
         <div class="explanation">
            <p>
					The order of MIME parts specified in a WSDL description must be considered independent of the order of MIME parts in the message.
					</p>
         </div>
      </div>
      <div class="refinement">
         <h4 id="Sending_Fault_Messages">4.11 Sending Fault Messages</h4>
         <p class="statement">
            <span class="statement-id">
               <a name="R2913">R2913</a>
            </span> 
					A Fault MESSAGE MAY be serialized as either <code>text/xml</code> or 
<code>multipart/related</code>, if the <code>wsdl:output</code> child element of the corresponding 
binding operation in a description has a child <code>mime:multipartRelated</code> 
element.
				</p>
      </div>
      <div class="refinement">
         <h4 id="Describing_Faults">4.12 Describing Faults</h4>
         <p class="statement">
            <span class="statement-id">
               <a name="R2930">R2930</a>
            </span> 
					A <code>wsdl:fault</code> element in a DESCRIPTION MUST NOT have <code>mime:multipartRelated</code> element as its child element.
					</p>
      </div>
      <div class="refinement">
         <h4 id="Sending_Additional_Parts_Not_Described_in_WSDL">4.13 Sending Additional Parts Not Described in WSDL</h4>
         <div class="rationale">
            <p>Additional MIME parts may be included in the message beyond those described in the WSDL, and their position or order within the MIME package is not important.</p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2923">R2923</a>
            </span> 
            A SENDER MAY send non-root MIME parts not described in the 
            WSDL MIME binding.
          <span class="statement-type">C</span>
         </p>
         <p class="statement">
            <span class="statement-id">
               <a name="R2926">R2926</a>
            </span> 
            A MESSAGE MUST include all of the MIME parts described by its WSDL MIME binding.
            				</p>
      </div>
      <div class="refinement">
         <h4 id="Conformance_of_SOAP_Messages">4.14 Conformance of SOAP Messages</h4>
         <div class="rationale">
            <p>
Profile conformance criteria for the conformance target ENVELOPE only apply to the SOAP envelope contained in the root part of the MIME package. SOAP envelopes in non-root parts may be described in a WSDL description as attachments,  in which case, conformance criteria for non-root parts listed in the WSDL description apply.
         				 </p>
         </div>
         <p class="statement">
            <span class="statement-id">
               <a name="R2927">R2927</a>
            </span> 
            The root part of a MESSAGE MUST be conformant with all the 
            requirements for an envelope in version 1.1 of the Basic Profile.
          </p>
      </div>
      <h2 id="references">Appendix A: Referenced Specifications</h2>
      <p>The following specifications' requirements are incorporated
				into the Profile by reference, except where superseded by the
				Profile:</p>
      <ul>
         <li>
            <a class="offsite" href="http://www.w3.org/TR/SOAP-attachments#SOAPMultipart">SOAP Messages with Attachments</a>
         </li>
         <li>
            <a class="offsite" href="http://www.w3.org/TR/REC-xml">Extensible Markup Language (XML) 1.0 (Second Edition)</a>
         </li>
         <li>
            <a class="offsite" href="http://www.w3.org/TR/1999/REC-xml-names-19990114">Namespaces in XML 1.0</a>
         </li>
         <li>
            <a class="offsite" href="http://ietf.org/rfc/rfc2557">RFC2557 MIME Encapsulation of Aggregate Documents, such as HTML (MHTML)</a>
         </li>
         <li>
            <a class="offsite" href="http://ietf.org/rfc/rfc2045">RFC2045 Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies</a>
         </li>
         <li>
            <a class="offsite" href="http://ietf.org/rfc/rfc2046">RFC2046 Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types</a>
         </li>
         <li>
            <a class="offsite" href="http://ietf.org/rfc/rfc2392">RFC2392 Content-ID and Message-ID Uniform Resource Locators</a>
         </li>
         <li>
            <a class="offsite" href="http://www.w3.org/TR/2001/NOTE-wsdl-20010315#_Toc492291084">WSDL 1.1, Section 5.0</a>
         </li>
      </ul>
      <h2 id="points">Appendix B: Extensibility Points</h2>
      <p>This section identifies extensibility points, as defined in
				"Scope of the Profile," for the Profile's component
				specifications.</p>
      <p>These mechanisms are out of the scope
				of the Profile; their use may affect interoperability, and may
				require private agreement between the parties to a Web
				service.</p>
      <p>In <a class="offsite" href="http://www.w3.org/TR/SOAP-attachments#SOAPMultipart">SOAP Messages with Attachments:</a>
      </p>
      <ul>
         <li id="E0001">
            <span class="statement-id">E0001</span> - <strong>MIME parts</strong> - SOAP Messages with Attachments places no restriction on the type of any non-root part in a multipart/related message.</li>
      </ul>
      <h2 id="defs">Appendix C: Defined Terms</h2>
      <p>The following list of terms have specific
                    definitions that are authoritative for this
                    profile:</p>
      <dl>
         <dt>content-id part encoding</dt>
         <dd>
            <div class="definition">
               <p>The "content-id part encoding" consists of the concatenation of:</p>
               <ul>
                  <li>The value of the name attribute of the <code>wsdl:part</code> element 
referenced by the <code>mime:content</code>, in which characters disallowed 
in content-id headers (non-ASCII characters as represented by code points above 
0x7F) are escaped as follows:
<ul>
                        <li>Each disallowed character is converted to UTF-8 as one or more bytes.</li>
                        <li>Any bytes corresponding to a disallowed character are escaped with the URI 
escaping mechanism (that is, converted to %HH, where HH is the hexadecimal 
notation of the byte value).</li>
                        <li>The original character is replaced by the resulting character sequence.</li>
                     </ul>
                  </li>
                  <li>The character '=' (0x3D).</li>
                  <li>A globally unique value such as a UUID.</li>
                  <li>The character '@' (0x40).</li>
                  <li>A valid domain name under the authority of the entity constructing the message.</li>
               </ul>
            </div>
         </dd>
      </dl>
      <h2 id="acks">Appendix D: Acknowledgements</h2>
      <p>This document is the work of the WS-I Basic Profile Working Group, whose members have included:</p>
      <p>
Mark Allerton (Crystal Decisions Corp), 
Steve Anderson (OpenNetwork), 
George Arriola (Talking Blocks, Inc.), 
Siddharth Bajaj (Verisign), 
Keith Ballinger (Microsoft Corp.), 
David Baum (Kantega AS), 
Ilya Beyer (KANA), 
Rich Bonneau (IONA Technologies), 
Don Box (Microsoft Corp.), 
Andrew Brown (Verisign), 
Heidi Buelow (Quovadx), 
David Burdett (Commerce One, Inc.), 
Luis Felipe Cabrera (Microsoft Corp.), 
Maud Cahuzac (France Telecom), 
Mike Chadwick (Kaiser Permanente), 
Martin Chapman (Oracle Corporation), 
Richard Chennault (Kaiser Permanente), 
Roberto Chinnici (Sun Microsystems), 
Dipak Chopra (SAP AG), 
Jamie Clark (OASIS), 
David Cohen (Merrill Lynch), 
Ugo Corda (SeeBeyond Tech), 
Paul Cotton (Microsoft Corp.), 
Joseph Curran (Accenture), 
Alex Deacon (Verisign), 
Mike DeNicola (Fujitsu Limited), 
Paul Downey (BT Group), 
Jacques Durand (Fujitsu Limited), 
Aladin Eajani (Hummingbird, Ltd.), 
Michael Eder (Nokia), 
Dave Ehnebuske (IBM), 
Mark Ericson (Mindreef Inc), 
Colleen Evans (Microsoft Corp.), 
Tim Ewald (Microsoft Corp.), 
Chuck Fay (FileNET Corp.), 
Chris Ferris (IBM), 
Daniel Foody (Actional Corporation), 
Satoru Fujita (NEC Corporation), 
Shishir Garg (France Telecom), 
Yaron Goland (BEA Systems Inc), 
Marc Goodner (SAP AG), 
Pierre Goyette (Hummingbird, Ltd.), 
Hans Granqvist (Verisign), 
Martin Gudgin (Microsoft Corp.), 
Marc Hadley (Sun Microsystems), 
Norma Hale (Webify Solutions Inc), 
Bob Hall (Unisys Corporation), 
Scott Hanselman (Corillian), 
Muir Harding (Autodesk Inc.), 
Loren Hart (Verisign), 
Andrew Hately (IBM), 
Harry Holstrom (Accenture), 
Lawrence Hsiung (Quovadx), 
Hemant Jain (Tata Consultancy), 
Steve Jenisch (SAS Institute), 
Erik Johnson (Epicor Software), 
Bill Jones (Oracle Corporation), 
Anish Karmarkar (Oracle Corporation), 
Dana Kaufman (Forum Systems), 
Takahiro Kawamura (Toshiba), 
Oldre Kepka (Systinet), 
Bhushan Khanal (WRQ Inc.), 
Sandy Khaund (Microsoft Corp.), 
Jacek Kopecky (Systinet), 
Sanjay Krishnamurthi (Informatica), 
Sundar Krishnamurthy (Verisign), 
Eva Kuiper (Hewlett-Packard), 
Sunil Kunisetty (Oracle Corporation), 
Christopher Kurt (Microsoft Corp.), 
Lars Laakes (Microsoft Corp.), 
Canyang Kevin Liu (SAP AG), 
Ted Liu (webMethods Inc.), 
Donna Locke (Oracle Corporation), 
Brad Lund (Intel), 
Michael Mahan (Nokia), 
Ron Marchi (EDS), 
Jonathan Marsh (Microsoft Corp.), 
Eric Matland (Hummingbird, Ltd.), 
Barbara McKee (IBM), 
Derek Medland (Hummingbird, Ltd.), 
David Meyer (Plumtree Software Inc.), 
Jeff Mischkinsky (Oracle Corporation), 
Ray Modeen (MITRE Corp.), 
Tom Moog (Sarvega Inc.), 
Gilles Mousseau (Hummingbird, Ltd.), 
Greg Mumford (MCI), 
Jim Murphy (Mindreef Inc), 
Bryan Murray (Hewlett-Packard), 
Richard Nikula (BMC Software, Inc.), 
Eisaku Nishiyama (Hitachi, Ltd.), 
Mark Nottingham (BEA Systems Inc), 
David Orchard (BEA Systems Inc), 
Vivek Pandey (Sun Microsystems), 
Jesse Pangburn (Quovadx), 
Eduardo Pelegri-Llopart (Sun Microsystems), 
Mike Perham (Webify Solutions Inc), 
Eric Rajkovic (Oracle Corporation), 
Shaan Razvi (MITRE Corp.), 
Rimas Rekasius (IBM), 
Mark Richards (Fidelity), 
Graeme Riddell (Bowstreet), 
Sam Ruby (IBM), 
Tom Rutt (Fujitsu Limited), 
Saikat Saha (Commerce One, Inc.), 
Roger Sanborn (Crystal Decisions Corp), 
Matt Sanchez (Webify Solutions Inc), 
Krishna Sankar (Cisco Systems Inc.), 
Jeffrey Schlimmer (Microsoft Corp.), 
Don Schricker (Micro Focus), 
Dave Seidel (Mindreef Inc), 
AKIRA SHIMAYA (NTT), 
David Shoaf (Hewlett-Packard), 
Yasser Shohoud (Microsoft Corp.), 
David Smiley (Ascential Software), 
Seumas Soltysik (IONA Technologies), 
Joseph Stanko (Plumtree Software Inc.), 
Andrew Stone (Accenture), 
Julie Surer (MITRE Corp.), 
YASUO TAKEMOTO (NTT), 
Nobuyoshi Tanaka (NEC Corporation), 
Jorgen Thelin (Microsoft Corp.), 
Sameer Vaidya (Talking Blocks, Inc.), 
William Vambenepe (Hewlett-Packard), 
Claus von Riegen (SAP AG), 
Rick Weil (Eastman Kodak Company), 
Scott Werden (WRQ Inc.), 
Ajamu Wesley (IBM), 
Ian White (Micro Focus), 
Dave Wilkinson (Vignette), 
Mark Wood (Eastman Kodak Company), 
Prasad Yendluri (webMethods Inc.), and
Brandon Zhu (NetManage Inc).
</p>
   </body>
</html>