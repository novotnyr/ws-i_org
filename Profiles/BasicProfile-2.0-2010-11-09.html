<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content=
"HTML Tidy for Cygwin (vers 1st September 2004), see www.w3.org" />
<title>Basic Profile - Version 2.0 (Final)</title>

<style type="text/css">
/*<![CDATA[*/
                     body { color: black; background: white; font-family: sans-serif; margin: 16pt 24pt; }
                     dt { font-style: italic; padding-top: 0.5em; }
                     h4 { font-weight: normal; font-style: italic; font-size: 0.8em; margin-bottom: 0; }
                     .refinement { margin: 18pt 0em; }
                    .assertion-id { background-color: #faa; font-style: normal; padding: 0em 0.3em; }
                    .tanalysis-id { background-color: #faa; font-style: normal; padding: 0em 0.3em; }
                    .taglossary-id { background-color: #ccf; font-style: normal; padding: 0em 0.3em; }
                    .tbrnotes-id { background-color: #ccf; font-style: normal; padding: 0em 0.3em; }
                    .statement { font-style: italic; margin: 0.5em 5.5em; text-indent: -4em; }
                    .statement-id { background-color: #ffa; font-style: normal; padding: 0em 0.3em; }
                                        .statement-target { font-weight: bold; font-style: normal;  }
                    .statement-type { background-color: #ccf; font-style: normal; padding: 0em 0.3em; font-size: 0.7em; vertical-align: text-top; }
                    .compat-type { background-color: #cff; font-style: normal; padding: 0em 0.3em; font-size: 0.7em; vertical-align: text-top; }
                    .testable-type { background-color: #cfc; font-style: normal; padding: 0em 0.3em; font-size: 0.7em; vertical-align: text-top; }
                    .claim-type { background-color: pink; font-style: normal; padding: 0em 0.3em; font-size: 0.7em; vertical-align: text-top; }
                    .testref-type { font-style: normal; padding: 0em 0.3em; font-size: 0.7em; vertical-align: text-top; }
                    .relnotesref-type { background-color: #cff; font-style: normal; padding: 0em 0.3em; font-size: 0.7em; vertical-align: text-top; }
                    .glossaryref-type { background-color: #cff; font-style: normal; padding: 0em 0.3em; font-size: 0.7em; vertical-align: text-top; }
                    .statement-origin { background-color: #fcc; font-style: normal; padding: 0em 0.3em; font-size: 0.7em; vertical-align: text-top; }
                    .assertion { background-color: #eee; }
                    .tanalysis { background-color: #ffa; }
                    .taglossary { background-color: #ccf; }
                    .tablernotes { background-color: #ffa; }
                    .rationale { margin: 0.5em 0em;  }
                    .explanation { margin: 0.5em 0em; }
                    .definition { margin: 0.5em 5.5em;}
                    .explanation p, .rationale p { margin: 0.25em 0; }
                    .practice { background-color: green; }
                    .example { background-color: #eee; margin: 0.5em 2em; padding: 0.5em; }
                    .example-banner { margin: 0; }
                    .example pre { margin: 0; }
                    .correct, .incorrect { font-family: sans-serif; font-weight: bold; font-size: 0.9em; margin: 0; }
                    .correct { color: #090; }
                    .incorrect { color: #900; }
                    .specification { padding: 0.5em; background-color: #ffa; margin: 0.5em 2em; }
                    .ednote { margin: 1.2em; padding: 1.2em; background-color: #fcc; }
                    .note { background-color: #fcc; margin-left: 1.5em; }
                    .toc { margin-left: 2em; }
                    .subtoc { margin-left: 3em; }
                    .subsubtoc { margin-left: 4em; }
                    .chg { background-color: orange; text-decoration: underline; }
                    .add { background-color: green; text-decoration: underline; }
                    .del { background-color: red; text-decoration: line-through; }
                    @media print {
                        a.offsite:after { content: " [" attr(href) "] "; font-size: 85%; font-weight: lighter; }
                    }
                    [id]:hover:after { content: " #" attr(id) " "; font-size: 50%; color: #ccc; text-decoration: none; }
/*]]>*/
</style>

<script type="text/javascript">
//<![CDATA[
                function toggle(s) {
  var id = s.href.match(/#(\w.+)/)[1];
  var el = document.getElementById(id);
  if (el.style.display == 'block')
    el.style.display = 'none';
  else
    el.style.display = 'block';
}
//]]>
</script>
</head>
<body>
<div class="head">
<p><a href="http://www.ws-i.org/"><img alt="WS-I" border="0" width=
"107" height="88" src=
"http://www.ws-i.org/images/WS-I-logo.gif" /></a></p>
<h1>Basic Profile Version 2.0</h1>
<h2>Final Material</h2>
<h2>2010-11-09</h2>
<dl>
<dt>This version:</dt>
<dd><a href=
"http://www.ws-i.org/Profiles/BasicProfile-2.0-2010-11-09.html">http://www.ws-i.org/Profiles/BasicProfile-2.0-2010-11-09.html</a></dd>
<dt>Latest version:</dt>
<dd><a href=
"http://www.ws-i.org/Profiles/BasicProfile-2.0.html">http://www.ws-i.org/Profiles/BasicProfile-2.0.html</a></dd>
<dt>Errata for this Version:</dt>
<dd><a href=
"http://www.ws-i.org/Profiles/BasicProfile-2.0-errata-2010-11-09.html">
http://www.ws-i.org/Profiles/BasicProfile-2.0-errata-2010-11-09.html</a></dd>
<dt>Editors:</dt>
<dd>Robert Chumbley , IBM</dd>
<dd>Jacques Durand , Fujitsu</dd>
<dd>Gilbert Pilz , Oracle</dd>
<dd>Tom Rutt , Fujitsu</dd>
<dt>Administrative contact:</dt>
<dd><a href="mailto:secretary@ws-i.org">secretary@ws-i.org</a></dd>
</dl>
<p id="copyright" class="copyright">Copyright &#169; 2002-2010 by
<a href="http://www.ws-i.org/">The Web Services-Interoperability
Organization</a> (<abbr title=
"Web Services Interoperability Organization">WS-I</abbr>) and
Certain of its Members. All Rights Reserved.</p>
</div>
<hr />
<h2 id="abstract">Abstract</h2>
<p>This document defines the WS-I Basic Profile 2.0, consisting of
a set of non-proprietary Web services specifications, along with
clarifications, refinements, interpretations and amplifications of
those specifications which promote interoperability. It also
contains a set of executable test assertions for assessing the
conformance to the profile.</p>
<h2 id="status">Status of this Document</h2>
<p>This is a final specification. Please refer to the <a href=
"">errata</a>, which may include normative corrections to it.</p>
<h2 id="license">Notice</h2>
<p>The material contained herein is not a license, either expressly
or impliedly, to any intellectual property owned or controlled by
any of the authors or developers of this material or WS-I. The
material contained herein is provided on an "AS IS" basis and to
the maximum extent permitted by applicable law, this material is
provided AS IS AND WITH ALL FAULTS, and the authors and developers
of this material and WS-I hereby disclaim all other warranties and
conditions, either express, implied or statutory, including, but
not limited to, any (if any) implied warranties, duties or
conditions of merchantability, of fitness for a particular purpose,
of accuracy or completeness of responses, of results, of
workmanlike effort, of lack of viruses, and of lack of negligence.
ALSO, THERE IS NO WARRANTY OR CONDITION OF TITLE, QUIET ENJOYMENT,
QUIET POSSESSION, CORRESPONDENCE TO DESCRIPTION OR NON-INFRINGEMENT
WITH REGARD TO THIS MATERIAL.</p>
<p>IN NO EVENT WILL ANY AUTHOR OR DEVELOPER OF THIS MATERIAL OR
WS-I BE LIABLE TO ANY OTHER PARTY FOR THE COST OF PROCURING
SUBSTITUTE GOODS OR SERVICES, LOST PROFITS, LOSS OF USE, LOSS OF
DATA, OR ANY INCIDENTAL, CONSEQUENTIAL, DIRECT, INDIRECT, OR
SPECIAL DAMAGES WHETHER UNDER CONTRACT, TORT, WARRANTY, OR
OTHERWISE, ARISING IN ANY WAY OUT OF THIS OR ANY OTHER AGREEMENT
RELATING TO THIS MATERIAL, WHETHER OR NOT SUCH PARTY HAD ADVANCE
NOTICE OF THE POSSIBILITY OF SUCH DAMAGES.</p>
<h2 id="feedback">Feedback</h2>
<p>If there are areas in this specification that could be clearer,
or if errors or omissions are identified, WS-I would like to be
notified in order to provide the best possible interoperability
guidance.</p>
<p>By sending email, or otherwise communicating with WS-I, you (on
behalf of yourself if you are an individual, and your company if
you are providing Feedback on behalf of the company) will be deemed
to have granted to WS-I, the members of WS-I, and other parties
that have access to your Feedback, a non-exclusive,
non-transferable, worldwide, perpetual, irrevocable, royalty-free
license to use, disclose, copy, license, modify, sublicense or
otherwise distribute and exploit in any manner whatsoever the
Feedback you provide regarding the work. You acknowledge that you
have no expectation of confidentiality with respect to any Feedback
you provide. You represent and warrant that you have rights to
provide this Feedback, and if you are providing Feedback on behalf
of a company, you represent and warrant that you have the rights to
provide Feedback on behalf of your company. You also acknowledge
that WS-I is not required to review, discuss, use, consider or in
any way incorporate your Feedback into future versions of its work.
If WS-I does incorporate some or all of your Feedback in a future
version of the work, it may, but is not obligated to include your
name (or, if you are identified as acting on behalf of your
company, the name of your company) on a list of contributors to the
work. If the foregoing is not acceptable to you and any company on
whose behalf you are acting, please do not provide any
Feedback.</p>
<p>Feedback on this document should be directed to <a href=
"mailto:wsi_wsbasic_comment@mp.ws-i.org">wsi_wsbasic_comment@mp.ws-i.org</a>.</p>
<hr />
<h2 id="toc">Table of Contents</h2>
<p class="toc">1. <a href="#introduction">Introduction</a><br />
<span class="subtoc">1.1. <a href="#philosophy">Guiding
Principles</a></span><br />
<span class="subtoc">1.2. <a href="#relationships">Relationships to
Other Profiles</a></span><br />
<span class="subtoc">1.2.1. <a href=
"#bp11compatibility">Compatibility with Basic Profile
1.1</a></span><br />
<span class="subtoc">1.2.2. <a href=
"#bp12relationship">Relationship to Basic Profile
1.2</a></span><br />
<span class="subtoc">1.3. <a href="#tassertions">Test
Assertions</a></span><br />
<span class="subtoc">1.4. <a href="#conventions">Notational
Conventions</a></span><br />
<span class="subtoc">1.5. <a href="#versioning">Profile
Identification and Versioning</a></span><br />
2. <a href="#conformance">Profile Conformance</a><br />
<span class="subtoc">2.1. <a href=
"#conformance_requirements">Conformance
Requirements</a></span><br />
<span class="subtoc">2.2. <a href=
"#conformance_targets">Conformance Targets</a></span><br />
<span class="subtoc">2.3. <a href="#conformance_scope">Conformance
Scope</a></span><br />
<span class="subtoc">2.4. <a href="#conformance_claims">Claiming
Conformance</a></span><br />
3. <a href="#messaging">Messaging</a><br />
<span class="subtoc">3.1. <a href="#SERIALIZATION">Message
Serialization</a></span><br />
<span class="subsubtoc">3.1.1. <a href=
"#XML_Envelope_Serialization">XML Envelope
Serialization</a></span><br />
<span class="subsubtoc">3.1.2. <a href="#Unicode_BOMs">Unicode
BOMs</a></span><br />
<span class="subsubtoc">3.1.3. <a href="#XML_Declarations">XML
Declarations</a></span><br />
<span class="subsubtoc">3.1.4. <a href=
"#Character_Encodings">Character Encodings</a></span><br />
<span class="subsubtoc">3.1.5. <a href="#XOP_Encoded_Messages">XOP
Encoded Messages</a></span><br />
<span class="subtoc">3.2. <a href="#SOAPENV">SOAP
Envelopes</a></span><br />
<span class="subsubtoc">3.2.1. <a href=
"#SOAP_Envelope_Structure">SOAP Envelope Structure</a></span><br />
<span class="subsubtoc">3.2.2. <a href=
"#SOAP_Body_Namespace_Qualification">SOAP Body Namespace
Qualification</a></span><br />
<span class="subsubtoc">3.2.3. <a href=
"#Disallowed_Constructs">Disallowed Constructs</a></span><br />
<span class="subsubtoc">3.2.4. <a href=
"#xsi_type_Attributes">xsi:type Attributes</a></span><br />
<span class="subsubtoc">3.2.5. <a href=
"#SOAP_1.2_attributes_on_SOAP_1.2_elements">SOAP 1.2 attributes on
SOAP 1.2 elements</a></span><br />
<span class="subtoc">3.3. <a href="#SOAPMEM">SOAP Processing
Model</a></span><br />
<span class="subsubtoc">3.3.1. <a href=
"#SOAP_Fault_Processing">SOAP Fault Processing</a></span><br />
<span class="subtoc">3.4. <a href="#SOAPFAULT">SOAP
Faults</a></span><br />
<span class="subsubtoc">3.4.1. <a href=
"#Identifying_SOAP_Faults">Identifying SOAP Faults</a></span><br />
<span class="subtoc">3.5. <a href="#SOAPHTTP">Use of SOAP in
HTTP</a></span><br />
<span class="subsubtoc">3.5.1. <a href=
"#HTTP_Protocol_Binding">HTTP Protocol Binding</a></span><br />
<span class="subsubtoc">3.5.2. <a href=
"#Parameters_on_the_Content-Type_MIME_Header">Parameters on the
Content-Type MIME Header</a></span><br />
<span class="subsubtoc">3.5.3. <a href=
"#HTTP_Success_Status_Codes">HTTP Success Status
Codes</a></span><br />
<span class="subsubtoc">3.5.4. <a href=
"#HTTP_Redirect_Status_Codes">HTTP Redirect Status
Codes</a></span><br />
<span class="subsubtoc">3.5.5. <a href="#HTTP_Cookies">HTTP
Cookies</a></span><br />
<span class="subsubtoc">3.5.6. <a href=
"#Non-Addressable_Consumers_and_Instances">Non-Addressable
Consumers and Instances</a></span><br />
<span class="subtoc">3.6. <a href="#SOAPURI">Use of URIs in
SOAP</a></span><br />
<span class="subsubtoc">3.6.1. <a href=
"#Use_of_SOAP-defined_URIs">Use of SOAP-defined
URIs</a></span><br />
<span class="subtoc">3.7. <a href="#WSADDR">WS-Addressing
Support</a></span><br />
<span class="subsubtoc">3.7.1. <a href=
"#Requiring_WS-Addressing_SOAP_Headers">Requiring WS-Addressing
SOAP Headers</a></span><br />
<span class="subsubtoc">3.7.2. <a href=
"#NotUnderstood_block_in_MustUnderstand_Fault_on_WS-Addressing_SOAP_Headers">
NotUnderstood block in MustUnderstand Fault on WS-Addressing SOAP
Headers</a></span><br />
<span class="subsubtoc">3.7.3. <a href=
"#Use_of_wsa_Action_and_WS-Addressing_1.0_-_Metadata">Use of
wsa:Action and WS-Addressing 1.0 - Metadata</a></span><br />
<span class="subsubtoc">3.7.4. <a href=
"#Valid_Values_for_action_Parameter_on_the_Content-Type_MIME_header_When_WS-Addressing_is_Used">
Valid Values for action Parameter on the Content-Type MIME header
When WS-Addressing is Used</a></span><br />
<span class="subsubtoc">3.7.5. <a href=
"#SOAP_Defined_Faults_Action_URI">SOAP Defined Faults Action
URI</a></span><br />
<span class="subsubtoc">3.7.6. <a href=
"#Understanding_WS-Addressing_SOAP_Header_Blocks">Understanding
WS-Addressing SOAP Header Blocks</a></span><br />
<span class="subsubtoc">3.7.7. <a href=
"#Ignored_or_Absent_WS-Addressing_Headers">Ignored or Absent
WS-Addressing Headers</a></span><br />
<span class="subsubtoc">3.7.8. <a href=
"#Present_and_Understood_WS-Addressing_Headers">Present and
Understood WS-Addressing Headers</a></span><br />
<span class="subsubtoc">3.7.9. <a href=
"#SOAP_MustUnderstand_or_VersionMismatch_fault_Transmission">SOAP
MustUnderstand or VersionMismatch fault
Transmission</a></span><br />
<span class="subsubtoc">3.7.10. <a href=
"#Faulting_Behavior_with_Present_and_Understood_WS-Addressing_Headers">
Faulting Behavior with Present and Understood WS-Addressing
Headers</a></span><br />
<span class="subsubtoc">3.7.11. <a href=
"#[message_id]_and_One-Way_Operations">[message id] and One-Way
Operations</a></span><br />
<span class="subsubtoc">3.7.12. <a href=
"#Refusal_to_Honor_WS-Addressing_Headers">Refusal to Honor
WS-Addressing Headers</a></span><br />
<span class="subsubtoc">3.7.13. <a href=
"#Use_of_Non-Anonymous_Response_EPRs">Use of Non-Anonymous Response
EPRs</a></span><br />
<span class="subsubtoc">3.7.14. <a href=
"#Optionality_of_the_wsa_To_header">Optionality of the wsa:To
header</a></span><br />
<span class="subsubtoc">3.7.15. <a href=
"#Extending_WSDL_Endpoints_with_an_EPR">Extending WSDL Endpoints
with an EPR</a></span><br />
<span class="subsubtoc">3.7.16. <a href=
"#Combining_Synchronous_and_Asynchronous_Operations">Combining
Synchronous and Asynchronous Operations</a></span><br />
<span class="subsubtoc">3.7.17. <a href=
"#Conflicting_Addressing_Policies">Conflicting Addressing
Policies</a></span><br />
4. <a href="#description">Service Description</a><br />
<span class="subtoc">4.1. <a href="#WSDLREQ">Required
Description</a></span><br />
<span class="subtoc">4.2. <a href="#WSDLDOCSTRUCT">Document
Structure</a></span><br />
<span class="subsubtoc">4.2.1. <a href=
"#WSDL_Import_location_Attribute_Structure">WSDL Import location
Attribute Structure</a></span><br />
<span class="subsubtoc">4.2.2. <a href=
"#WSDL_Import_location_Attribute_Semantics">WSDL Import location
Attribute Semantics</a></span><br />
<span class="subsubtoc">4.2.3. <a href=
"#XML_Version_Requirements">XML Version
Requirements</a></span><br />
<span class="subsubtoc">4.2.4. <a href=
"#XML_Namespace_Declarations">XML Namespace
Declarations</a></span><br />
<span class="subsubtoc">4.2.5. <a href=
"#WSDL_and_the_Unicode_BOM">WSDL and the Unicode
BOM</a></span><br />
<span class="subsubtoc">4.2.6. <a href=
"#Acceptable_WSDL_Character_Encodings">Acceptable WSDL Character
Encodings</a></span><br />
<span class="subsubtoc">4.2.7. <a href=
"#Namespace_Coercion">Namespace Coercion</a></span><br />
<span class="subsubtoc">4.2.8. <a href="#WSDL_Extensions">WSDL
Extensions</a></span><br />
<span class="subtoc">4.3. <a href=
"#WSDLTYPES">Types</a></span><br />
<span class="subsubtoc">4.3.1. <a href="#QName_References">QName
References</a></span><br />
<span class="subsubtoc">4.3.2. <a href=
"#Schema_targetNamespace_Structure">Schema targetNamespace
Structure</a></span><br />
<span class="subsubtoc">4.3.3. <a href=
"#soapenc_Array">soapenc:Array</a></span><br />
<span class="subsubtoc">4.3.4. <a href=
"#WSDL_and_Schema_Definition_Target_Namespaces">WSDL and Schema
Definition Target Namespaces</a></span><br />
<span class="subsubtoc">4.3.5. <a href=
"#Multiple_GED_Definitions_with_the_same_QName">Multiple GED
Definitions with the same QName</a></span><br />
<span class="subsubtoc">4.3.6. <a href=
"#Multiple_Type_Definitions_with_the_same_QName">Multiple Type
Definitions with the same QName</a></span><br />
<span class="subtoc">4.4. <a href=
"#WSDLMSGS">Messages</a></span><br />
<span class="subsubtoc">4.4.1. <a href=
"#Bindings_and_Parts">Bindings and Parts</a></span><br />
<span class="subsubtoc">4.4.2. <a href=
"#Bindings_and_Faults">Bindings and Faults</a></span><br />
<span class="subsubtoc">4.4.3. <a href=
"#Unbound_portType_Element_Contents">Unbound portType Element
Contents</a></span><br />
<span class="subtoc">4.5. <a href="#WSDLPORTTYPES">Port
Types</a></span><br />
<span class="subsubtoc">4.5.1. <a href=
"#Ordering_of_part_Elements">Ordering of part
Elements</a></span><br />
<span class="subsubtoc">4.5.2. <a href=
"#Allowed_Operations">Allowed Operations</a></span><br />
<span class="subsubtoc">4.5.3. <a href=
"#Distinctive_Operations">Distinctive Operations</a></span><br />
<span class="subsubtoc">4.5.4. <a href=
"#parameterOrder_Attribute_Construction">parameterOrder Attribute
Construction</a></span><br />
<span class="subsubtoc">4.5.5. <a href=
"#Exclusivity_of_type_and_element_Attributes">Exclusivity of type
and element Attributes</a></span><br />
<span class="subtoc">4.6. <a href=
"#WSDLBINDINGS">Bindings</a></span><br />
<span class="subsubtoc">4.6.1. <a href="#Use_of_SOAP_Binding">Use
of SOAP Binding</a></span><br />
<span class="subtoc">4.7. <a href="#WSDLSOAPBINDING">SOAP
Binding</a></span><br />
<span class="subsubtoc">4.7.1. <a href="#HTTP_Transport">HTTP
Transport</a></span><br />
<span class="subsubtoc">4.7.2. <a href=
"#Consistency_of_style_Attribute">Consistency of style
Attribute</a></span><br />
<span class="subsubtoc">4.7.3. <a href=
"#Encodings_and_the_use_Attribute">Encodings and the use
Attribute</a></span><br />
<span class="subsubtoc">4.7.4. <a href=
"#Multiple_Bindings_for_portType_Elements">Multiple Bindings for
portType Elements</a></span><br />
<span class="subsubtoc">4.7.5. <a href=
"#Operation_Signatures">Operation Signatures</a></span><br />
<span class="subsubtoc">4.7.6. <a href=
"#Multiple_Ports_on_an_Endpoint">Multiple Ports on an
Endpoint</a></span><br />
<span class="subsubtoc">4.7.7. <a href=
"#Child_Element_for_Document-Literal_Bindings">Child Element for
Document-Literal Bindings</a></span><br />
<span class="subsubtoc">4.7.8. <a href=
"#One-Way_Operations">One-Way Operations</a></span><br />
<span class="subsubtoc">4.7.9. <a href=
"#Namespaces_for_wsoap12_Elements">Namespaces for wsoap12
Elements</a></span><br />
<span class="subsubtoc">4.7.10. <a href=
"#Consistency_of_portType_and_binding_Elements">Consistency of
portType and binding Elements</a></span><br />
<span class="subsubtoc">4.7.11. <a href=
"#Enumeration_of_Faults">Enumeration of Faults</a></span><br />
<span class="subsubtoc">4.7.12. <a href=
"#Consistency_of_Envelopes_with_Descriptions">Consistency of
Envelopes with Descriptions</a></span><br />
<span class="subsubtoc">4.7.13. <a href=
"#Response_Wrappers">Response Wrappers</a></span><br />
<span class="subsubtoc">4.7.14. <a href="#Part_Accessors">Part
Accessors</a></span><br />
<span class="subsubtoc">4.7.15. <a href=
"#Namespaces_for_Children_of_Part_Accessors">Namespaces for
Children of Part Accessors</a></span><br />
<span class="subsubtoc">4.7.16. <a href=
"#Required_Headers">Required Headers</a></span><br />
<span class="subsubtoc">4.7.17. <a href=
"#Allowing_Undescribed_Headers">Allowing Undescribed
Headers</a></span><br />
<span class="subsubtoc">4.7.18. <a href=
"#Ordering_Headers">Ordering Headers</a></span><br />
<span class="subsubtoc">4.7.19. <a href=
"#Describing_action_Parameter_on_the_Content-Type_MIME_Header">Describing
action Parameter on the Content-Type MIME Header</a></span><br />
<span class="subsubtoc">4.7.20. <a href=
"#SOAPAction_HTTP_Header">SOAPAction HTTP Header</a></span><br />
<span class="subsubtoc">4.7.21. <a href=
"#SOAP_Binding_Extensions">SOAP Binding Extensions</a></span><br />
<span class="subtoc">4.8. <a href="#WSDL11SOAP12SA">Use of
@soapActionRequired in WSDL 1.1 SOAP 1.2 Binding</a></span><br />
<span class="subtoc">4.9. <a href="#WSDLSCHEMA">Use of XML
Schema</a></span><br />
<span class="subtoc">4.10. <a href="#WSA-Metadata">WS-Addressing
1.0 - Metadata</a></span><br />
5. <a href="#wsdlcorrections">WSDL Corrections</a><br />
<span class="subtoc">5.1. <a href="#wsdldocstruct-correct">Document
Structure</a></span><br />
<span class="subsubtoc">5.1.1. <a href=
"#WSDL_Schema_Definitions">WSDL Schema Definitions</a></span><br />
<span class="subsubtoc">5.1.2. <a href=
"#WSDL_and_Schema_Import">WSDL and Schema Import</a></span><br />
<span class="subsubtoc">5.1.3. <a href=
"#Placement_of_WSDL_import_Elements">Placement of WSDL import
Elements</a></span><br />
<span class="subsubtoc">5.1.4. <a href=
"#WSDL_documentation_Element">WSDL documentation
Element</a></span><br />
<span class="subtoc">5.2. <a href=
"#wsdlmsgs-correct">Message</a></span><br />
<span class="subsubtoc">5.2.1. <a href=
"#Declaration_of_part_Elements">Declaration of part
Elements</a></span><br />
<span class="subtoc">5.3. <a href="#wsdlsoapbinding-correct">SOAP
Binding</a></span><br />
<span class="subsubtoc">5.3.1. <a href=
"#Specifying_the_transport_Attribute">Specifying the transport
Attribute</a></span><br />
<span class="subsubtoc">5.3.2. <a href=
"#SOAP_1.2_Binding_Extension">SOAP 1.2 Binding
Extension</a></span><br />
<span class="subsubtoc">5.3.3. <a href=
"#Type_and_Name_of_SOAP_Binding_Elements">Type and Name of SOAP
Binding Elements</a></span><br />
<span class="subsubtoc">5.3.4. <a href=
"#name_Attribute_on_Faults">name Attribute on
Faults</a></span><br />
<span class="subsubtoc">5.3.5. <a href=
"#Omission_of_the_use_Attribute">Omission of the use
Attribute</a></span><br />
<span class="subsubtoc">5.3.6. <a href=
"#Default_for_use_Attribute">Default for use
Attribute</a></span><br />
6. <a href="#discovery">Service Publication and Discovery</a><br />
<span class="subtoc">6.1. <a href=
"#UDDIBTS">bindingTemplates</a></span><br />
<span class="subtoc">6.2. <a href=
"#UDDITMS">tModels</a></span><br />
7. <a href="#security">Security</a><br />
<span class="subtoc">7.1. <a href="#HTTPSBase">Use of
HTTPS</a></span><br />
Appendix A: <a href="#references">Referenced
Specifications</a><br />
Appendix B: <a href="#points">Extensibility Points</a><br />
Appendix C: <a href="#normative_references">Normative
References</a><br />
Appendix D: <a href="#defs">Defined Terms</a><br />
Appendix E: <a href="#acks">Acknowledgements</a><br />
Appendix F: <a href="#schm">Schemas</a><br /></p>
<h2 id="introduction">1. Introduction</h2>
<p>This document defines the WS-I Basic Profile 2.0 (hereafter,
"Profile"), consisting of a set of non-proprietary Web services
specifications, along with clarifications, refinements,
interpretations and amplifications of those specifications which
promote interoperability.</p>
<p>Section 1 introduces the Profile, and explains its relationships
to other profiles.</p>
<p>Section 2, "Profile Conformance," explains what it means to be
conformant to the Profile.</p>
<p>Each subsequent section addresses a component of the Profile,
and consists of two parts; an overview detailing the component
specifications and their extensibility points, followed by
subsections that address individual parts of the component
specifications. Note that there is no relationship between the
section numbers in this document and those in the referenced
specifications.</p>
<h3 id="philosophy">1.1 Guiding Principles</h3>
<p>The Profile was developed according to a set of principles that,
together, form the philosophy of the Profile, as it relates to
bringing about interoperability. This section documents these
guidelines.</p>
<dl>
<dt>No guarantee of interoperability</dt>
<dd>It is impossible to completely guarantee the interoperability
of a particular service. However, the Profile does address the most
common problems that implementation experience has revealed to
date.</dd>
<dt>Application semantics</dt>
<dd>Although communication of application semantics can be
facilitated by the technologies that comprise the Profile, assuring
the common understanding of those semantics is not addressed by
it.</dd>
<dt>Testability</dt>
<dd>When possible, the Profile makes statements that are testable.
However, requirements do not need to be testable to be included in
the Profile. Preferably, testing is achieved in a non-intrusive
manner (e.g., by examining artifacts "on the wire").</dd>
<dt>Strength of requirements</dt>
<dd>The Profile makes strong requirements (e.g., MUST, MUST NOT)
wherever feasible; if there are legitimate cases where such a
requirement cannot be met, conditional requirements (e.g., SHOULD,
SHOULD NOT) are used. Optional and conditional requirements
introduce ambiguity and mismatches between implementations.</dd>
<dt>Restriction vs. relaxation</dt>
<dd>When amplifying the requirements of referenced specifications,
the Profile may restrict them, but does not relax them (e.g.,
change a MUST to a MAY).</dd>
<dt>Multiple mechanisms</dt>
<dd>If a referenced specification allows multiple mechanisms to be
used interchangeably, the Profile selects those that are
well-understood, widely implemented and useful. Extraneous or
underspecified mechanisms and extensions introduce complexity and
therefore reduce interoperability.</dd>
<dt>Future compatibility</dt>
<dd>When possible, the Profile aligns its requirements with
in-progress revisions to the specifications it references. This
aids implementers by enabling a graceful transition, and assures
that WS-I does not 'fork' from these efforts. When the Profile
cannot address an issue in a specification it references, this
information is communicated to the appropriate body to assure its
consideration.</dd>
<dt>Compatibility with deployed services</dt>
<dd>Backwards compatibility with deployed Web services is not a
goal for the Profile, but due consideration is given to it; the
Profile does not introduce a change to the requirements of a
referenced specification unless doing so addresses specific
interoperability issues.</dd>
<dt>Focus on interoperability</dt>
<dd>Although there are potentially a number of inconsistencies and
design flaws in the referenced specifications, the Profile only
addresses those that affect interoperability.</dd>
<dt>Conformance targets</dt>
<dd>Where possible, the Profile places requirements on artifacts
(e.g., WSDL descriptions, SOAP messages) rather than the producing
or consuming software's behaviors or roles. Artifacts are concrete,
making them easier to verify and therefore making conformance
easier to understand and less error-prone.</dd>
<dt>Lower-layer interoperability</dt>
<dd>The Profile speaks to interoperability at the application
layer; it assumes that interoperability of lower-layer protocols
(e.g., TCP, IP, Ethernet) is adequate and well-understood.
Similarly, statements about application-layer substrate protocols
(e.g., SSL/TLS, HTTP) are only made when there is an issue
affecting Web services specifically; WS-I does not attempt to
assure the interoperability of these protocols as a whole. This
assures that WS-I's expertise in and focus on Web services
standards is used effectively.</dd>
</dl>
<h3 id="relationships">1.2 Relationships to Other Profiles</h3>
<p>This Profile is derived from the <a href=
"http://www.ws-i.org/Profiles/BasicProfile-1.1-2006-04-10.html"
class="offsite">Basic Profile 1.1</a> (BP 1.1) by incorporating any
errata to date and including those requirements related to the
serialization of envelopes and their representation in messages
from the <a href=
"http://www.ws-i.org/Profiles/SimpleSoapBindingProfile-1.0-2004-08-24.html"
class="offsite">Simple SOAP Binding Profile 1.0</a> .</p>
<p>This Profile is NOT intended to be composed with the Simple SOAP
Binding Profile 1.0. The <a href=
"http://www.ws-i.org/Profiles/AttachmentsProfile-1.0.html" class=
"offsite">Attachments Profile 1.0</a> adds support for SOAP with
Attachments, and is intended to be used in combination with this
Profile.</p>
<h3 id="bp11compatibility">1.2.1 Compatibility with Basic Profile
1.1</h3>
<p>This Profile (BP 2.0) is the first version of the WS-I Basic
Profile that changes the version of SOAP in the profile scope from
SOAP 1.1 to the <a href=
"http://www.w3.org/TR/2007/REC-soap12-part1-20070427/" class=
"offsite">W3C SOAP 1.2 Recommendation</a> . As such, BP 1.1
conformant messages are inherently incompatible with those
conformant with BP 2.0, while receivers and instances processing
these messages may or may not support these two versions of the
Basic Profile.</p>
<h3 id="bp12relationship">1.2.2 Relationship to Basic Profile
1.2</h3>
<p>Similarly to this Profile, <a href=
"http://www.ws-i.org/Profiles/BasicProfile-1.2.html" class=
"offsite">Basic Profile 1.2</a> (BP 1.2) is derived from <a href=
"http://www.ws-i.org/Profiles/BasicProfile-1.1-2006-04-10.html"
class="offsite">Basic Profile 1.1</a> . Unlike this Profile, the
version of SOAP in scope for BP 1.2 is, like BP 1.1, <a href=
"http://www.w3.org/TR/2000/NOTE-SOAP-20000508/" class=
"offsite">SOAP 1.1</a> . To the extent possible, this Profile and
BP 1.2 attempt to maintain a common set of requirement numbers, and
common requirement and expository text. There are cases where the
differences between SOAP 1.1 and SOAP 1.2 necessitate unique
requirements and/or differing requirement and expository text.
Therefore, some requirements and test assertions may present issues
of forward or backward compatibility.</p>
<h3 id="tassertions">1.3 Test Assertions</h3>
<p>This profile document contains embedded Test Assertions (TA)
that are associated with each normative profile requirement. In the
HTML rendering of this document, these test assertions are
accessible via a toggle link at the end of each requirement. When
clicking on such a link, a table pops up that displays the TA
parts. At the end of this table is another toggle link
("help-glossary") that displays an explanation glossary for the TA
structure. In other formats of this document, the test assertions
are grouped in an appendix not controlled by any link, in order to
facilitate the printing of hard copies. The resulting set of test
assertions embedded in this document represents a conformance test
suite for the profile.</p>
<p>Release notes related to the test material included in this
document are available here:</p>
<span class="relnotesref-type"><a onclick="javascript:toggle(this)"
href="#rnReleaseNotes">TESTING-RELEASE-NOTES</a></span>
<div style="display: none;" id="rnReleaseNotes">
<table width="80%" class="tablernotes" border="1">
<tr>
<th width="20%">Note Item:</th>
<th align="left"><span class="tbrnotes-id"><a name="rn" id=
"rn">Release Notes : 2009-08-26</a></span></th>
</tr>
<tr>
<td><b>test suite</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="test-suite">
<p>The test assertions are scripted using XPath2.0 and are
automatically processable using the version 2.0 of the WS-I
Analyzer tools.</p>
<p>Several requirements have been tagged "NOT_TESTABLE". This means
that these requirements cannot be tested based on the technology
choices (black-box testing, XPath scripting).</p>
<p>Other requirements have been tagged "NOT_TESTED". This is the
case for most optional requirements (SHOULD, MAY), and for most
Extensibility points as well as for requirements targeting UDDI.
Some requirements may also require Schema awareness (ability to
process schemas) from the Analyzer test tool. As this conflicted
with the ability to use several freely available XSLT20 processors
that are not Schema aware, such requirements have been marked
"NOT_TESTED" unless this verification was done by tools prior to
creating the test log file, which would then just contain some
metadata indicating the results of these schema-realted tests.</p>
<p>Other requirements have been tagged
"TESTABLE_SCENARIO_DEPENDENT". This is the case when a specific
test scenario is needed in order to exercise the related test
assertion, because the test assertion is designed to trigger only
on specific input material, e.g. that is known to NEVER be
recognizable by an endpoint.</p>
<p>A subsequent version may cover untested requirements. In this
profile, the core requirements for assessing interoperability of
implementations have been initially targeted.</p>
</item>
</td>
</tr>
<tr>
<td><b>test assertions notes</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="test-assertions-notes">
<p>Test assertions are not guaranteed to exhaustively cover every
case where a profile requirement applies. In several instances,
more than one test assertion is needed to address the various
situations where a profile requirement applies.</p>
<p>To learn more about the details of test assertion outcomes and
how they are reported in the test report, see the glossary link
that appears below each test assertion table.</p>
</item>
</td>
</tr>
<tr>
<td><b>test log rules</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="test-log-rules">
<p><i><b>Test Log content conventions:</b></i></p>
<p>The test assertions designed for this test suite are written to
work over "test log" files that are assumed to follow some rules in
their structure and content. These rules are more completely stated
in the documentation associated with the log file description. Some
of these rules are:</p>
<p>- Every message in the log must be uniquely identified: it must
have a unique pair of values for: {message/@conversation,
message/@id}, where @id is unique within each conversation.
Typically, a conversation is used to identify an HTTP connection
and the group of messages over this connection.</p>
<p>- A response message (for WSDL request-responses as well as RM
lifecycle messages) always appears after the request message in the
log file.</p>
<p>- A wsa:RelatesTo reference always refers to a message that has
been logged before.</p>
<p>- A Fault message always appears after the message-in-error.</p>
<p>- An RM acknowledgement always appears after the messages it
acknowledges.</p>
<p>- there should not be both a doc-lit and an rpc-lit bindings for
the same portType.</p>
<p>- imports must be resolved locally to the log file.</p>
</item>
</td>
</tr>
</table>
</div>
<h3 id="conventions">1.4 Notational Conventions</h3>
<p>The keywords "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL"
in this document are to be interpreted as described in <a href=
"http://www.ietf.org/rfc/rfc2119.txt" class=
"offsite">RFC2119</a>.</p>
<p>Normative statements of requirements in the Profile (i.e., those
impacting conformance, as outlined in "<a href=
"#conformance_requirements">Conformance Requirements</a>") are
presented in the following manner:</p>
<p class="statement"><span class=
"statement-id">Rnnnn</span>Statement text here.</p>
<p>where "nnnn" is replaced by a number that is unique among the
requirements in the Profile, thereby forming a unique requirement
identifier.</p>
<p>Requirements can be considered to be namespace qualified, in
such a way as to be compatible with QNames from <a href=
"http://www.w3.org/TR/REC-xml-names/" class="offsite">Namespaces in
XML</a>. If there is no explicit namespace prefix on a
requirement's identifier (e.g., "R9999" as opposed to
"bp10:R9999"), it should be interpreted as being in the namespace
identified for this Profile.</p>
<p>Extensibility points in underlying specifications (see "<a href=
"#conformance_scope">Conformance Scope</a>") are presented in a
similar manner:</p>
<p class="statement"><span class=
"statement-id">Ennnn</span>Extensibility Point Name -
Description</p>
<p>where "nnnn" is replaced by a number that is unique among the
extensibility points in the Profile. As with requirement
statements, extensibility statements can be considered
namespace-qualified.</p>
<p>This specification uses a number of namespace prefixes
throughout; their associated URIs are listed below. Note that the
choice of any namespace prefix is arbitrary and not semantically
significant.</p>
<ul>
<li><strong>soap12</strong> - "
http://www.w3.org/2003/05/soap-envelope "</li>
<li><strong>xsi</strong> - "
http://www.w3.org/2001/XMLSchema-instance "</li>
<li><strong>xsd</strong> - " http://www.w3.org/2001/XMLSchema
"</li>
<li><strong>soapenc</strong> - "
http://www.w3.org/2003/05/soap-encoding "</li>
<li><strong>wsdl</strong> - " http://schemas.xmlsoap.org/wsdl/
"</li>
<li><strong>wsoap12</strong> - "
http://schemas.xmlsoap.org/wsdl/soap12/ "</li>
<li><strong>uddi</strong> - " urn:uddi-org:api_v2 "</li>
<li><strong>wsa</strong> - " http://www.w3.org/2005/08/addressing
"</li>
<li><strong>xop</strong> - " http://www.w3.org/2004/08/xop/include
"</li>
</ul>
<h3 id="versioning">1.5 Profile Identification and Versioning</h3>
<p>This document is identified by a name (in this case, Basic
Profile) and a version number (here, 2.0). Together, they identify
a particular <em>profile instance</em>.</p>
<p>Version numbers are composed of a major and minor portion, in
the form "major.minor". They can be used to determine the
precedence of a profile instance; a higher version number
(considering both the major and minor components) indicates that an
instance is more recent, and therefore supersedes earlier
instances.</p>
<p>Instances of profiles with the same name (e.g., "Example Profile
1.1" and "Example Profile 5.0") address interoperability problems
in the same general scope (although some developments may require
the exact scope of a profile to change between instances).</p>
<p>One can also use this information to determine whether two
instances of a profile are backwards-compatible; that is, whether
one can assume that conformance to an earlier profile instance
implies conformance to a later one. Profile instances with the same
name and major version number (e.g., "Example Profile 1.0" and
"Example Profile 1.1") MAY be considered compatible. Note that this
does not imply anything about compatibility in the other direction;
that is, one cannot assume that conformance with a later profile
instance implies conformance to an earlier one.</p>
<h2 id="conformance">2 Profile Conformance</h2>
<p>Conformance to the Profile is defined by adherence to the set of
<em>requirements</em> defined for a specific <em>target</em>,
within the <em>scope</em> of the Profile. This section explains
these terms and describes how conformance is defined and used.</p>
<h3 id="conformance_requirements">2.1 Conformance Requirements</h3>
<p>Requirements state the criteria for conformance to the Profile.
They typically refer to an existing specification and embody
refinements, amplifications, interpretations and clarifications to
it in order to improve interoperability. All requirements in the
Profile are considered normative, and those in the specifications
it references that are in-scope (see "Conformance Scope") should
likewise be considered normative. When requirements in the Profile
and its referenced specifications contradict each other, the
Profile's requirements take precedence for purposes of Profile
conformance.</p>
<p>Requirement levels, using <a href=
"http://www.ietf.org/rfc/rfc2119.txt" class="offsite">RFC2119</a>
language (e.g., MUST, MAY, SHOULD) indicate the nature of the
requirement and its impact on conformance. Each requirement is
individually identified (e.g., R9999) for convenience.</p>
<p>For example;</p>
<p class="statement"><span class="statement-id">R9999</span> Any
<strong>WIDGET</strong> SHOULD be round in shape.</p>
<p>This requirement is identified by "R9999", applies to the target
WIDGET (see below), and places a conditional requirement upon
widgets.</p>
<p>Each requirement statement contains exactly one requirement
level keyword (e.g., "MUST") and one conformance target keyword
(e.g., "MESSAGE"). The conformance target keyword appears in bold
text (e.g. "<b>MESSAGE</b>"). Other conformance targets appearing
in non-bold text are being used strictly for their definition and
NOT as a conformance target. Additional text may be included to
illuminate a requirement or group of requirements (e.g., rationale
and examples); however, prose surrounding requirement statements
must not be considered in determining conformance.</p>
<p>Definitions of terms in the Profile are considered authoritative
for the purposes of determining conformance.</p>
<h3 id="conformance_targets">2.2 Conformance Targets</h3>
<p>Conformance targets identify what artifacts (e.g., SOAP message,
WSDL description, UDDI registry data) or parties (e.g., SOAP
processor, end user) requirements apply to.</p>
<p>This allows for the definition of conformance in different
contexts, to assure unambiguous interpretation of the applicability
of requirements, and to allow conformance testing of artifacts
(e.g., SOAP messages and WSDL descriptions) and the behavior of
various parties to a Web service (e.g., clients and service
instances).</p>
<p>Requirements' conformance targets are physical artifacts
wherever possible, to simplify testing and avoid ambiguity.</p>
<p>The following conformance targets are used in the Profile:</p>
<ul>
<li><strong>MESSAGE</strong> - protocol elements that transport the
ENVELOPE (e.g., SOAP/HTTP messages)</li>
<li><strong>ENVELOPE</strong> - the serialization of the
soap12:Envelope element and its content</li>
<li><strong>DESCRIPTION</strong> - descriptions of types, messages,
interfaces and their concrete protocol and data format bindings,
and the network access points associated with Web services (e.g.,
WSDL descriptions) (from <a href=
"http://www.ws-i.org/Profiles/BasicProfile-1.0.html" class=
"offsite">Basic Profile 1.0</a>)</li>
<li><strong>INSTANCE</strong> - software that implements a
wsdl:port or a uddi:bindingTemplate (from <a href=
"http://www.ws-i.org/Profiles/BasicProfile-1.0.html" class=
"offsite">Basic Profile 1.0</a>)</li>
<li><strong>CONSUMER</strong> - software that invokes an INSTANCE
(from <a href="http://www.ws-i.org/Profiles/BasicProfile-1.0.html"
class="offsite">Basic Profile 1.0</a>)</li>
<li><strong>SENDER</strong> - software that generates a message
according to the protocol(s) associated with it (from <a href=
"http://www.ws-i.org/Profiles/BasicProfile-1.0.html" class=
"offsite">Basic Profile 1.0</a>)</li>
<li><strong>RECEIVER</strong> - software that consumes a message
according to the protocol(s) associated with it (e.g., SOAP
processors) (from <a href=
"http://www.ws-i.org/Profiles/BasicProfile-1.0.html" class=
"offsite">Basic Profile 1.0</a>)</li>
<li><strong>REGDATA</strong> - registry elements that are involved
in the registration and discovery of Web services (e.g. UDDI
tModels) (from <a href=
"http://www.ws-i.org/Profiles/BasicProfile-1.0.html" class=
"offsite">Basic Profile 1.0</a>)</li>
<li><strong>SIMPLE_SOAP_MESSAGE</strong> - A MESSAGE that has as an
entity-body that has a 'Content-Type' HTTP header field with a
field-value of 'application/soap+xml'<span class=
"claim-type">HTTP-TRANSPORT</span></li>
<li><strong>XOP_ENCODED_MESSAGE</strong> - A MESSAGE that has an
entity-body that has a 'Content-Type' HTTP header field with a
field-value of 'multipart/related' with a type parameter of
'application/xop+xml'<span class=
"claim-type">HTTP-TRANSPORT</span></li>
</ul>
<h3 id="conformance_scope">2.3 Conformance Scope</h3>
<p>The scope of the Profile delineates the technologies that it
addresses; in other words, the Profile only attempts to improve
interoperability within its own scope. Generally, the Profile's
scope is bounded by the specifications referenced by it.</p>
<p>The Profile's scope is further refined by extensibility points.
Referenced specifications often provide extension mechanisms and
unspecified or open-ended configuration parameters; when identified
in the Profile as an extensibility point, such a mechanism or
parameter is outside the scope of the Profile, and its use or
non-use is not relevant to conformance.</p>
<p>Note that the Profile may still place requirements on the use of
an extensibility point. Also, specific uses of extensibility points
may be further restricted by other profiles, to improve
interoperability when used in conjunction with the Profile.</p>
<p>Because the use of extensibility points may impair
interoperability, their use should be negotiated or documented in
some fashion by the parties to a Web service; for example, this
could take the form of an out-of-band agreement.</p>
<p>The Profile's scope is defined by the referenced specifications
in <a href="#references">Appendix A</a>, as refined by the
extensibility points in <a href="#points">Appendix B</a>.</p>
<h3 id="conformance_claims">2.4 Claiming Conformance</h3>
<p>Claims of conformance to the Profile can be made using either of
the following mechanisms: 1) use of the <a href=
"http://www.ws-i.org/Profiles/ConformanceClaims-1.0-2004-11-15.html"
class="offsite">Conformance Claim Attachment Mechanisms</a> (see
Section 2.4.1), or 2) use of the Web Services Policy - Framework
<a href="http://www.w3.org/TR/ws-policy/" class=
"offsite">[WS-Policy 1.5]</a> and Web Services Policy - Attachment
<a href="http://www.w3.org/TR/ws-policy-attach/" class=
"offsite">[WS-Policy Attachment 1.5]</a> (see Section 2.4.2). Prior
agreements between partners on how Profile conformance is to be
advertised or required might exist. When no such prior agreement
exists and there is a need to advertise, the use of WS-Policy is
RECOMMENDED over the use of the Conformance Claim Attachment
Mechanisms.</p>
<p>This Profile supports multiple conformance targets. Conformance
targets are annotated in requirements as described in Section 2.2.
The TAGs associated with each requirement in this Profile are
partitioned into two major subsets: "CORE" (transport- independent)
and "HTTP-TRANSPORT" (HTTP transport-specific). When the endpoint
advertising conformance to this Profile is using HTTP, then all of
the requirements of the Profile apply as specified in Section 2.
When the endpoint advertising conformance to this Profile is using
a transport other than HTTP, then only the requirements tagged with
"CORE" apply.</p>
<div class="refinement">
<h4 id=
"Claiming_Conformance_using_the_Conformance_Claim_Attachment_Mechanisms">
2.4.1 Claiming Conformance using the Conformance Claim Attachment
Mechanisms</h4>
<div class="explanation">
<p>Claims of conformance to this Profile can be made using the
following <a href=
"http://www.ws-i.org/Profiles/ConformanceClaims-1.0-2004-11-15.html"
class="offsite">Conformance Claim Attachment Mechanisms</a> , when
the applicable Profile requirements associated with the listed
targets have been met:</p>
<ul>
<li><strong>WSDL 1.1 Claim Attachment Mechanism for Web Services
Instances</strong> - MESSAGE, DESCRIPTION, INSTANCE, RECEIVER</li>
<li><strong>WSDL 1.1 Claim Attachment Mechanism for Web Description
Constructs</strong> - DESCRIPTION</li>
<li><strong>UDDI Claim Attachment Mechanism for Web Services
Instances</strong> - MESSAGE, DESCRIPTION, INSTANCE, RECEIVER</li>
<li><strong>UDDI Claim Attachment Mechanism for Web Services
Registrations</strong> - REGDATA</li>
</ul>
<p>The Basic Profile 2.0 conformance claim URI is:</p>
<dl>
<dd>
<em>http://ws-i.org/profiles/basic-profile/2.0/Conformant</em></dd>
</dl>
<p>When a web service instance is using HTTP, then all of the
requirements of the Profile apply as specified in Section 2. When a
transport other than HTTP is used, then only the requirements
tagged with "CORE" apply.</p>
</div>
</div>
<div class="refinement">
<h4 id=
"Claiming_Conformance_using_WS-Policy_and_WS-PolicyAttachment">
2.4.2 Claiming Conformance using WS-Policy and
WS-PolicyAttachment</h4>
<div class="explanation">
<p>Mechanisms described in Web Services Policy - Framework <a href=
"http://www.w3.org/TR/ws-policy/" class="offsite">[WS-Policy
1.5]</a> and Web Services Policy - Attachment <a href=
"http://www.w3.org/TR/ws-policy-attach/" class="offsite">[WS-Policy
Attachment 1.5]</a> specifications can be used to advertise
conformance to this Profile. The Profile defines the following
policy assertion for this purpose:</p>
<dl>
<dd><code>&lt;bp20:Conformant
xmlns:bp20="http://ws-i.org/profiles/basic-profile/2.0/"/&gt;</code></dd>
</dl>
<p>A normative copy of the XML Schema for this assertion can be
retrieved from the following address: <a href=
"http://ws-i.org/profiles/basic-profile/2.0/bp20.xsd" class=
"offsite">http://ws-i.org/profiles/basic-profiles/2.0/bp20.xsd</a>
. A non-normative copy of the XML Schema is provided in <a href=
"#schm" class="offsite">Appendix F</a> , for convenience.</p>
<p>The presence of this assertion indicates that the policy subject
supports the requirements of this Profile in a manner that conforms
to Basic Profile 2.0 (See Section 2). This assertion also requires
that CONSUMERS MUST use the effected protocols in a way that
conforms to Basic Profile 2.0. The absence of this assertion says
nothing about Basic Profile 2.0 conformance; it simply indicates
the lack of an affirmative declaration of and requirement for Basic
Profile 2.0 conformance.</p>
<p>The <code>bp20:Conformant</code> policy assertion applies to the
endpoint policy subject.</p>
<p>For WSDL 1.1, this assertion can be attached to a
<code>wsdl11:port</code> or <code>wsdl11:binding</code> . A policy
expression containing the <code>bp20:Conformant</code> policy
assertion MUST NOT be attached to a <code>wsdl:portType</code>
.</p>
</div>
<p class="example-banner">For example,</p>
<div class="example">
<p class="correct">CORRECT:</p>
<pre>
&lt;wsp:Policy xmlns:bp20="http://ws-i.org/profiles/basic-profile/2.0/"
            xmlns:wsp="http://www.w3.org/ns/ws-policy"&gt;
  &lt;bp20:Conformant/&gt;
&lt;/wsp:Policy&gt;

</pre></div>
</div>
<div class="refinement">
<div class="rationale">
<p>The example above shows a policy expression that requires Basic
Profile 2.0.</p>
</div>
<p class="example-banner">For example,</p>
<div class="example">
<p class="correct">CORRECT:</p>
<pre>
&lt;wsp:Policy xmlns:bp20="http://ws-i.org/profiles/basic-profile/2.0/"
            xmlns:wsp="http://www.w3.org/ns/ws-policy"
            xmlns:wsam="http://www.w3.org/2007/05/addressing/metadata"&gt;
  &lt;wsam:Addressing&gt;
    &lt;wsp:Policy/&gt;
  &lt;/wsam:Addressing&gt;
  &lt;bp20:Conformant/&gt;
&lt;/wsp:Policy&gt;

</pre></div>
</div>
<div class="refinement">
<div class="rationale">
<p>The example above shows a policy expression that requires
WS-Addressing and Basic Profile 2.0.</p>
</div>
</div>
<h2 id="messaging">3. Messaging</h2>
<p>This section of the Profile incorporates the following
specifications by reference, and defines extensibility points
within them:</p>
<ul>
<li><a href="http://www.w3.org/TR/2007/REC-soap12-part1-20070427/"
class="offsite">SOAP Version 1.2 Part 1: Messaging Framework
(Second Edition)</a><br />
Extensibility points:
<ul>
<li><span id="E0001" class="statement-id">E0001</span> - Header
blocks - Header blocks are an extensibility mechanism in
SOAP.<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1901">BP1901</a></span>
<div style="display: none;" id="BP1901">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1901" id=
"BP1901">BP1901</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The soap:Envelope contains other header blocks.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope[soap12:Header[some
$hbloc in child::* satisfies not(fn:namespace-uri($hbloc) =
'http://www.w3.org/2005/08/addressing') and
not($hbloc/attribute::*:IsReferenceParameter) ]]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">fn:true()</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=warning, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>permitted</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Extensibility Point WARNING: The soap12:Envelope makes use of
extra SOAP headers</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1901">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1901">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</li>
<li><span id="E0002" class="statement-id">E0002</span> - Processing
order - The order of processing of a SOAP envelope's components
(e.g., headers) is unspecified, and therefore may need to be
negotiated out-of-band.<span class="claim-type">CORE</span>
<span class="testable-type">NOT_TESTABLE</span></li>
<li><span id="E0003" class="statement-id">E0003</span> - Use of
intermediaries - SOAP Intermediaries is an underspecified mechanism
in SOAP 1.2, and their use may require out-of-band negotiation.
Their use may also necessitate careful consideration of where
Profile conformance is measured.<span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></li>
<li><span id="E0004" class="statement-id">E0004</span> - SOAP role
values - Values of the SOAP role attribute, other than the special
uri 'http://www.w3.org/2003/05/soap-envelope/role/next', represent
a private agreement between parties of the web service.<span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1904">BP1904</a></span>
<div style="display: none;" id="BP1904">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1904" id=
"BP1904">BP1904</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The soap12:Envelope contains @role with unspecified
values.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope[.//attribute::*:role]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $rval in
.//*/attribute::*:role satisfies ($rval =
'http://www.w3.org/2003/05/soap-envelope/role/next' or $rval =
'http://www.w3.org/2003/05/soap-envelope/role/none')</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=warning</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>permitted</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Extensibility Point WARNING: The soap12:Envelope contains @role
with unspecified values</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1904">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1904">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</li>
<li><span id="E0005" class="statement-id">E0005</span> - Fault
details - Faults may have Detail elements. The contents of these
elements are not described in SOAP 1.2.<span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1905">BP1905</a></span>
<div style="display: none;" id="BP1905">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1905" id=
"BP1905">BP1905</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The soap12:Envelope contains a Fault with unspecified Detail
content.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope[soap12:Body/soap12:Fault/soap12:Detail]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">fn:true()</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=warning, false=passed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>permitted</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Extensibility Point WARNING: The soap12:Fault makes use of
optional Detail element</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1905">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1905">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</li>
<li><span id="E0024" class="statement-id">E0024</span> - Namespace
Attributes - Namespace attributes on soap12:Envelope and
soap12:Header elements<span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span></li>
<li><span id="E0025" class="statement-id">E0025</span> - Attributes
on soap12:Body elements - Neither namespaced nor local attributes
are constrained by SOAP 1.2.<span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span></li>
</ul>
</li>
<li><a href="http://www.w3.org/TR/2007/REC-soap12-part2-20070427/"
class="offsite">SOAP Version 1.2 Part 2: Adjuncts (Second
Edition)</a><br />
Extensibility points:
<ul>
<li><span id="E0026" class="statement-id">E0026</span> - SOAP
envelope in HTTP Response message to WSDL one-way operation - The
SOAP 1.2 Request Response Binding specification does not specify
the purpose or processing of such envelopes.<span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span></li>
</ul>
</li>
<li><a href="http://www.ietf.org/rfc/rfc2616" class=
"offsite">RFC2616: Hypertext Transfer Protocol --
HTTP/1.1</a><br />
Extensibility points:
<ul>
<li><span id="E0007" class="statement-id">E0007</span> - HTTP
Authentication - HTTP authentication allows for extension schemes,
arbitrary digest hash algorithms and parameters.<span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span></li>
<li><span id="E0008" class="statement-id">E0008</span> -
Unspecified Header Fields - HTTP allows arbitrary headers to occur
in messages.<span class="claim-type">HTTP-TRANSPORT</span>
<span class="testable-type">TESTABLE</span></li>
<li><span id="E0010" class="statement-id">E0010</span> -
Content-Encoding - The set of content-codings allowed by HTTP is
open-ended and any besides 'gzip', 'compress', or 'deflate' are an
extensibility point.<span class="claim-type">HTTP-TRANSPORT</span>
<span class="testable-type">TESTABLE</span></li>
<li><span id="E0011" class="statement-id">E0011</span> -
Transfer-Encoding - The set of transfer-encodings allowed by HTTP
is open-ended.<span class="claim-type">HTTP-TRANSPORT</span>
<span class="testable-type">TESTABLE</span></li>
<li><span id="E0029" class="statement-id">E0029</span> - Use of
messages other than SOAP 1.2 or XOP messages - Use of Messages
other than a SIMPLE_SOAP_MESSAGE or a XOP_ENCODED_MESSAGE is an
extensibility point<span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span></li>
</ul>
</li>
<li><a href="http://www.ietf.org/rfc/rfc2965" class=
"offsite">RFC2965: HTTP State Management Mechanism</a></li>
<li><a href="http://www.w3.org/TR/2006/REC-ws-addr-core-20060509"
class="offsite">WS-Addressing 1.0 - Core</a></li>
<li><a href="http://www.w3.org/TR/2006/REC-ws-addr-soap-20060509/"
class="offsite">WS-Addressing 1.0 - SOAP Binding (except for
sections 4, 5.1.1, 5.2.1 and 6.2)</a><br />
Extensibility points:
<ul>
<li><span id="E0027" class="statement-id">E0027</span> - Use of
SOAP role attribute and WS-Addressing - WS-Addressing allows
multiple instances of headers such as wsa:To, wsa:ReplyTo, and
wsa:FaultTo, so long as they are targeted to different SOAP
roles.<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span></li>
<li><span id="E0028" class="statement-id">E0028</span> - Endpoint
references are extensible - When extension attributes or elements
appear as part of an endpoint reference, the processing model for
such extensions is defined by the specification for those
extensions.<span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></li>
</ul>
</li>
<li><a href=
"http://www.w3.org/TR/2007/REC-ws-addr-metadata-20070904/" class=
"offsite">WS-Addressing 1.0 - Metadata (except for sections 4.1.1,
4.4.2, 4.4.3 and 5.2)</a></li>
<li><a href="http://www.w3.org/TR/soap12-mtom/" class=
"offsite">SOAP Message Transmission Optimization Mechanism</a></li>
<li><a href="http://www.w3.org/TR/xop10/" class=
"offsite">XML-Binary Optimized Packaging</a></li>
<li><a href="http://www.ietf.org/rfc/rfc3023" class="offsite">XML
Media Types</a></li>
</ul>
<p>These extensibility points are listed, along with any
extensibility points from other sections of this Profile, in
<a href="#points">Appendix B</a></p>
<h3 id="SERIALIZATION">3.1 Message Serialization</h3>
<p>This Profile is intended to compose with mechanisms to describe
whether messages are encoded as SIMPLE_SOAP_MESSAGEs or
XOP_ENCODED_MESSAGEs. As such it does not mandate that both of
these encodings be supported for any given operation. Indeed,
neither of these encodings need be supported if an alternate
encoding such as that described in the <a href=
"http://www.ws-i.org/Profiles/AttachmentsProfile-1.0.html" class=
"offsite">Attachments Profile 1.0</a> is used.</p>
<p>SOAP 1.2 defines an XML structure for serializing messages, the
envelope. This Profile places the following constraints on the use
and serialization of the soap12:Envelope element and its
content:</p>
<p>This Profile allows for the use of protocol bindings other than
HTTP. <a href="#conformance_targets" class="offsite">Section
2.2</a> identifies the use of Simple SOAP and XOP encoded messages
using HTTP. <a href="#SERIALIZATION" class="offsite">Section
3.1</a> identifies how encoding is handled for HTTP only. <a href=
"http://www.ietf.org/rfc/rfc2616" class="offsite">RFC 2616</a> and
<a href="http://www.ietf.org/rfc/rfc3023" class=
"offsite">RFC3023</a> provide guidance for HTTP, supplemented by
requirements throughout this profile. If another transport protocol
is used, the responsibility for defining how to handle
transport-specific features (e.g. content encoding) falls to the
specification of the binding of SOAP to that transport
protocol.</p>
<p>This section of the Profile incorporates the following
specifications by reference:</p>
<ul>
<li><a href="http://www.w3.org/TR/2006/REC-xml-20060816/" class=
"offsite">Extensible Markup Language (XML) 1.0 (Fourth
Edition)</a></li>
<li><a href=
"http://www.ws-i.org/Profiles/AttachmentsProfile-1.0.html" class=
"offsite">Attachments Profile Version 1.0</a></li>
</ul>
<div class="refinement">
<h4 id="XML_Envelope_Serialization">3.1.1 XML Envelope
Serialization</h4>
<p class="statement"><span class="statement-id"><a name="R9701" id=
"R9701">R9701</a></span> An <span class=
"statement-target">ENVELOPE</span> MUST be serialized as XML 1.0.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1019">BP1019</a></span></p>
<div style="display: none;" id="BP1019">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1019" id=
"BP1019">BP1019</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The soap12:Envelope in the message is a well-formed XML 1.0
document.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> metadata</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="metadata">
$target/../../wsil:messageContents[@validXml and
@xmlVersion]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
$target/../../wsil:messageContents[@validXml = fn:true() and
@xmlVersion = '1.0']</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The soap12:Envelope does not conform to XML 1.0.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">{SOAP message}{any XML
parser error messages}</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1019">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1019">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Unicode_BOMs">3.1.2 Unicode BOMs</h4>
<div class="rationale">
<p>XML 1.0 allows UTF-8 encoding to include a BOM; therefore,
receivers of envelopes must be prepared to accept them. The BOM is
mandatory for XML encoded as UTF-16.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R4006" id=
"R4006">R4006</a></span> A <span class=
"statement-target">RECEIVER</span> MUST NOT fault due to the
presence of a UTF-8 Unicode Byte Order Mark (BOM) in the SOAP
envelope when the envelope is correctly encoded using UTF-8 and the
"charset" parameter of the HTTP <code>Content-Type</code> header
has a value of "utf-8" (see <a href=
"http://www.ietf.org/rfc/rfc3023" class="offsite">RFC3023</a>).
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE_SCENARIO_DEPENDENT</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1306">BP1306</a></span></p>
<div style="display: none;" id="BP1306">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1306" id=
"BP1306">BP1306</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>A RECEIVER MUST NOT fault due to the presence of a UTF-8
Unicode Byte Order Mark. NOTE: This is a "scenario-dependent" test
assertion, that will only trigger if the SOAP Header contains a
header block of the form *:R4006 or *:R1019 (with any namespace
prefix).</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents[fn:starts-with(fn:lower-case(@encoding),
'utf-8') ]/soap12:Envelope[soap12:Header/*:R1019 or
soap12:Header/*:R4006]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">not
(/wsil:testLog/wsil:messageLog/wsil:message[(@type = 'response' and
@conversation = $target/../../@conversation) or
(.//soap12:Envelope/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] =
$target/soap12:Header/wsa:MessageID)]/wsil:messageContents/soap12:Envelope/soap12:Body/soap12:Fault
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=warning</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A SOAP Fault has been generated when receiving a message with a
UTF-8 Unicode Byte Order Mark. Please verify that this fault has
another cause - it must not be caused by the presence of the
B.O.M.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">{SOAP message}</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1306">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1306">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R4007" id=
"R4007">R4007</a></span> A <span class=
"statement-target">RECEIVER</span> MUST NOT fault due to the
presence of a UTF-16 Unicode Byte Order Mark (BOM) in the SOAP
envelope when the envelope is correctly encoded using UTF-16 and
the "charset" parameter of the HTTP <code>Content-Type</code>
header has a value of "utf-16" (see <a href=
"http://www.ietf.org/rfc/rfc3023" class="offsite">RFC3023</a>).
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE_SCENARIO_DEPENDENT</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1307">BP1307</a></span></p>
<div style="display: none;" id="BP1307">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1307" id=
"BP1307">BP1307</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>A RECEIVER MUST NOT fault due to the presence of a UTF-16
Unicode Byte Order Mark. NOTE: This is a "scenario-dependent" test
assertion, that will only trigger if the SOAP Header contains a
header block of the form *:R4007 (with any namespace prefix).</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents[fn:starts-with(fn:lower-case(@encoding),
'utf-16') ]/soap12:Envelope[soap12:Header/*:R4007]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">not
(/wsil:testLog/wsil:messageLog/wsil:message[(@type = 'response' and
@conversation = $target/../../@conversation) or
(.//soap12:Envelope/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] =
$target/soap12:Header/wsa:MessageID)]/wsil:messageContents/soap12:Envelope/soap12:Body/soap12:Fault
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=warning</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A soap Fault has been generated when receiving a message with a
UTF-16 Unicode Byte Order Mark. Please verify that this Fault has
another cause - it must not be caused by the presence of the
B.O.M.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">{SOAP message}</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1307">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1307">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="XML_Declarations">3.1.3 XML Declarations</h4>
<div class="rationale">
<p>Presence or absence of an XML declaration does not affect
interoperability. Certain implementations might always precede
their XML serialization with the XML declaration.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1010" id=
"R1010">R1010</a></span> A <span class=
"statement-target">RECEIVER</span> MUST NOT fault due to the
presence of an XML Declaration in the SOAP envelope (as specified
by Section 2.8 of XML 1.0,"<a href=
"http://www.w3.org/TR/2006/REC-xml-20060816/#sec-prolog-dtd" class=
"offsite">Prolog and Document Type Declaration</a>"). <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1015">BP1015</a></span></p>
<div style="display: none;" id="BP1015">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1015" id=
"BP1015">BP1015</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>A receiver must not fault messages with envelopes that contain
an XML Declaration.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents[@containsXmlDecl
= 'true']/soap12:Envelope</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not
(/wsil:testLog/wsil:messageLog/wsil:message[(@type = 'response' and
@conversation = $target/../../@conversation) or
(.//soap12:Envelope/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] =
$target/soap12:Header/wsa:MessageID)]/wsil:messageContents/soap12:Envelope/soap12:Body/soap12:Fault
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=warning</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A soap Fault has been generated when receiving a message with
an XML declaration: verify that this Fault has another cause - it
must not be caused by the XML declaration.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">{SOAP
message}</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1015">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1015">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Character_Encodings">3.1.4 Character Encodings</h4>
<div class="rationale">
<p>As a consequence of Section 4.3.3 of XML 1.0, "<a href=
"http://www.w3.org/TR/2006/REC-xml-20060816/#charencoding" class=
"offsite">Character Encoding in Entities</a> ", which requires XML
processors to support both the UTF-8 and UTF-16 character
encodings, this Profile mandates that RECEIVERs support both UTF-8
and UTF-16 character encodings.</p>
<p>To improve interoperability, the "charset" parameter of
Content-Type HTTP header field must be used to determine the
correct character encoding of the message.</p>
<p>As this Profile allows the use of protocol bindings other than
HTTP, the transport is responsible for defining how encoding is
handled as specified in <a href="#conformance_targets" class=
"offsite">Section 2.2</a> for Simple SOAP and XOP encoded messages
using HTTP. This applies to this section and <a href=
"#XOP_Encoded_Messages" class="offsite">Section 3.1.5</a> .</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1012" id=
"R1012">R1012</a></span> An <span class=
"statement-target">ENVELOPE</span> MUST be serialized using either
UTF-8 or UTF-16 character encoding. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1018">BP1018</a></span></p>
<div style="display: none;" id="BP1018">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1018" id=
"BP1018">BP1018</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The logged SOAP envelope is a UTF-8 transcript of an envelope
originally encoded as UTF-8 or UTF-16. The HTTP Content-Type
header's charset value is either UTF-8 or UTF-16. Looking at the
messageContent element of the logged message, either (1) it has a
BOM attribute which maps the charset value in the Content-Type
header, or (2) it has it has an XML declaration which matches the
charset value in the Content-Type header, or (3) there is no BOM
attribute and no XML declaration, and the charset value is
UTF-8.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
$target/../../wsil:httpHeaders/wsil:contentTypeHeader/wsil:parameter[fn:lower-case(@key)
= 'charset' and (fn:starts-with(fn:lower-case(@value), 'utf-8') or
fn:starts-with(fn:lower-case(@value),'utf-16'))] or
fn:starts-with(fn:lower-case($target/../wsil:messageContents/@encoding),'utf-8')
or
fn:starts-with(fn:lower-case($target/../wsil:messageContents/@encoding),'utf-16')</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Either (1a) the message contains a Content-Type header but no
charset value, or (1b) the charset value is neither UTF-8 nor
UTF-16, or (2) there is a BOM attribute in the messageContent
element, but its value does not match the charset value, or (3)
there is an XML declaration, and the charset value does not match
its value, or (4) there is no BOM attribute, no XML declaration,
and the charset value in Content-Type header is not UTF-8.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1018">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1018">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R1018" id=
"R1018">R1018</a></span> A <span class=
"statement-target">SIMPLE_SOAP_MESSAGE</span> MUST indicate the
correct character encoding, using the "charset" parameter.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1018">BP1018</a></span></p>
<div style="display: none;" id="BP1018">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1018" id=
"BP1018">BP1018</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The logged SOAP envelope is a UTF-8 transcript of an envelope
originally encoded as UTF-8 or UTF-16. The HTTP Content-Type
header's charset value is either UTF-8 or UTF-16. Looking at the
messageContent element of the logged message, either (1) it has a
BOM attribute which maps the charset value in the Content-Type
header, or (2) it has it has an XML declaration which matches the
charset value in the Content-Type header, or (3) there is no BOM
attribute and no XML declaration, and the charset value is
UTF-8.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
$target/../../wsil:httpHeaders/wsil:contentTypeHeader/wsil:parameter[fn:lower-case(@key)
= 'charset' and (fn:starts-with(fn:lower-case(@value), 'utf-8') or
fn:starts-with(fn:lower-case(@value),'utf-16'))] or
fn:starts-with(fn:lower-case($target/../wsil:messageContents/@encoding),'utf-8')
or
fn:starts-with(fn:lower-case($target/../wsil:messageContents/@encoding),'utf-16')</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Either (1a) the message contains a Content-Type header but no
charset value, or (1b) the charset value is neither UTF-8 nor
UTF-16, or (2) there is a BOM attribute in the messageContent
element, but its value does not match the charset value, or (3)
there is an XML declaration, and the charset value does not match
its value, or (4) there is no BOM attribute, no XML declaration,
and the charset value in Content-Type header is not UTF-8.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1018">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1018">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R1019" id=
"R1019">R1019</a></span> A <span class=
"statement-target">RECEIVER</span> MUST ignore the encoding
pseudo-attribute of the envelope's XML declaration. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE_SCENARIO_DEPENDENT</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1306">BP1306</a></span></p>
<div style="display: none;" id="BP1306">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1306" id=
"BP1306">BP1306</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>A RECEIVER MUST NOT fault due to the presence of a UTF-8
Unicode Byte Order Mark. NOTE: This is a "scenario-dependent" test
assertion, that will only trigger if the SOAP Header contains a
header block of the form *:R4006 or *:R1019 (with any namespace
prefix).</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents[fn:starts-with(fn:lower-case(@encoding),
'utf-8') ]/soap12:Envelope[soap12:Header/*:R1019 or
soap12:Header/*:R4006]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">not
(/wsil:testLog/wsil:messageLog/wsil:message[(@type = 'response' and
@conversation = $target/../../@conversation) or
(.//soap12:Envelope/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] =
$target/soap12:Header/wsa:MessageID)]/wsil:messageContents/soap12:Envelope/soap12:Body/soap12:Fault
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=warning</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A SOAP Fault has been generated when receiving a message with a
UTF-8 Unicode Byte Order Mark. Please verify that this fault has
another cause - it must not be caused by the presence of the
B.O.M.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">{SOAP message}</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1306">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1306">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="XOP_Encoded_Messages">3.1.5 XOP Encoded Messages</h4>
<div class="rationale">
<p>There exists some confusion among implementations about the
proper encoding of the <code>action</code> parameter for XOP
encoded messages. The <code>multipart/related</code> media type
specification does not include an <code>action</code> parameter,
though it does permit extensibility. Thus, the <code>action</code>
parameter on the <code>multipart/related</code>
<code>Content-Type</code> header has no defined semantic. The
correct encoding is to include the action parameter inside the
<code>start-info</code> parameter of the enclosing MIME
<code>multipart/related</code> entity body as well as inside the
<code>type</code> parameter of the root part. Nevertheless,
existing SENDERs could emit an XOP message with the
<code>action</code> parameter encoded as a separate parameter on
the <code>Content-Type</code> header of the enclosing
<code>multipart/related</code> MIME entity body. This Profile does
not preclude a RECEIVER from accepting such a message.</p>
<p>See <a href="#Character_Encodings" class="offsite">Section
3.1.4</a> for conformance criteria when using HTTP.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1020" id=
"R1020">R1020</a></span> A <span class=
"statement-target">XOP_ENCODED_MESSAGE</span> MUST include the
<code>start-info</code> parameter in the <code>Content-Type</code>
header of the enclosing <code>multipart/related</code> MIME entity
body. <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1020">BP1020</a></span></p>
<div style="display: none;" id="BP1020">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1020" id=
"BP1020">BP1020</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>A XOP_ENCODED_MESSAGE MUST include the start-info parameter in
the Content-Type header of the enclosing multipart/related MIME
entity body.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[wsil:httpHeaders/wsil:contentTypeHeader/@type
= 'multipart' and wsil:httpHeaders/wsil:contentTypeHeader/@subtype
= 'related' and
wsil:httpHeaders/wsil:contentTypeHeader/wsil:parameter[fn:lower-case(@key)
= 'type']/@value= 'application/xop+xml']</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
wsil:httpHeaders/wsil:contentTypeHeader/wsil:parameter[fn:lower-case(@key)
= 'start-info' and @value != '']</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The XOP_ENCODED_MESSAGE does not include the start-info
parameter with proper @value.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1020">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1020">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R1021" id=
"R1021">R1021</a></span> A <span class=
"statement-target">XOP_ENCODED_MESSAGE</span> MUST include the full
value of the type parameter from the root entity body part inside
the <code>start-info</code> parameter of the enclosing
<code>multipart/related</code> MIME entity body part's
<code>Content-Type</code> header. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1021">BP1021</a></span></p>
<div style="display: none;" id="BP1021">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1021" id=
"BP1021">BP1021</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>A XOP_ENCODED_MESSAGE SHOULD include the full value of the type
parameter from the root entity body part inside the start-info
parameter of the enclosing multipart/related MIME entity body
part's Content-Type header.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[wsil:httpHeaders/wsil:contentTypeHeader/@type
= 'multipart' and wsil:httpHeaders/wsil:contentTypeHeader/@subtype
= 'related' and
wsil:httpHeaders/wsil:contentTypeHeader/wsil:parameter[fn:lower-case(@key)
= 'type']/@value = 'application/xop+xml']</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $rootContentID in
string(wsil:httpHeaders/wsil:contentTypeHeader/wsil:parameter[fn:lower-case(@key)
= 'start']/@value) satisfies
string(wsil:httpHeaders/wsil:contentTypeHeader/wsil:parameter[fn:lower-case(@key)
= 'start-info']/@value) =
string(wsil:messageAttachments//*:mimeHeaders[ *:mimeHeader[
fn:lower-case(@key) = 'content-id' and @value =
$rootContentID]]/wsil:contentTypeHeader/wsil:parameter[fn:lower-case(@key)
= 'type']/@value)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>preferred</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The XOP_ENCODED_MESSAGE SHOULD include the full value of the
type parameter</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1021">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1021">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R1022" id=
"R1022">R1022</a></span> A <span class=
"statement-target">RECEIVER</span> MUST NOT fault due to the
<code>action</code> parameter of an XOP encoded message being
included with the value of the <code>start-info</code> parameter
inside the <code>Content-Type</code> header of the enclosing
<code>multipart/related</code> MIME entity body. <span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
<p class="example-banner">For example,</p>
<div class="example">
<p class="incorrect">INCORRECT:</p>
<pre>
MIME-Version: 1.0
Content-Type: Multipart/Related;boundary=MIME_boundary;
  type="application/xop+xml";
  start="&lt;mymessage.xml@example.org&gt;";
  start-info="application/soap+xml";
  action="ProcessData"

--MIME_boundary
Content-Type: application/xop+xml;
  charset=UTF-8;
  type="application/soap+xml; action=\"ProcessData\""
Content-Transfer-Encoding: 8bit
Content-ID: &lt;mymessage.xml@example.org&gt;
...
</pre></div>
<div class="example">
<p class="correct">CORRECT:</p>
<pre>
MIME-Version: 1.0
Content-Type: Multipart/Related;boundary=MIME_boundary;
  type="application/xop+xml";
  start="&lt;mymessage.xml@example.org&gt;";
  start-info="application/soap+xml; action=\"ProcessData\""
Content-Description: A SOAP message with my pic and sig in it

--MIME_boundary
Content-Type: application/xop+xml;
  charset=UTF-8;
  type="application/soap+xml; action=\"ProcessData\""
Content-Transfer-Encoding: 8bit
Content-ID: &lt;mymessage.xml@example.org&gt;
...
</pre></div>
</div>
<h3 id="SOAPENV">3.2 SOAP Envelopes</h3>
<p><a href=
"http://www.w3.org/TR/2007/REC-soap12-part1-20070427/#soapenv"
class="offsite">SOAP 1.2, Section 5</a> , defines a structure for
composing messages, the "SOAP Envelope". The Profile mandates the
use of that structure, and places the following constraints on its
use.</p>
<div class="refinement">
<h4 id="SOAP_Envelope_Structure">3.2.1 SOAP Envelope Structure</h4>
<div class="rationale">
<p>There are obvious interoperability problems if different
implementations do not agree on the number of allowable children
for the <code>soap12:Body</code> element.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R9980" id=
"R9980">R9980</a></span> An <span class=
"statement-target">ENVELOPE</span> MUST conform to the structure
specified in SOAP Version 1.2 Part 1, Section 5, "SOAP Envelope"
(subject to amendment by the Profile). <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1600">BP1600</a></span></p>
<div style="display: none;" id="BP1600">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1600" id=
"BP1600">BP1600</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope conforms to the structure specified in SOAP 1.2
Part 1, Section 5.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> metadata</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="metadata">
$target/../@schemaValid</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">$target/../@schemaValid =
fn:true()</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The envelope does not conform to the structure specified in
SOAP 1.2 Part 1, Section 5</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">SOAP
envelope.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1600">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1600">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R9981" id=
"R9981">R9981</a></span> An <span class=
"statement-target">ENVELOPE</span> MUST have exactly zero or one
child elements of the <code>soap12:Body</code> element.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1881">BP1881</a></span></p>
<div style="display: none;" id="BP1881">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1881" id=
"BP1881">BP1881</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must have exactly zero or one child elements of
the soap12:Body</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">count(soap12:Body/*) le
1</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The envelope does not have exactly zero or one child elements
of the soap12:Body</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">SOAP
envelope.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1881">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1881">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>See the requirements in <a href="#Bindings_and_Parts" class=
"offsite">Section 4.4.1</a> for the corresponding, requisite
constraints on a DESCRIPTION.</p>
</div>
</div>
<div class="refinement">
<h4 id="SOAP_Body_Namespace_Qualification">3.2.2 SOAP Body
Namespace Qualification</h4>
<div class="rationale">
<p>The use of unqualified element names may cause naming conflicts,
therefore qualified names must be used for the children of
<code>soap12:Body</code> .</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1014" id=
"R1014">R1014</a></span> The children of the
<code>soap12:Body</code> element in an <span class=
"statement-target">ENVELOPE</span> MUST be namespace qualified.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1202">BP1202</a></span></p>
<div style="display: none;" id="BP1202">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1202" id=
"BP1202">BP1202</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>Each child element (if any) of the soap12:Body element is
namespace qualified (not the grandchildren).</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope[count(soap12:Body/*)
&gt; 0]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
fn:namespace-uri-from-QName(fn:node-name(soap12:Body/*)) !=
''</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A child element of the soap12:Body element is not namespace
qualified.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">SOAP
envelope.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1202">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1202">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Disallowed_Constructs">3.2.3 Disallowed Constructs</h4>
<div class="rationale">
<p>XML DTDs and PIs may introduce security vulnerabilities,
processing overhead and semantic ambiguity when used in envelopes.
As a result, certain XML constructs are disallowed by section 5 of
SOAP 1.2.</p>
<p>Although published errata NE05 (see <a href=
"http://www.w3.org/XML/xml-names-19990114-errata" class=
"offsite">http://www.w3.org/XML/xml-names-19990114-errata</a> )
allows the namespace declaration
xmlns:xml="http://www.w3.org/XML/1998/namespace" to appear, some
older processors considered such a declaration to be an error.
These requirements ensure that conformant artifacts have the
broadest interoperability possible.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1008" id=
"R1008">R1008</a></span> An <span class=
"statement-target">ENVELOPE</span> MUST NOT contain a Document Type
Declaration. <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1007">BP1007</a></span></p>
<div style="display: none;" id="BP1007">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1007" id=
"BP1007">BP1007</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>DTDs relating to soap12:Header or soap12:Body documents, are
not present in the envelope: no DOCTYPE element is present.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> metadata</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="metadata">
$target/../@containsDTD</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not(../@containsDTD =
fn:true())</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The soap12:Header or soap12:Body elements in the envelope, were
described with an included DTD.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">SOAP
envelope.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1007">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1007">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R1009" id=
"R1009">R1009</a></span> An <span class=
"statement-target">ENVELOPE</span> MUST NOT contain Processing
Instructions. <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1208">BP1208</a></span></p>
<div style="display: none;" id="BP1208">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1208" id=
"BP1208">BP1208</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The SOAP envelope does not include XML processing
instructions.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> metadata</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="metadata">
$target/../@containsProcessingInstructions</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
not(../@containsProcessingInstructions = fn:true())</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>a SOAP envelope contains XML processing instructions.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">SOAP
envelope.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1208">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1208">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R1033" id=
"R1033">R1033</a></span> An <span class=
"statement-target">ENVELOPE</span> MUST NOT contain the namespace
declaration xmlns:xml="http://www.w3.org/XML/1998/namespace".
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1033">BP1033</a></span></p>
<div style="display: none;" id="BP1033">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1033" id=
"BP1033">BP1033</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The SOAP envelope does not contain the namespace declaration
xmlns:xml="http://www.w3.org/XML/1998/namespace".</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
not(.//*[fn:namespace-uri(.) =
'http://www.w3.org/XML/1998/namespace'])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>preferred</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The SOAP envelope contains the namespace declaration
xmlns:xml="http://www.w3.org/XML/1998/namespace".</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">SOAP
envelope</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1033">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1033">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="xsi_type_Attributes">3.2.4 xsi:type Attributes</h4>
<div class="rationale">
<p>In many cases, senders and receivers will share some form of
type information related to the envelopes being exchanged.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1017" id=
"R1017">R1017</a></span> A <span class=
"statement-target">RECEIVER</span> MUST NOT fault on the absence of
the xsi:type attribute in envelopes, except in cases where this
attribute is required to indicate a derived type (see <a href=
"http://www.w3.org/TR/xmlschema-1/#xsi_type" class="offsite">XML
Schema Part 1: Structures, Section 2.6.1</a>). <span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
</div>
<div class="refinement">
<h4 id="SOAP_1.2_attributes_on_SOAP_1.2_elements">3.2.5 SOAP 1.2
attributes on SOAP 1.2 elements</h4>
<p class="statement"><span class="statement-id"><a name="R1032" id=
"R1032">R1032</a></span> The <code>soap12:Envelope</code>,
<code>soap12:Header</code>, and <code>soap12:Body</code> elements
in an <span class="statement-target">ENVELOPE</span> MUST NOT have
attributes in the namespace
<code>"http://www.w3.org/2003/05/soap-envelope"</code>.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1032">BP1032</a></span></p>
<div style="display: none;" id="BP1032">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1032" id=
"BP1032">BP1032</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>Test to see if the soap12:Envelope, soap12:Header, and
soap12:Body elements have any attributes in either either the SOAP
1.1 or the SOAP 1.2 namespace. Although this tests for additional
constraints beyond those in R1032 (namely attributes in the SOAP
1.1 namespace), it is felt that the existence of such attributes
represent an error.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $attrib in
(self::node()/attribute::*, ./soap12:Header/attribute::*,
./soap12:Body/attribute::*) satisfies fn:namespace-uri($attrib) !=
'http://www.w3.org/2003/05/soap-envelope' and
fn:namespace-uri($attrib) !=
'http://schemas.xmlsoap.org/soap/envelope/'</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The message has a soap12:Envelope, soap12:Header, or
soap12:Body element with one or more attributes in either the
"http://schemas.xmlsoap.org/soap/envelope/" or the
"http://www.w3.org/2003/05/soap-envelope" namespace.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">SOAP
envelope</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1032">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1032">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<h3 id="SOAPMEM">3.3 SOAP Processing Model</h3>
<p><a href=
"http://www.w3.org/TR/2003/REC-soap12-part1-20030624/#msgexchngmdl"
class="offsite">SOAP 1.2, Section 2</a> defines a model for the
processing of envelopes. In particular, it defines rules for the
processing of header blocks and the envelope body. It also defines
rules related to generation of faults. The Profile places the
following constraints on the processing model:</p>
<div class="refinement">
<h4 id="SOAP_Fault_Processing">3.3.1 SOAP Fault Processing</h4>
<div class="rationale">
<p>When a fault is generated, no further processing should be
performed. In request-response exchanges, a fault message will be
transmitted to the sender of the request, and some application
level error will be flagged to the user.</p>
<p>Both SOAP and this Profile use the term 'generate' to denote the
creation of a SOAP Fault. It is important to realize that
generation of a Fault is distinct from its transmission, which in
some cases is not required.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1029" id=
"R1029">R1029</a></span> Where the normal outcome of processing a
SOAP envelope would have resulted in the transmission of a SOAP
response, but rather a fault is generated instead, the <span class=
"statement-target">RECEIVER</span> MUST NOT transmit the
non-faulting response. <span class="claim-type">CORE</span>
<span class="testable-type">NOT_TESTABLE</span></p>
<div class="explanation">
<p>Note that there may be valid reasons (such as security
considerations) why a fault might not be transmitted.</p>
</div>
</div>
<h3 id="SOAPFAULT">3.4 SOAP Faults</h3>
<div class="refinement">
<h4 id="Identifying_SOAP_Faults">3.4.1 Identifying SOAP Faults</h4>
<div class="rationale">
<p>Some consumer implementations erroneously use only the HTTP
status code to determine the presence of a Fault. Because there are
situations where the Web infrastructure changes the HTTP status
code, and for general reliability, the Profile requires that they
examine the envelope. A Fault is an envelope that has a single
child element of the <code>soap12:Body</code> element, that element
being the <code>soap12:Fault</code> element.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1107" id=
"R1107">R1107</a></span> A <span class=
"statement-target">RECEIVER</span> MUST interpret a SOAP message as
a Fault when the <code>soap12:Body</code> of the message has a
single <code>soap12:Fault</code> child. <span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
</div>
<h3 id="SOAPHTTP">3.5 Use of SOAP in HTTP</h3>
<p>While SOAP itself is not transport specific, this Profile
focuses on its use with HTTP and makes no requirements on the use
of any other transport. Other profiles might be developed to focus
on the particulars of other transports, but that is out of scope
for this Profile. With respect to compliance to this Profile, any
requirement that mentions the HTTP transport applies only when HTTP
is being used. Any requirement that is not specific to HTTP (i.e.
does not mention HTTP specifically) applies toward conformance
regardless of the transport mechanism being used. For convenience,
the HTTP transport-specific requirements have been identified and
tagged as specified in <a href="#conformance_claims" class=
"offsite">Section 2.4</a> .</p>
<p><a href=
"http://www.w3.org/TR/2003/REC-soap12-part2-20030624/#soapinhttp"
class="offsite">Section 7 of SOAP 1.2 Part 2</a> defines a single
protocol binding, for <a href="http://www.ietf.org/rfc/rfc2616"
class="offsite">HTTP/1.1</a> . The Profile makes use of that
binding, and places the following constraints on its use:</p>
<p>For this section, the conformance criteria for the use of HTTP
as a transport protocol are specified in <a href=
"#conformance_scope" class="offsite">Section 2.3</a> .</p>
<div class="refinement">
<h4 id="HTTP_Protocol_Binding">3.5.1 HTTP Protocol Binding</h4>
<div class="rationale">
<p>Several versions of HTTP are defined. HTTP/1.1 has performance
advantages, and is more clearly specified than HTTP/1.0.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1141" id=
"R1141">R1141</a></span> When HTTP is used as the transport, a
<span class="statement-target">MESSAGE</span> MUST be sent using
either HTTP/1.1 or HTTP/1.0. <span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1002">BP1002</a></span></p>
<div style="display: none;" id="BP1002">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1002" id=
"BP1002">BP1002</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>If it is a request, the arg #2 of POST is &lt;HTTP/1.1&gt; or
&lt;HTTP/1.0&gt;. If absent, first line of the body is:
HTTP-Version = HTTP/1.1. (or HTTP/1.0). If it is a response, it
starts with &lt;HTTP/1.1&gt; or &lt;HTTP/1.0&gt;</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request'and
fn:contains(wsil:httpHeaders/wsil:requestLine/text(),
'HTTP')]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
fn:contains(wsil:httpHeaders/wsil:requestLine/text(), 'HTTP/1.0')
or fn:contains(wsil:httpHeaders/wsil:requestLine/text(),
'HTTP/1.1')</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The message that is sent over HTTP, is not sent using HTTP/1.1
or HTTP/1.0.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">All HTTP
headers.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1002">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1002">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R1140" id=
"R1140">R1140</a></span> When HTTP is used as the transport, a
<span class="statement-target">MESSAGE</span> SHOULD be sent using
HTTP/1.1. <span class="claim-type">HTTP-TRANSPORT</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1001">BP1001</a></span></p>
<div style="display: none;" id="BP1001">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1001" id=
"BP1001">BP1001</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>If it is a request, the arg #2 of POST is &lt;HTTP/1.1&gt;. If
absent, first line of the body is: HTTP-Version = HTTP/1.1. If it
is a response, it starts with &lt;HTTP/1.1&gt;</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP1002</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
contains(wsil:httpHeaders/wsil:requestLine/text(),
'HTTP/1.1')</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=warning</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>preferred</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The message is not sent using HTTP/1.1.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">All HTTP
headers.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1001">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1001">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>Note that support for HTTP/1.0 is implied in HTTP/1.1, and that
intermediaries may change the version of a message; for more
information about HTTP versioning, see RFC2145, "Use and
Interpretation of HTTP Version Numbers."</p>
</div>
</div>
<div class="refinement">
<h4 id="Parameters_on_the_Content-Type_MIME_Header">3.5.2
Parameters on the Content-Type MIME Header</h4>
<p class="statement"><span class="statement-id"><a name="R1109" id=
"R1109">R1109</a></span> If present, the values of the following
parameters - <code>type</code>, <code>start-info</code>,
<code>action</code>, and <code>boundary</code> - on the
<code>Content-Type</code> MIME header field-value in a request
<span class="statement-target">MESSAGE</span> MUST be a quoted
string. <span class="claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1006">BP1006</a></span></p>
<div style="display: none;" id="BP1006">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1006" id=
"BP1006">BP1006</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The action header contains a quoted string of any value,
including "".</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'request'][wsil:httpHeaders/wsil:contentTypeHeader]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP1761</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $par in
wsil:httpHeaders/wsil:contentTypeHeader/wsil:parameter satisfies
not($par/@quoted) or not(fn:lower-case($par/@key) eq 'type' or
fn:lower-case($par/@key) eq 'start-info' or
fn:lower-case($par/@key) eq 'action' or fn:lower-case($par/@key) eq
'boundary') or $par/@quoted = fn:true()</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>action HTTP header does not contain a quoted string.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">All HTTP
headers.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1006">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1006">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="HTTP_Success_Status_Codes">3.5.3 HTTP Success Status
Codes</h4>
<div class="rationale">
<p>HTTP uses the 2xx series of status codes to communicate success.
In particular, 200 is the default for successful messages, but 202
can be used to indicate that a message has been submitted for
processing. Additionally, other 2xx status codes may be
appropriate, depending on the nature of the HTTP interaction.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1124" id=
"R1124">R1124</a></span> An <span class=
"statement-target">INSTANCE</span> MUST use a 2xx HTTP status code
on a response message that indicates the successful outcome of a
HTTP Request. <span class="claim-type">HTTP-TRANSPORT</span>
<span class="testable-type">NOT_TESTABLE</span></p>
<p class="statement"><span class="statement-id"><a name="R1111" id=
"R1111">R1111</a></span> An <span class=
"statement-target">INSTANCE</span> SHOULD use a "200 OK" HTTP
status code on a response message that contains an envelope that is
not a fault. <span class="claim-type">HTTP-TRANSPORT</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1100">BP1100</a></span></p>
<div style="display: none;" id="BP1100">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1100" id=
"BP1100">BP1100</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The message uses a "200 OK" HTTP status code.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
//wsil:message[@type='response'][wsil:messageContents/soap12:Envelope/soap12:Body[not(soap12:Fault)]]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
contains(wsil:httpHeaders/wsil:requestLine, "200")</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>preferred</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The envelope of the response message does not contain a
soap12:Fault and the message does not use a "200 OK" HTTP status
code.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1100">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1100">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R1112" id=
"R1112">R1112</a></span> An <span class=
"statement-target">INSTANCE</span> SHOULD use either a "200 OK" or
"202 Accepted" HTTP status code for a response message that does
not contain a SOAP envelope but indicates the successful outcome of
a HTTP Request. <span class="claim-type">HTTP-TRANSPORT</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1101">BP1101</a></span></p>
<div style="display: none;" id="BP1101">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1101" id=
"BP1101">BP1101</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The response message, if successfully processed at HTTP level,
is sent using either a "200 OK" or "202 Accepted" HTTP status
code.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
//wsil:message[@type='response'][wsil:messageContents[not(soap12:Envelope)]][not
(matches(wsil:httpHeaders/wsil:requestLine,
"4[0-9][0-9]"))]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
contains(wsil:httpHeaders/wsil:requestLine, "200") or
contains(wsil:httpHeaders/wsil:requestLine, "202
Accepted")</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>preferred</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A response message without a SOAP message, is not using either
a "200 OK" or "202 Accepted" HTTP status code, though successful at
HTTP level.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1101">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1101">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>Despite the fact that the HTTP 1.1 assigns different meanings to
response status codes "200" and "202", in the context of the
Profile they should be considered equivalent by the initiator of
the request. The Profile accepts both status codes because some
SOAP implementations have little control over the HTTP protocol
implementation and cannot control which of these response status
codes is sent.</p>
</div>
</div>
<div class="refinement">
<h4 id="HTTP_Redirect_Status_Codes">3.5.4 HTTP Redirect Status
Codes</h4>
<div class="rationale">
<p>There are interoperability problems with using many of the HTTP
redirect status codes, generally surrounding whether to use the
original method, or GET. The Profile mandates "307 Temporary
Redirect", which has the semantic of redirection with the same HTTP
method, as the correct status code for redirection. For more
information, see the 3xx status code descriptions in RFC2616.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1130" id=
"R1130">R1130</a></span> An <span class=
"statement-target">INSTANCE</span> MUST use the "307 Temporary
Redirect" HTTP status code when redirecting a request to a
different endpoint. <span class="claim-type">HTTP-TRANSPORT</span>
<span class="testable-type">NOT_TESTABLE</span></p>
<div class="explanation">
<p>RFC2616 notes that user-agents should not automatically redirect
requests; however, this requirement was aimed at browsers, not
automated processes (which many Web services will be). Therefore,
the Profile allows, but does not require, consumers to
automatically follow redirections.</p>
</div>
</div>
<div class="refinement">
<h4 id="HTTP_Cookies">3.5.5 HTTP Cookies</h4>
<div class="rationale">
<p>The <a href="http://www.ietf.org/rfc/rfc2965" class=
"offsite">HTTP State Management Mechanism</a> ("Cookies") allows
the creation of stateful sessions between Web browsers and servers.
Because they are designed for hypertext browsing, Cookies do not
have well-defined semantics for Web services, and, because they are
external to the envelope, are not accommodated by either SOAP 1.2
or WSDL 1.1. This Profile limits the ways in which Cookies can be
used, without completely disallowing them.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1122" id=
"R1122">R1122</a></span> An <span class=
"statement-target">INSTANCE</span> using Cookies SHOULD conform to
RFC2965. <span class="claim-type">HTTP-TRANSPORT</span>
<span class="testable-type">NOT_TESTED</span></p>
<p class="statement"><span class="statement-id"><a name="R1121" id=
"R1121">R1121</a></span> An <span class=
"statement-target">INSTANCE</span> SHOULD NOT require consumer
support for Cookies in order to function correctly. <span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">NOT_TESTED</span></p>
<div class="explanation">
<p>The Profile recommends that cookies not be required by instances
for proper operation; they should be a hint, to be used for
optimization, without materially affecting the execution of the Web
service.</p>
</div>
</div>
<div class="refinement">
<h4 id="Non-Addressable_Consumers_and_Instances">3.5.6
Non-Addressable Consumers and Instances</h4>
<p>Definition: non-addressable</p>
<div class="definition">
<p>A CONSUMER or INSTANCE is deemed "non-addressable" when, for
whatever reason, it is either unwilling or unable to provide a
network endpoint that is capable of accepting connections. This
means that the CONSUMER or INSTANCE cannot service incoming HTTP
connections and can only transmit HTTP Request messages and receive
HTTP Response messages.</p>
</div>
<div class="rationale">
<p>Non-addressable CONSUMERs and INSTANCEs, by their nature, cannot
service incoming HTTP connections. Therefore any ENVELOPEs that
they receive, either as requests (in the case of INSTANCEs) or
responses (in the case of CONSUMERs), MUST, when HTTP is used, be
carried in the entity-body of an HTTP Request message.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1202" id=
"R1202">R1202</a></span> When a CONSUMER is non-addressable, a SOAP
<span class="statement-target">ENVELOPE</span>, that is described
by the output message of a WSDL operation supported by an INSTANCE,
MUST be bound to a HTTP Response message. <span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1126a">BP1126a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1126b">BP1126b</a></span></p>
<div style="display: none;" id="BP1126a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1126a" id=
"BP1126a">BP1126a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>When a CONSUMER is non-addressable, a SOAP ENVELOPE, that is
described by the output message of a WSDL doc-lit operation
supported by an INSTANCE, MUST be bound to a HTTP Response
message.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope
[soap12:Body[not (soap12:Fault) ] and
soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] and (some $respenv in . satisfies some $req in
/wsil:testLog/wsil:messageLog/wsil:message satisfies
$req/wsil:messageContents/soap12:Envelope/soap12:Header/wsa:MessageID
= $respenv/soap12:Header/wsa:RelatesTo [@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] and
$req/wsil:messageContents/soap12:Envelope/soap12:Header[fn:contains(wsa:ReplyTo[1]/wsa:Address
, 'http://www.w3.org/2005/08/addressing/anonymous') or
not(wsa:ReplyTo)] ) ] [ some $myenv in . satisfies ( every $message
in //wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part[fn:resolve-QName(xsd:string(@element),
. ) = fn:node-name($target/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">$target/../../@type =
'response'</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope for a WSDL doc/lit bound response message, related
to a request containing a wsa:ReplyTo anonymous, was sent over an
HTTP request.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1126a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1126a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1126b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1126b" id=
"BP1126b">BP1126b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>When a CONSUMER is non-addressable, a SOAP ENVELOPE, that is
described by the output message of a WSDL rpc-lit operation
supported by an INSTANCE, MUST be bound to a HTTP Response
message.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope
[soap12:Body[not (soap12:Fault) ] and
soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] and (some $respenv in . satisfies some $req in
/wsil:testLog/wsil:messageLog/wsil:message satisfies
$req/wsil:messageContents/soap12:Envelope/soap12:Header/wsa:MessageID
= $respenv/soap12:Header/wsa:RelatesTo [@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] and
$req/wsil:messageContents/soap12:Envelope/soap12:Header[fn:contains(wsa:ReplyTo[1]/wsa:Address,
'http://www.w3.org/2005/08/addressing/anonymous') or
not(wsa:ReplyTo)] ) ] [ some $myenv in . satisfies some $message in
//wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]/ wsdl:operation [fn:string-join((@name, 'Response' ),'' )
=
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">$target/../../@type =
'response'</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope for a WSDL rpc/lit bound response message, related
to a request containing a wsa:ReplyTo anonymous, was sent over an
HTTP request.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1126b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1126b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R1203" id=
"R1203">R1203</a></span> When an INSTANCE is non-addressable, a
SOAP <span class="statement-target">ENVELOPE</span>, that is
described by the input message of a WSDL operation supported by the
INSTANCE, MUST be bound to a HTTP Response message. <span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span></p>
<p class="statement"><span class="statement-id"><a name="R1204" id=
"R1204">R1204</a></span> When an INSTANCE is non-addressable, a
SOAP <span class="statement-target">ENVELOPE</span>, that is
described by the output message of a WSDL operation supported by
the INSTANCE, MUST be bound to a HTTP Request message. <span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span></p>
<div class="explanation">
<p>Note that INSTANCEs can poll for requests from CONSUMERs using
mechanisms such as those described in <a href=
"http://docs.oasis-open.org/ws-rx/wsmc/200702/wsmc-1.1-spec-os.html"
class="offsite">WS-MakeConnection</a> .</p>
</div>
</div>
<h3 id="SOAPURI">3.6 Use of URIs in SOAP</h3>
<p>This section of the Profile incorporates the following
specifications by reference:</p>
<ul>
<li><a href="http://www.apps.ietf.org/rfc/rfc3986.html" class=
"offsite">RFC3986: Uniform Resource Identifier (URI): Generic
Syntax</a></li>
</ul>
<p><a href=
"http://www.w3.org/TR/2003/REC-soap12-part1-20030624/#useofuris"
class="offsite">SOAP 1.2, Section 6</a> describes the use URIs as
identifiers. For example, the <code>role</code> attribute value is
a URI that identifies the SOAP node(s) to which a particular header
block is targeted. To ensure interoperability it is important that
SENDERs and RECEIVERs share a common understanding of how such URI
values will be compared. The Profile places the following
constraints on the use of such URI values:</p>
<div class="refinement">
<h4 id="Use_of_SOAP-defined_URIs">3.6.1 Use of SOAP-defined
URIs</h4>
<div class="rationale">
<p>A SOAP 1.2 defined URI, such as the <code>role</code> value
"http://www.w3.org/2003/05/soap-envelope/role/next", is treated as
follows:</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1160" id=
"R1160">R1160</a></span> A <span class=
"statement-target">RECEIVER</span>, for the purposes of comparison
of URI values of information items defined by the SOAP 1.2
specification, MUST treat the computed absolute URI values as
simple strings as defined in RFC3986 (see <a href=
"http://www.apps.ietf.org/rfc/rfc3986.html" class=
"offsite">RFC3986</a>, <a href=
"http://www.apps.ietf.org/rfc/rfc3986.html#sec-6.2.1" class=
"offsite">Section 6.2.1</a>). <span class="claim-type">CORE</span>
<span class="testable-type">NOT_TESTABLE</span></p>
</div>
<h3 id="WSADDR">3.7 WS-Addressing Support</h3>
<p>WS-Addressing is a part of core Web services infrastructure. To
facilitate interoperability and to provide a common baseline, this
profile requires compliant clients and services to provide support
for WS-Addressing Core, WS-Addressing SOAP Binding and
WS-Addressing Metadata, as modified by this Profile.</p>
<p>Support for WS-Addressing by a specific "service" is optional.
However, a service may require the use of WS-Addressing, in which
case, for successful interaction with that service, a client will
need to support it.</p>
<p>Note that two BP compliant web services instances may both
support the use of WS- Addressing yet fail to agree on a common set
of features necessary to interact with one another. For example, a
RECEIVER may require the use of non-anonymous response EPRs (and
advertise this via the <code>wsam:NonAnonymousResponses</code>
nested policy assertion) yet a SENDER, for various reasons (e.g.
the presence of NATs or firewalls), may only support the use of
anonymous response EPRs.</p>
<div class="refinement">
<h4 id="Requiring_WS-Addressing_SOAP_Headers">3.7.1 Requiring
WS-Addressing SOAP Headers</h4>
<p class="statement"><span class="statement-id"><a name="R1040" id=
"R1040">R1040</a></span> If an endpoint requires use of
WS-Addressing by use of a <code>wsam:Addressing</code> policy
assertion, an <span class="statement-target">ENVELOPE</span> sent
by a SENDER MUST carry all required WS-Addressing SOAP headers.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1040a">BP1040a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1040b">BP1040b</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1040c">BP1040c</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1142a">BP1142a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1142b">BP1142b</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1142c">BP1142c</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1143a">BP1143a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1143b">BP1143b</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1143c">BP1143c</a></span></p>
<div style="display: none;" id="BP1040a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1040a" id=
"BP1040a">BP1040a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>If an endpoint requires use of WS-Addressing by use of a
wsam:Addressing policy assertion, an ENVELOPE sent by a SENDER MUST
carry all required WS-Addressing SOAP headers. NOTE: this TA is
only verifying the presence of the wsa:Action header. The presence
of other headers (once wsa:Action is present) is verified by the
family of TAs BP1142x and BP1143x (related to R1142), which also
contribute at testing R1040.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message
[/wsil:testLog/wsil:descriptionFiles/*:feature[@name =
'http://www.w3.org/2007/05/addressing/metadata/Addressing' and
@mode =
'required']]/wsil:messageContents/soap12:Envelope[soap12:Body/* and
not (soap12:Body/soap12:Fault) ]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
$target/soap12:Header/wsa:Action</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The use of WS-Addressing was required, but the message did not
include wsa:Action.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">Complete message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1040a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1040a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1040b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1040b" id=
"BP1040b">BP1040b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>This assertions tests one aspect of R1040; if an instance
requires the use of WS-Addressing with anonymous response EPRs, any
envelope sent by a sender must not contain response EPRs that
include anything other than
"http://www.w3.org/2005/08/addressing/anonymous" as the value of
their wsa:Address.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'request']
/wsil:messageContents/soap12:Envelope [
not(soap12:Header/wsa:RelatesTo) and
not(soap12:Header/wsa:ReplyTo/wsa:Address =
'http://www.w3.org/2005/08/addressing/none') and
not(soap12:Header/wsa:FaultTo/wsa:Address =
'http://www.w3.org/2005/08/addressing/none') ]
[/wsil:testLog/wsil:descriptionFiles/wsil:feature[@name =
"http://www.w3.org/ns/ws-policy/Policy"]/wsil:alternative/wsil:feature[@name
=
"http://www.w3.org/2007/05/addressing/metadata/Addressing"]/wsil:alternative/wsil:feature[@name
=
"http://www.w3.org/2007/05/addressing/metadata/AnonymousResponses"
and @mode = "required"] ]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">( (not
($target/soap12:Header/wsa:ReplyTo) or
($target/soap12:Header/wsa:ReplyTo/wsa:Address =
'http://www.w3.org/2005/08/addressing/anonymous') ) and (not
($target/soap12:Header/wsa:FaultTo) or
($target/soap12:Header/wsa:FaultTo/wsa:Address =
'http://www.w3.org/2005/08/addressing/anonymous') ) )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The service requires request messages to use response endpoint
EPRs that contain the anonymous URI as the value of wsa:Address.
The client sent a request with a response EPR that contained
something other than the anonymous URI.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">Complete message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1040b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1040b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1040c">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1040c" id=
"BP1040c">BP1040c</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>This assertions tests one aspect of R1040; if an instance
requires the use of WS-Addressing with non-anonymous response EPRs,
any envelope sent by a sender must not include response EPRs that
include "http://www.w3.org/2005/08/addressing/anonymous" as the
value of their wsa:Address. Note also that the absence of a ReplyTo
header implies a default [reply endpoint] with wsa:Address equal to
"http://www.w3.org/2005/08/addressing/anonymous".</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'request']
/wsil:messageContents/soap12:Envelope [
not(soap12:Header/wsa:RelatesTo) and
not(soap12:Header/wsa:ReplyTo/wsa:Address =
'http://www.w3.org/2005/08/addressing/none') and
not(soap12:Header/wsa:FaultTo/wsa:Address =
'http://www.w3.org/2005/08/addressing/none') ]
[/wsil:testLog/wsil:descriptionFiles/wsil:feature[@name="http://www.w3.org/ns/ws-policy/Policy"]/wsil:alternative/wsil:feature[@name="http://www.w3.org/2007/05/addressing/metadata/Addressing"]/wsil:alternative/wsil:feature[@name="http://www.w3.org/2007/05/addressing/metadata/NonAnonymousResponses"
and @mode="required"] ]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">(
($target/soap12:Header/wsa:ReplyTo) and not
($target/soap12:Header/wsa:ReplyTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous')
and not
($target/soap12:Header/wsa:FaultTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous')
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The service requires request messages to use response endpoint
EPRs that contain something other than the anonymous URI as the
value of wsa:Address. The client sent a request with either a
response EPR that contained the anonymous URI or without the
ReplyTo header, which implies a default [reply endpoint] with the
anonymous URI.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">Complete message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1040c">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1040c">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1142a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1142a" id=
"BP1142a">BP1142a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. For a request message, with a wsa:Action element,
defined using an rpc/lit binding, the following must hold: - If
there is an EPR attached to the corresponding wsdl:port definition,
then the wsa:To element must be present - the
wsa:RelatesTo/@RelationshipType must be present with value
"http://www.w3.org/2005/08/addressing/reply" (this is covered by
2nd cotarget presence) - The wsa:Action value in the soap12:Header
must equal to that specified from the wsdl - If the operation
binding includes a wsdl:output element then there must be
wsa:messageID and a wsa:ReplyTo elements present in the
soap12:Header</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'request']/wsil:messageContents/soap12:Envelope [soap12:Header[
wsa:Action and not (wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] )] and soap12:Body/* and not
(soap12:Body/soap12:Fault) ] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding
[.//wsoap12:*[@style = 'rpc']]/wsdl:operation[@name =
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">( if<br />
(
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/
wsdl:port[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding),
. )) = $myOpBinding/../@name ]/wsa:EndpointReference )<br />
then<br />
(some $portEpr in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/
wsdl:port[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding),
. )) = $myOpBinding/../@name ]/wsa:EndpointReference satisfies (
$target/soap12:Header/wsa:To ) )<br />
else fn:true()<br />
)<br />
and<br />
( if<br />
( $myOpBinding/wsdl:output ) then<br />
($target/soap12:Header/wsa:MessageID) else fn:true()<br />
)<br />
and (: correct wsa:Action value :) (some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/
wsdl:operation[ $myOpBinding/@name = @name ]/wsdl:input satisfies
($target/soap12:Header/wsa:Action = ( if ($opmsg/@wsam:Action) then
$opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Request' ) ) ) )
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a request message, with a wsa:Action element,
defined using an rpc/lit binding, the following must hold: - If
there is an EPR attached to the corresponding wsdl:port definition,
then the wsa:To element must be present - The wsa:Action value in
the soap12:Header must equal to that specified from the wsdl - If
the operation binding includes a wsdl:output element then there
must be wsa:messageID and a wsa:ReplyTo elements present in the
soap12:Header</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">Complete message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1142a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1142a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1142b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1142b" id=
"BP1142b">BP1142b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. http://www.w3.org/2005/08/addressing/reply IRI. For a
response message with a wsa:Action element, defined using an
rpc/lit binding, the following must hold: - the wsa:ReplyTo EPR in
the related Request message must have the anonymous address - the
wsa:To element, if present, must have the anonymous value - The
wsa:Action value in the soap12:Header must equal to that specified
from the wsdl</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'response']/wsil:messageContents/
soap12:Envelope[soap12:Header[wsa:Action] and soap12:Body/* and not
(soap12:Body/soap12:Fault)] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]/ wsdl:operation [fn:string-join((@name, 'Response' ),'' )
=
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">( not
($related-Request/soap12:Header/wsa:ReplyTo) or
($related-Request/soap12:Header/wsa:ReplyTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
) ) and ( $target/soap12:Header/wsa:RelatesTo [ not (
@RelationshipType ) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) and (
$target/soap12:Header[ not (wsa:To) or (wsa:To =
'http://www.w3.org/2005/08/addressing/anonymous' )] ) and (:
correct wsa:Action value :) (some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/
wsdl:operation[ $myOpBinding/@name = @name ]/wsdl:output satisfies
($target/soap12:Header/wsa:Action = ( if ($opmsg/@wsam:Action) then
$opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) )
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a response message with a wsa:Action element,
defined using an rpc/lit binding, the following must hold: - the
wsa:ReplyTo EPR in the related Request message must have the
anonymous address - the wsa:To element, if present, must have the
anonymous value - The wsa:Action value in the soap12:Header must
equal to that specified from the wsdl</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1142b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1142b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1142c">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1142c" id=
"BP1142c">BP1142c</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. http://www.w3.org/2005/08/addressing/reply IRI. For a
non-anonymous response message with a wsa:Action element, defined
using an rpc/lit binding, the following must hold: - the
wsa:ReplyTo EPR in the related Request message must have a
non-anonymous address - the wsa:To element must be present, and
must have a non-anonymous value - The wsa:Action value in the
soap12:Header must equal to that specified from the wsdl</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'request']/wsil:messageContents/ soap12:Envelope [soap12:Body[not
(soap12:Fault)] and soap12:Header [wsa:Action and (wsa:RelatesTo
[@RelationshipType = 'http://www.w3.org/2005/08/addressing/reply'
or not (@RelationshipType)] ) ] ] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]/ wsdl:operation [fn:string-join((@name, 'Response' ),'' )
=
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">(
($related-Request/soap12:Header/wsa:ReplyTo) and not
($related-Request/soap12:Header/wsa:ReplyTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
) ) and ( $target/soap12:Header/wsa:RelatesTo [ not (
@RelationshipType ) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) and (
$target/soap12:Header[ (wsa:To) and not (wsa:To =
'http://www.w3.org/2005/08/addressing/anonymous' ) ] ) and (:
correct wsa:Action value :) (some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/
wsdl:operation[ $myOpBinding/@name = @name ]/wsdl:output satisfies
($target/soap12:Header/wsa:Action = ( if ($opmsg/@wsam:Action) then
$opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) )
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a non-anonymous response message with a wsa:Action
element, defined using an rpc/lit binding, the following must hold:
- the wsa:ReplyTo EPR in the related Request message must have a
non-anonymous address - the wsa:To element must be present, and
must have a non-anonymous value - The wsa:Action value in the
soap12:Header must equal to that specified from the wsdl</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1142c">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1142c">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1143a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1143a" id=
"BP1143a">BP1143a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. For a request message, with a wsa:Action element,
defined using a doc/lit binding, the following must hold: - If
there is an EPR attached to the corresponding wsdl:port definition,
then the wsa:To element must be present - The wsa:Action value in
the soap12:Header must equal to that specified from the wsdl (this
is covered by the cotarget presence) - If the operation binding
includes a wsdl:output element then there must be wsa:messageID and
a wsa:ReplyTo present in the soap12:Header</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'request']/wsil:messageContents/ soap12:Envelope [soap12:Body[not
(soap12:Fault)] and soap12:Header [wsa:Action and not
(wsa:RelatesTo [@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ) ] ] [ some $myenv in . satisfies ( every
$message in //wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part[fn:resolve-QName(xsd:string(@element),
. ) = fn:node-name($target/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Request' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">( if (
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/
wsdl:port[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding),
. )) = $myOpBinding/../@name ]/wsa:EndpointReference ) then (some
$portEpr in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/
wsdl:port[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding),
. )) = $myOpBinding/../@name ]/wsa:EndpointReference satisfies (
$target/soap12:Header/wsa:To ) ) else fn:true() ) and ( if (
$myOpBinding/wsdl:output ) then (
$target/soap12:Header/wsa:MessageID) else fn:true() )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a request message, with a wsa:Action element,
defined using a doc/lit binding, the following must hold: - If
there is an EPR attached to the corresponding wsdl:port definition,
then the wsa:To element must be present - The wsa:Action value in
the soap12:Header must equal to that specified from the wsdl (this
is covered by the cotarget presence) - If the operation binding
includes a wsdl:output element then there must be wsa:messageID and
a wsa:ReplyTo elements present in the soap12:Header</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1143a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1143a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1143b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1143b" id=
"BP1143b">BP1143b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. http://www.w3.org/2005/08/addressing/reply IRI. For a
response message with a wsa:Action element, defined using a doc/lit
binding, the following must hold: - the wsa:ReplyTo EPR in the
related Request message must have the anonymous address - the
wsa:RelatesTo/@RelationshipType must be present with value
"http://www.w3.org/2005/08/addressing/reply" (this is covered by
2nd cotarget presence) - the wsa:To element, if present, must have
the anonymous value - The wsa:Action value in the soap12:Header
must equal to that specified from the wsdl (this is covered by the
cotarget presence)</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'response']/wsil:messageContents/soap12:Envelope [soap12:Body[not
(soap12:Fault) ] and soap12:Header[wsa:Action] ] [ some $myenv in .
satisfies ( every $message in //wsdl:definitions/wsdl:message
satisfies ( (not($message/wsdl:part[1]/@type) ) and (
$myenv/soap12:Body/*[1] or $myenv/soap12:Header/wsa:Action )) )
]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part[fn:resolve-QName(xsd:string(@element),
. ) = fn:node-name($target/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) (: and ( if ($target/soap12:Header/wsa:Action)
then ( some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() ) :)
]</cotarget>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">( not
($related-Request/soap12:Header/wsa:ReplyTo) or
($related-Request/soap12:Header/wsa:ReplyTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
) ) and ( $target/soap12:Header/wsa:RelatesTo [ not (
@RelationshipType ) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) and (
$target/soap12:Header[ not (wsa:To) or (wsa:To =
'http://www.w3.org/2005/08/addressing/anonymous' )] )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a response message with a wsa:Action element,
defined using a doc/lit binding, the following must hold: - the
wsa:ReplyTo EPR in the related Request message must have the
anonymous address - the wsa:To element, if present, must have the
anonymous value - The wsa:Action value in the soap12:Header must
equal to that specified from the wsdl (this is covered by the
cotarget presence)</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1143b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1143b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1143c">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1143c" id=
"BP1143c">BP1143c</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. http://www.w3.org/2005/08/addressing/reply IRI. For a
non anon response message with a wsa:Action element, defined using
a doc/lit binding, the following must hold: - the wsa:ReplyTo EPR
in the related Request message must have a non-anonymous address -
the wsa:RelatesTo/@RelationshipType must be present with value
"http://www.w3.org/2005/08/addressing/reply" (this is covered by
2nd cotarget presence) - the wsa:To element, must be present and
not anonymous - The wsa:Action value in the soap12:Header must
equal to that specified from the wsdl (this is covered by the
cotarget presence)</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'request']/wsil:messageContents/soap12:Envelope [soap12:Body[not
(soap12:Fault)] and soap12:Header [wsa:Action and (wsa:RelatesTo
[@RelationshipType = 'http://www.w3.org/2005/08/addressing/reply'
or not (@RelationshipType)] ) ] ] [ some $myenv in . satisfies (
every $message in //wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part[fn:resolve-QName(xsd:string(@element),
. ) = fn:node-name($target/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">(
($related-Request/soap12:Header/wsa:ReplyTo) and not
($related-Request/soap12:Header/wsa:ReplyTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
) ) and ( $target/soap12:Header/wsa:RelatesTo [ not (
@RelationshipType ) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) and (
$target/soap12:Header[ (wsa:To) and not (wsa:To =
'http://www.w3.org/2005/08/addressing/anonymous' )] )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a non anon response message with a wsa:Action
element, defined using a doc/lit binding, the following must hold:
- the wsa:ReplyTo EPR in the related Request message must have a
non-anonymous address - the wsa:To element, must be present with a
non-anonymous value - The wsa:Action value in the soap12:Header
must equal to that specified from the wsdl (this is covered by the
cotarget presence)</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1143c">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1143c">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id=
"NotUnderstood_block_in_MustUnderstand_Fault_on_WS-Addressing_SOAP_Headers">
3.7.2 NotUnderstood block in MustUnderstand Fault on WS-Addressing
SOAP Headers</h4>
<p class="statement"><span class="statement-id"><a name="R1041" id=
"R1041">R1041</a></span> An <span class=
"statement-target">ENVELOPE</span> that is a MustUnderstand SOAP
fault, sent from an endpoint that has a policy alternative
containing the wsam:Addressing assertion attached to its WSDL
endpoint subject, MUST NOT contain a NotUnderstood SOAP header
block with the qname attribute value that identifies a
WS-Addressing defined SOAP header block. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1041">BP1041</a></span></p>
<div style="display: none;" id="BP1041">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1041" id=
"BP1041">BP1041</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>An ENVELOPE that is a MustUnderstand SOAP fault, sent from an
endpoint that has a policy alternative containing the
wsam:Addressing assertion attached to its WSDL endpoint subject,
MUST NOT contain a NotUnderstood SOAP header block with the qname
attribute value that identifies a WS-Addressing defined SOAP header
block.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope[soap12:Body/soap12:Fault[some
$code in .//soap12:Value satisfies
fn:contains($code,'MustUnderstand') ]]
[/wsil:testLog/wsil:descriptionFiles/*:feature[@name =
'http://www.w3.org/2007/05/addressing/metadata/Addressing' and
(@mode = 'required' or @mode = 'supported')]]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
$target/soap12:Header[not(soap12:NotUnderstood[fn:namespace-uri-for-prefix(fn:substring-before(@qname,
':'), .) = 'http://www.w3.org/2005/08/addressing'])]</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A MustUnderstand SOAP fault, sent from an endpoint that has a
policy alternative containing the wsam:Addressing assertion
attached to its WSDL endpoint subject, contains a NotUnderstood
SOAP header block with the qname attribute value that identifies a
WS-Addressing defined SOAP header block.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">Complete message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1041">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1041">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Use_of_wsa_Action_and_WS-Addressing_1.0_-_Metadata">3.7.3
Use of wsa:Action and WS-Addressing 1.0 - Metadata</h4>
<div class="rationale">
<p>WS-Addressing 1.0 - Metadata, Section 5.1 defines additional
constraints on the cardinality of WS-Adressing Message Addressing
Properties defined in WS-Addressing 1.0 - Core. These constraints
are defined for every message involved in WSDL 1.1 transmission
primitives. The Profile requires conformance to this section when
WS-Addressing is used in conjunction with a WSDL 1.1
description.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1142" id=
"R1142">R1142</a></span> An ENVELOPE that includes a
<code>wsa:Action</code> SOAP header block and which is described
using a WSDL 1.1 description MUST conform to WS-Addressing 1.0 -
Metadata, Section 5.1. <span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1142a">BP1142a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1142b">BP1142b</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1142c">BP1142c</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1143a">BP1143a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1143b">BP1143b</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1143c">BP1143c</a></span></p>
<div style="display: none;" id="BP1142a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1142a" id=
"BP1142a">BP1142a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. For a request message, with a wsa:Action element,
defined using an rpc/lit binding, the following must hold: - If
there is an EPR attached to the corresponding wsdl:port definition,
then the wsa:To element must be present - the
wsa:RelatesTo/@RelationshipType must be present with value
"http://www.w3.org/2005/08/addressing/reply" (this is covered by
2nd cotarget presence) - The wsa:Action value in the soap12:Header
must equal to that specified from the wsdl - If the operation
binding includes a wsdl:output element then there must be
wsa:messageID and a wsa:ReplyTo elements present in the
soap12:Header</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'request']/wsil:messageContents/soap12:Envelope [soap12:Header[
wsa:Action and not (wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] )] and soap12:Body/* and not
(soap12:Body/soap12:Fault) ] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding
[.//wsoap12:*[@style = 'rpc']]/wsdl:operation[@name =
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">( if<br />
(
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/
wsdl:port[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding),
. )) = $myOpBinding/../@name ]/wsa:EndpointReference )<br />
then<br />
(some $portEpr in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/
wsdl:port[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding),
. )) = $myOpBinding/../@name ]/wsa:EndpointReference satisfies (
$target/soap12:Header/wsa:To ) )<br />
else fn:true()<br />
)<br />
and<br />
( if<br />
( $myOpBinding/wsdl:output ) then<br />
($target/soap12:Header/wsa:MessageID) else fn:true()<br />
)<br />
and (: correct wsa:Action value :) (some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/
wsdl:operation[ $myOpBinding/@name = @name ]/wsdl:input satisfies
($target/soap12:Header/wsa:Action = ( if ($opmsg/@wsam:Action) then
$opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Request' ) ) ) )
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a request message, with a wsa:Action element,
defined using an rpc/lit binding, the following must hold: - If
there is an EPR attached to the corresponding wsdl:port definition,
then the wsa:To element must be present - The wsa:Action value in
the soap12:Header must equal to that specified from the wsdl - If
the operation binding includes a wsdl:output element then there
must be wsa:messageID and a wsa:ReplyTo elements present in the
soap12:Header</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">Complete message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1142a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1142a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1142b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1142b" id=
"BP1142b">BP1142b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. http://www.w3.org/2005/08/addressing/reply IRI. For a
response message with a wsa:Action element, defined using an
rpc/lit binding, the following must hold: - the wsa:ReplyTo EPR in
the related Request message must have the anonymous address - the
wsa:To element, if present, must have the anonymous value - The
wsa:Action value in the soap12:Header must equal to that specified
from the wsdl</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'response']/wsil:messageContents/
soap12:Envelope[soap12:Header[wsa:Action] and soap12:Body/* and not
(soap12:Body/soap12:Fault)] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]/ wsdl:operation [fn:string-join((@name, 'Response' ),'' )
=
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">( not
($related-Request/soap12:Header/wsa:ReplyTo) or
($related-Request/soap12:Header/wsa:ReplyTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
) ) and ( $target/soap12:Header/wsa:RelatesTo [ not (
@RelationshipType ) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) and (
$target/soap12:Header[ not (wsa:To) or (wsa:To =
'http://www.w3.org/2005/08/addressing/anonymous' )] ) and (:
correct wsa:Action value :) (some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/
wsdl:operation[ $myOpBinding/@name = @name ]/wsdl:output satisfies
($target/soap12:Header/wsa:Action = ( if ($opmsg/@wsam:Action) then
$opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) )
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a response message with a wsa:Action element,
defined using an rpc/lit binding, the following must hold: - the
wsa:ReplyTo EPR in the related Request message must have the
anonymous address - the wsa:To element, if present, must have the
anonymous value - The wsa:Action value in the soap12:Header must
equal to that specified from the wsdl</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1142b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1142b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1142c">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1142c" id=
"BP1142c">BP1142c</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. http://www.w3.org/2005/08/addressing/reply IRI. For a
non-anonymous response message with a wsa:Action element, defined
using an rpc/lit binding, the following must hold: - the
wsa:ReplyTo EPR in the related Request message must have a
non-anonymous address - the wsa:To element must be present, and
must have a non-anonymous value - The wsa:Action value in the
soap12:Header must equal to that specified from the wsdl</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'request']/wsil:messageContents/ soap12:Envelope [soap12:Body[not
(soap12:Fault)] and soap12:Header [wsa:Action and (wsa:RelatesTo
[@RelationshipType = 'http://www.w3.org/2005/08/addressing/reply'
or not (@RelationshipType)] ) ] ] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]/ wsdl:operation [fn:string-join((@name, 'Response' ),'' )
=
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">(
($related-Request/soap12:Header/wsa:ReplyTo) and not
($related-Request/soap12:Header/wsa:ReplyTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
) ) and ( $target/soap12:Header/wsa:RelatesTo [ not (
@RelationshipType ) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) and (
$target/soap12:Header[ (wsa:To) and not (wsa:To =
'http://www.w3.org/2005/08/addressing/anonymous' ) ] ) and (:
correct wsa:Action value :) (some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/
wsdl:operation[ $myOpBinding/@name = @name ]/wsdl:output satisfies
($target/soap12:Header/wsa:Action = ( if ($opmsg/@wsam:Action) then
$opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) )
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a non-anonymous response message with a wsa:Action
element, defined using an rpc/lit binding, the following must hold:
- the wsa:ReplyTo EPR in the related Request message must have a
non-anonymous address - the wsa:To element must be present, and
must have a non-anonymous value - The wsa:Action value in the
soap12:Header must equal to that specified from the wsdl</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1142c">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1142c">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1143a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1143a" id=
"BP1143a">BP1143a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. For a request message, with a wsa:Action element,
defined using a doc/lit binding, the following must hold: - If
there is an EPR attached to the corresponding wsdl:port definition,
then the wsa:To element must be present - The wsa:Action value in
the soap12:Header must equal to that specified from the wsdl (this
is covered by the cotarget presence) - If the operation binding
includes a wsdl:output element then there must be wsa:messageID and
a wsa:ReplyTo present in the soap12:Header</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'request']/wsil:messageContents/ soap12:Envelope [soap12:Body[not
(soap12:Fault)] and soap12:Header [wsa:Action and not
(wsa:RelatesTo [@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ) ] ] [ some $myenv in . satisfies ( every
$message in //wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part[fn:resolve-QName(xsd:string(@element),
. ) = fn:node-name($target/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Request' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">( if (
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/
wsdl:port[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding),
. )) = $myOpBinding/../@name ]/wsa:EndpointReference ) then (some
$portEpr in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/
wsdl:port[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding),
. )) = $myOpBinding/../@name ]/wsa:EndpointReference satisfies (
$target/soap12:Header/wsa:To ) ) else fn:true() ) and ( if (
$myOpBinding/wsdl:output ) then (
$target/soap12:Header/wsa:MessageID) else fn:true() )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a request message, with a wsa:Action element,
defined using a doc/lit binding, the following must hold: - If
there is an EPR attached to the corresponding wsdl:port definition,
then the wsa:To element must be present - The wsa:Action value in
the soap12:Header must equal to that specified from the wsdl (this
is covered by the cotarget presence) - If the operation binding
includes a wsdl:output element then there must be wsa:messageID and
a wsa:ReplyTo elements present in the soap12:Header</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1143a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1143a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1143b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1143b" id=
"BP1143b">BP1143b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. http://www.w3.org/2005/08/addressing/reply IRI. For a
response message with a wsa:Action element, defined using a doc/lit
binding, the following must hold: - the wsa:ReplyTo EPR in the
related Request message must have the anonymous address - the
wsa:RelatesTo/@RelationshipType must be present with value
"http://www.w3.org/2005/08/addressing/reply" (this is covered by
2nd cotarget presence) - the wsa:To element, if present, must have
the anonymous value - The wsa:Action value in the soap12:Header
must equal to that specified from the wsdl (this is covered by the
cotarget presence)</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'response']/wsil:messageContents/soap12:Envelope [soap12:Body[not
(soap12:Fault) ] and soap12:Header[wsa:Action] ] [ some $myenv in .
satisfies ( every $message in //wsdl:definitions/wsdl:message
satisfies ( (not($message/wsdl:part[1]/@type) ) and (
$myenv/soap12:Body/*[1] or $myenv/soap12:Header/wsa:Action )) )
]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part[fn:resolve-QName(xsd:string(@element),
. ) = fn:node-name($target/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) (: and ( if ($target/soap12:Header/wsa:Action)
then ( some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() ) :)
]</cotarget>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">( not
($related-Request/soap12:Header/wsa:ReplyTo) or
($related-Request/soap12:Header/wsa:ReplyTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
) ) and ( $target/soap12:Header/wsa:RelatesTo [ not (
@RelationshipType ) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) and (
$target/soap12:Header[ not (wsa:To) or (wsa:To =
'http://www.w3.org/2005/08/addressing/anonymous' )] )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a response message with a wsa:Action element,
defined using a doc/lit binding, the following must hold: - the
wsa:ReplyTo EPR in the related Request message must have the
anonymous address - the wsa:To element, if present, must have the
anonymous value - The wsa:Action value in the soap12:Header must
equal to that specified from the wsdl (this is covered by the
cotarget presence)</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1143b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1143b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1143c">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1143c" id=
"BP1143c">BP1143c</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. http://www.w3.org/2005/08/addressing/reply IRI. For a
non anon response message with a wsa:Action element, defined using
a doc/lit binding, the following must hold: - the wsa:ReplyTo EPR
in the related Request message must have a non-anonymous address -
the wsa:RelatesTo/@RelationshipType must be present with value
"http://www.w3.org/2005/08/addressing/reply" (this is covered by
2nd cotarget presence) - the wsa:To element, must be present and
not anonymous - The wsa:Action value in the soap12:Header must
equal to that specified from the wsdl (this is covered by the
cotarget presence)</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'request']/wsil:messageContents/soap12:Envelope [soap12:Body[not
(soap12:Fault)] and soap12:Header [wsa:Action and (wsa:RelatesTo
[@RelationshipType = 'http://www.w3.org/2005/08/addressing/reply'
or not (@RelationshipType)] ) ] ] [ some $myenv in . satisfies (
every $message in //wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part[fn:resolve-QName(xsd:string(@element),
. ) = fn:node-name($target/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">(
($related-Request/soap12:Header/wsa:ReplyTo) and not
($related-Request/soap12:Header/wsa:ReplyTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
) ) and ( $target/soap12:Header/wsa:RelatesTo [ not (
@RelationshipType ) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) and (
$target/soap12:Header[ (wsa:To) and not (wsa:To =
'http://www.w3.org/2005/08/addressing/anonymous' )] )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a non anon response message with a wsa:Action
element, defined using a doc/lit binding, the following must hold:
- the wsa:ReplyTo EPR in the related Request message must have a
non-anonymous address - the wsa:To element, must be present with a
non-anonymous value - The wsa:Action value in the soap12:Header
must equal to that specified from the wsdl (this is covered by the
cotarget presence)</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1143c">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1143c">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id=
"Valid_Values_for_action_Parameter_on_the_Content-Type_MIME_header_When_WS-Addressing_is_Used">
3.7.4 Valid Values for action Parameter on the Content-Type MIME
header When WS-Addressing is Used</h4>
<div class="rationale">
<p>There could be some confusion with regards to the range of valid
values for the <code>action</code> parameter on the
<code>Content-Type</code> MIME header when WS-Addressing is
used.</p>
<p>When composed with WS-Addressing, the value of the
<code>action</code> parameter, if present, is limited to the
absolute URI that matches the value specified for
<code>wsa:Action</code> . The <code>action</code> parameter is
optional and is therefore not required to be present on the header.
This is useful, for example, when the value of
<code>wsa:Action</code> is sensitive and is therefore
encrypted.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1144" id=
"R1144">R1144</a></span> When the <code>wsa:Action</code> SOAP
header block is present in an envelope, the value of the
<code>action</code> parameter, if present, on the
<code>Content-Type</code> MIME header of the <span class=
"statement-target">MESSAGE</span> MUST be an absolute URI that has
the same value as the value of the <code>wsa:Action</code> header.
<span class="claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1144">BP1144</a></span></p>
<div style="display: none;" id="BP1144">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1144" id=
"BP1144">BP1144</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The message must specify an action HTTP header with either a
value that is an absolute URI that has the same value as the value
of the wsa:Action SOAP header, or a value of "" (empty
string).</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[wsil:messageContents/soap12:Envelope/soap12:Header/wsa:Action]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP1761</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
(wsil:messageContents/soap12:Envelope/soap12:Header/wsa:Action/text()
= wsil:httpHeaders/wsil:httpHeader[fn:lower-case(@key) =
'action']/@value) or
not(wsil:httpHeaders/wsil:httpHeader[fn:lower-case(@key) =
'action'])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A message did not specify an action HTTP header with either a
value that is an absolute URI that has the same value as the value
of the wsa:Action SOAP header, or a value of "" (empty
string).</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1144">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1144">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="SOAP_Defined_Faults_Action_URI">3.7.5 SOAP Defined Faults
Action URI</h4>
<div class="rationale">
<p>WS-Addressing provides the URI
<code>http://www.w3.org/2005/08/addressing/soap/fault</code> for
"SOAP defined faults". However, it only recommends, rather than
mandates its use for the SOAP 1.2 defined MustUnderstand and
VersionMismatch faults. This Profile mandates the use of the
WS-Addressing defined wsa:Action value for SOAP 1.2 defined
MustUnderstand and VersionMismatch faults, for
interoperability.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1035" id=
"R1035">R1035</a></span> An <span class=
"statement-target">ENVELOPE</span> MUST use the
http://www.w3.org/2005/08/addressing/soap/fault URI as the value
for the <code>wsa:Action</code> SOAP header element, when present,
for either of the SOAP 1.2 defined VersionMismatch and
MustUnderstand faults. <span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1035">BP1035</a></span></p>
<div style="display: none;" id="BP1035">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1035" id=
"BP1035">BP1035</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The value of the wsa:Action element is
http://www.w3.org/2005/08/addressing/soap/fault</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope[soap12:Header/wsa:Action
and
(fn:ends-with(soap12:Body/soap12:Fault/soap12:Code/soap12:Value,'MustUnderstand')
or fn:ends-with(soap12:Body/soap12:Fault/soap12:Code/soap12:Value,
'VersionMismatch'))]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
normalize-space(string(./soap12:Header/wsa:Action)) eq
'http://www.w3.org/2005/08/addressing/soap/fault'</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A fault response does not contain the expected wsa:Action value
of http://www.w3.org/2005/08/addressing/soap/fault.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1035">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1035">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Understanding_WS-Addressing_SOAP_Header_Blocks">3.7.6
Understanding WS-Addressing SOAP Header Blocks</h4>
<div class="rationale">
<p>WS-Addressing 1.0 - SOAP Binding defines multiple SOAP header
blocks (wsa:To, wsa:From, wsa:ReplyTo, wsa:FaultTo, wsa:Action,
wsa:MessageID, and wsa:RelatesTo). These SOAP header blocks are
part of the same module. A SOAP node that conforms to the Profile
understands and honors all of these SOAP header blocks (when it
understands WS-Addressing) or none at all (when it does not
understand WS-Addressing).</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1143" id=
"R1143">R1143</a></span> When a message contains multiple
WS-Addressing SOAP header blocks with at least one of those header
blocks containing a <code>soap12:mustUnderstand='1'</code>
attribute, then a RECEIVER MUST honor all the WS-Addressing SOAP
header blocks or none of them. <span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1043a">BP1043a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1043b">BP1043b</a></span></p>
<div style="display: none;" id="BP1043a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1043a" id=
"BP1043a">BP1043a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>This assertion tests one aspect of R1143. It verifies that, if
the ReplyTo EPR contains reference parameters, these referece
parameters are properly echoed any response that claims to have
originated from an instance that supports WS-Addressing.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:wsa=
"http://www.w3.org/2005/08/addressing">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope[soap12:Header/wsa:ReplyTo/wsa:ReferenceParameters/*]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Response</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:wsa=
"http://www.w3.org/2005/08/addressing" name="related-Response">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not(@RelationshipType) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply')] ]
/wsil:messageContents/soap12:Envelope
[soap12:Header/wsa:RelatesTo[not(@RelationshipType) or
(@RelationshipType = 'http://www.w3.org/2005/08/addressing/reply')]
= $target/soap12:Header/wsa:MessageID]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:wsa=
"http://www.w3.org/2005/08/addressing">( if<br />
( ($related-Response/soap12:Header/wsa:Action) and
(not($related-Response/soap12:Body/soap12:Fault) or
(not($target/soap12:Header/wsa:FaultTo) and
$related-Response/soap12:Header/wsa:Action ne
'http://www.w3.org/2005/08/addressing/fault')) )<br />
then<br />
(
<!-- tests for presence of refP QName - refP values not compared -->
 every $refP in
$target/soap12:Header/wsa:ReplyTo/wsa:ReferenceParameters/*
satisfies some $header in
$related-Response/soap12:Header/*[@wsa:IsReferenceParameter='1'or
@wsa:IsReferenceParameter = 'true'] satisfies
fn:resolve-QName(fn:name($refP), $refP) =
fn:resolve-QName(fn:name($header), $header) )<br />
else fn:true()<br />
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The response to a message that contained reference parameters
in the ReplyTo EPR is missing one or more of those reference
parameters in its SOAP headers.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:wsa=
"http://www.w3.org/2005/08/addressing">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1043a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1043a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1043b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1043b" id=
"BP1043b">BP1043b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>This assertion tests one aspect of R1143. It verifies that, if
the FaultTo EPR contains reference parameters, these referece
parameters are properly echoed any fault response that claims to
have originated from an instance that supports WS-Addressing.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:wsa=
"http://www.w3.org/2005/08/addressing">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope[soap12:Header/wsa:FaultTo/wsa:ReferenceParameters/*]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Response</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:wsa=
"http://www.w3.org/2005/08/addressing" name="related-Response">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not(@RelationshipType) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply')] ]
/wsil:messageContents/soap12:Envelope
[soap12:Header/wsa:RelatesTo[not(@RelationshipType) or
(@RelationshipType = 'http://www.w3.org/2005/08/addressing/reply')]
= $target/soap12:Header/wsa:MessageID]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:wsa=
"http://www.w3.org/2005/08/addressing">( if<br />
( ($related-Response/soap12:Header/wsa:Action) and
($related-Response/soap12:Body/soap12:Fault) )<br />
then<br />
(
<!-- tests for presence of refP QName - refP values not compared -->
 every $refP in
$target/soap12:Header/wsa:FaultTo/wsa:ReferenceParameters/*
satisfies some $header in
$related-Response/soap12:Header/*[@wsa:IsReferenceParameter='1'or
@wsa:IsReferenceParameter = 'true'] satisfies
fn:resolve-QName(fn:name($refP), $refP) =
fn:resolve-QName(fn:name($header), $header) )<br />
else fn:true()<br />
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The fault response to a message that contained reference
parameters in the FaultTo EPR is missing one or more of those
reference parameters in its SOAP headers.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:wsa=
"http://www.w3.org/2005/08/addressing">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1043b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1043b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Ignored_or_Absent_WS-Addressing_Headers">3.7.7 Ignored or
Absent WS-Addressing Headers</h4>
<div class="rationale">
<p>When WS-Addressing headers are present in a SOAP envelope, but
do not contain a <code>soap12:mustUnderstand="1"</code> attribute,
a RECEIVER may choose to ignore these SOAP headers (per <a href=
"#R1143" class="offsite">R1143</a> ). Consistent with <a href=
"#R1036" class="offsite">R1036</a> , valid reasons may exist why
(not where) faults are not transmitted.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1145" id=
"R1145">R1145</a></span> If a SOAP envelope does not contain any
WS-Addressing header blocks, or contains WS-Addressing header
blocks that do not include any
<code>soap12:mustUnderstand="1"</code> attributes, and the
<span class="statement-target">RECEIVER</span> chooses to ignore
them, then any response (normal or fault) SHOULD be transmitted. If
it is transmitted then it is transmitted on the HTTP Response
message (if available). <span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">NOT_TESTED</span></p>
</div>
<div class="refinement">
<h4 id="Present_and_Understood_WS-Addressing_Headers">3.7.8 Present
and Understood WS-Addressing Headers</h4>
<div class="rationale">
<p>When any WS-Addressing header blocks are present in a SOAP
envelope (where <code>soap12:mustUnderstand="1"</code> attributes
exist or the header contents are understood), any non-faulting
response will be transmitted to the endpoint referred to by the
<code>wsa:ReplyTo</code> header. Should a fault be generated, it
replaces the non-faulting response.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1146" id=
"R1146">R1146</a></span> A <span class=
"statement-target">RECEIVER</span> MUST transmit non-faulting
responses to the endpoint referred to by the
<code>wsa:ReplyTo</code> header or generate a fault instead (per
<a href="#R1029" class="offsite">R1029</a>). <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1146">BP1146</a></span></p>
<div style="display: none;" id="BP1146">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1146" id=
"BP1146">BP1146</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>A non-faulting response must be sent to the endpoint referred
to by the wsa:ReplyTo header or generate a fault instead.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [ (@type = 'response'
and (some $resp in . satisfies some $req in
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request' and
@conversation = $resp/@conversation] satisfies $req//wsa:* ) ) or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[@RelationshipType = 'http://www.w3.org/2005/08/addressing/reply'
or not (@RelationshipType)] ]
[wsil:messageContents/soap12:Envelope[not(soap12:Body/soap12:Fault)]]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myRequestMsg</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myRequestMsg">
/wsil:testLog/wsil:messageLog/wsil:message [ @type = 'request' and
(if
(not(./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:MessageID)
) then ( @conversation = $target/../../@conversation) else
(./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:MessageID
= $target/soap12:Header/wsa:RelatesTo [@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] )) ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
((not($myRequestMsg/wsil:messageContents/soap12:Envelope/soap12:Header/wsa:ReplyTo)
or
$myRequestMsg/wsil:messageContents/soap12:Envelope/soap12:Header/wsa:ReplyTo/wsa:Address
= 'http://www.w3.org/2005/08/addressing/anonymous') and
$target[@type =
'response']/wsil:messageContents/soap12:Envelope/soap12:Header [
wsa:To = 'http://www.w3.org/2005/08/addressing/anonymous' or
not(wsa:To )]) or (
$target/wsil:messageContents/soap12:Envelope/soap12:Header/wsa:To =
$myRequestMsg/wsil:messageContents/soap12:Envelope/soap12:Header/wsa:ReplyTo/wsa:Address
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A response message was sent to a destination other than the
expected endpoint, i.e. different from wsa:ReplyTo in the request
message.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1146">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1146">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>SOAP 1.2 allows a RECEIVER to ignore headers that it does not
understand. This behavior is particularly relevant for
WS-Addressing headers that affect message processing and routing.
As an example, take the following message sent to a SOAP node that
does not understand the "http://www.w3.org/2005/08/addressing"
namespace:</p>
<pre class="example">

&lt;soap12:Envelope xmlns:soap12="http://www.w3.org/2003/05/soap-envelope"
                 xmlns:wsa="http://www.w3.org/2005/08/addressing"&gt;
  &lt;soap12:Header&gt;
    &lt;wsa:MessageID&gt;uuid:8B82EA41-1485-13A6-5631527DC83F4168&lt;/wsa:MessageID&gt;
    &lt;wsa:Action&gt;http://www.wstf.org/docs/scenarios/sc002/Echo&lt;/wsa:Action&gt;
    &lt;wsa:ReplyTo&gt;
      &lt;wsa:Address&gt;http://server.foobie.com/NotifyEcho/asynchResp&lt;/wsa:Address&gt;
    &lt;/wsa:ReplyTo&gt;
    . . .
  &lt;/soap12:Header&gt;
  &lt;soap12:Body&gt;
    . . .
  &lt;/soap12:Body&gt;
&lt;/soap12:Envelope&gt;
</pre>
<p>The SENDER expects the response to be sent "server.foobie.com".
Yet, because it does not recognize the WS-Addressing 1.0 namespace,
the RECEIVER will ignore the WS-Addressing headers as if
WS-Addressing weren't engaged; consequently the SOAP response will
be sent in the entity-body of the HTTP Response and may be missed
by the SENDER.</p>
<p>Another example is where a message with an empty SOAP Body
carries the semantic intent in its <code>wsa:Action</code>
header.</p>
<p>In situations where the ability of the receiving node to
understand WS-Addressing 1.0 headers is in doubt and the correct
processing of the WS-Addressing is semantically significant (such
as the two examples given), the SENDER is encouraged to add the
<code>soap12:mustUnderstand</code> attribute with a value of "1" to
the <code>wsa:Action</code> header. This prompts the RECEIVER to
generate a MustUnderstand fault in cases where the WS-Addressing
headers are not understood.</p>
</div>
</div>
<div class="refinement">
<h4 id="SOAP_MustUnderstand_or_VersionMismatch_fault_Transmission">
3.7.9 SOAP MustUnderstand or VersionMismatch fault
Transmission</h4>
<div class="rationale">
<p>SOAP MustUnderstand and VersionMismatch faults are detected
irrespective of the use of WS-Addressing headers. There may be
valid reasons why (not where) faults are transmitted, e.g. security
concerns or the HTTP Response connection is no longer available. In
these cases the SENDER will not receive any SOAP envelope
response.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1036" id=
"R1036">R1036</a></span> Regardless of whether the
<code>wsa:ReplyTo</code> or <code>wsa:FaultTo</code> SOAP headers
appear in the incoming message, a <span class=
"statement-target">RECEIVER</span> that receives a SOAP envelope
that generates either a SOAP MustUnderstand or VersionMismatch
fault SHOULD transmit either fault. If it is transmitted, such a
fault is transmitted on the HTTP Response message (if available).
<span class="claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">NOT_TESTED</span></p>
</div>
<div class="refinement">
<h4 id=
"Faulting_Behavior_with_Present_and_Understood_WS-Addressing_Headers">
3.7.10 Faulting Behavior with Present and Understood WS-Addressing
Headers</h4>
<div class="rationale">
<p>When WS-Addressing headers are present in a SOAP envelope (where
<code>soap12:mustUnderstand="1"</code> attributes exist or the
header contents are understood), should a fault be generated, it
will be transmitted to the endpoint referred to by the
<code>wsa:FaultTo</code> header. WS-Addressing specifies expected
behavior should the <code>wsa:FaultTo</code> header be absent.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1147" id=
"R1147">R1147</a></span> If a fault is generated, the <span class=
"statement-target">RECEIVER</span> SHOULD transmit the fault (per
<a href="#R1029" class="offsite">R1029</a>). <span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
<p class="statement"><span class="statement-id"><a name="R1161" id=
"R1161">R1161</a></span> Other than those faults specified in
<a href="#R1036" class="offsite">R1036</a>, faults in R1147 SHOULD
be transmitted by the <span class=
"statement-target">RECEIVER</span> as specified in <a href=
"http://www.w3.org/TR/2006/REC-ws-addr-core-20060509/#formreplymsg"
class="offsite">WS-Addressing 1.0 - Core, Section 3.4</a>.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span></p>
<p class="statement"><span class="statement-id"><a name="R1162" id=
"R1162">R1162</a></span> When the <code>wsa:FaultTo</code> SOAP
header exists, the <span class="statement-target">RECEIVER</span>
MUST NOT transmit faults to the endpoint referred to by the
<code>wsa:ReplyTo</code> header. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span></p>
<p class="statement"><span class="statement-id"><a name="R1148" id=
"R1148">R1148</a></span> If an error occurs when transmitting the
fault in <a href="#R1147" class="offsite">R1147</a>, a <span class=
"statement-target">RECEIVER</span> MAY choose to send a fault
related to this transmission error on the HTTP Response (if
available). <span class="claim-type">HTTP-TRANSPORT</span>
<span class="testable-type">NOT_TESTED</span></p>
<div class="explanation">
<p>Note: To avoid a recursive situation, if a fault is generated
while trying to transmit to the endpoint referred to by the
<code>wsa:ReplyTo</code> header (<a href="#R1146" class=
"offsite">R1146</a> ) and the <code>wsa:FaultTo</code> header is
absent, <a href="#R1147" class="offsite">R1147</a> does not
apply.</p>
</div>
</div>
<div class="refinement">
<h4 id="[message_id]_and_One-Way_Operations">3.7.11 [message id]
and One-Way Operations</h4>
<div class="rationale">
<p>When sending a one-way message the SENDER could choose to ignore
any possible response - for example, a fault. However, if the
SENDER is interested in receiving those messages, the SENDER will
need to include a [message id] property in the one-way message to
ensure that the response can be successfully transmitted (see
<a href=
"http://www.w3.org/TR/2006/REC-ws-addr-core-20060509/#formreplymsg"
class="offsite">WS-Addressing 1.0 - Core, Section 3.4</a> ).</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1163" id=
"R1163">R1163</a></span> When applying the processing rules defined
by <a href=
"http://www.w3.org/TR/2006/REC-ws-addr-core-20060509/#formreplymsg"
class="offsite">WS-Addressing 1.0 - Core, Section 3.4</a>, if a
related message lacks a [message id] property, the <span class=
"statement-target">RECEIVER</span> MUST generate a
<code>wsa:MessageAddressingHeaderRequired</code> fault.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span></p>
<div class="explanation">
<p>While the RECEIVER is under no obligation to transmit faults,
including a [message id] property will provide the RECEIVER with
sufficient information to generate a response if needed.</p>
</div>
</div>
<div class="refinement">
<h4 id="Refusal_to_Honor_WS-Addressing_Headers">3.7.12 Refusal to
Honor WS-Addressing Headers</h4>
<div class="rationale">
<p>There may be many reasons (e.g. security, unsupported
wsa:Address values, ...) why a RECEIVER does not honor any
WS-Addressing headers. In these cases and irrespective of where the
condition occurs, when any WS-Addressing headers are present in a
SOAP envelope (where soap12:mustUnderstand=1 attributes exist or
the header contents are understood), the RECEIVER must generate a
fault.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1149" id=
"R1149">R1149</a></span> If a <span class=
"statement-target">RECEIVER</span> detects one of the error
conditions specified in <a href=
"http://www.w3.org/TR/2006/REC-ws-addr-soap-20060509/#soapfaults"
class="offsite">Section 6.4 of the Web Services Addressing 1.0 -
SOAP Binding</a>, it MUST generate a fault using the
<code>[Code]</code>, <code>[Subcode]</code>, and
<code>[Subsubcode]</code> listed for that particular error
condition. <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1149a">BP1149a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1149b">BP1149b</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1149c">BP1149c</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1149d">BP1149d</a></span></p>
<div style="display: none;" id="BP1149a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1149a" id=
"BP1149a">BP1149a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>This assertion tests one aspect of R1149. Specifically, if a
consumer sends a request message with a non-anonymous response EPR
to an instance which advertises that it only supports anonymous
EPRs, any response from that instance must be the SOAP fault
described by Section 6.4.1.7 of the Web Services Addressing 1.0 -
SOAP Binding. Other possible fault conditions, such as invalid
addresses, are not tested for by this assertion.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply')] ]
/wsil:messageContents/soap12:Envelope
[/wsil:testLog/wsil:descriptionFiles/wsil:feature[@name="http://www.w3.org/ns/ws-policy/Policy"]/wsil:alternative/wsil:feature[@name="http://www.w3.org/2007/05/addressing/metadata/Addressing"]/wsil:alternative/wsil:feature[@name="http://www.w3.org/2007/05/addressing/metadata/AnonymousResponses"
and @mode="required"] ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">( if<br />
( ($related-Request/soap12:Header/wsa:ReplyTo and not
($related-Request/soap12:Header/wsa:ReplyTo/wsa:Address =
'http://www.w3.org/2005/08/addressing/anonymous')) or
($related-Request/soap12:Header/wsa:FaultTo and not
($related-Request/soap12:Header/wsa:FaultTo/wsa:Address =
'http://www.w3.org/2005/08/addressing/anonymous')) )<br />
then<br />
( <!-- non-Fault case is picked up by BP1149b -->
 not ($target/soap12:Body/soap12:Fault) or (
fn:ends-with($target/soap12:Body/soap12:Fault/soap12:Code/soap12:Value,
'Sender') and
fn:ends-with($target/soap12:Body/soap12:Fault/soap12:Code/soap12:Subcode/soap12:Value,
'InvalidAddressingHeader') and
fn:ends-with($target/soap12:Body/soap12:Fault/soap12:Code/soap12:Subcode/soap12:Subcode/soap12:Value,
'OnlyAnonymousAddressSupported') ) )<br />
else fn:true()<br />
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=warning</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The service requires the use of WS-Addressing with anonymous
response EPRs. The response to a request with non-anonymous
response EPRs must be the fault defined by Section 6.4.1.7 of the
"WS-Addressing 1.0 - SOAP Binding" specification. Altough the
transmitted response is a fault, it does not match the definition
in Section 6.4.1.7. This could be due to some other, overriding
error such as a MustUnderstand fault. Inspect the response message
and verify that this is the case. If not, the service is acting
incorrectly by not transimitting the proper fault.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">Complete message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1149a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1149a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1149b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1149b" id=
"BP1149b">BP1149b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>This assertion tests one aspect of R1149. Specifically, if a
consumer sends a request message with a non-anonymous response EPR
to an instance which advertises that it only supports anonymous
EPRs, any response from that instance must be the SOAP fault
described by Section 6.4.1.7 of the Web Services Addressing 1.0 -
SOAP Binding. Other possible fault conditions, such as invalid
addresses, are not tested for by this assertion.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply')] ]
/wsil:messageContents/soap12:Envelope
[/wsil:testLog/wsil:descriptionFiles/wsil:feature[@name="http://www.w3.org/ns/ws-policy/Policy"]/wsil:alternative/wsil:feature[@name="http://www.w3.org/2007/05/addressing/metadata/Addressing"]/wsil:alternative/wsil:feature[@name="http://www.w3.org/2007/05/addressing/metadata/AnonymousResponses"
and @mode="required"] ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">( if<br />
( ($related-Request/soap12:Header/wsa:ReplyTo and not
($related-Request/soap12:Header/wsa:ReplyTo/wsa:Address =
'http://www.w3.org/2005/08/addressing/anonymous')) or
($related-Request/soap12:Header/wsa:FaultTo and not
($related-Request/soap12:Header/wsa:FaultTo/wsa:Address =
'http://www.w3.org/2005/08/addressing/anonymous')) )<br />
then<br />
( $target/soap12:Body/soap12:Fault )<br />
else fn:true()<br />
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The service requires the use of WS-Addressing with anonymous
response EPRs. Any response to a request with non-anonymous
response EPRs must be the fault defined by Section 6.4.1.7 of the
"WS-Addressing 1.0 - SOAP Binding" specification. The transmitted
response is either not a fault or does not match the definition of
this fault.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">Complete message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1149b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1149b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1149c">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1149c" id=
"BP1149c">BP1149c</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>This assertion tests one aspect of R1149. Specifically, if a
consumer sends a request message with an anonymous response EPR to
an instance which advertises that it only supports non-anonymous
EPRs, any response from that instance must be the SOAP fault
described by Section 6.4.1.8 of the Web Services Addressing 1.0 -
SOAP Binding. Other possible fault conditions, such as invalid
addresses, are not tested for by this assertion.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply')] ]
/wsil:messageContents/soap12:Envelope
[/wsil:testLog/wsil:descriptionFiles/wsil:feature[@name="http://www.w3.org/ns/ws-policy/Policy"]/wsil:alternative/wsil:feature[@name="http://www.w3.org/2007/05/addressing/metadata/Addressing"]/wsil:alternative/wsil:feature[@name="http://www.w3.org/2007/05/addressing/metadata/NonAnonymousResponses"
and @mode="required"] ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">( if<br />
( not ($related-Request/soap12:Header/wsa:ReplyTo) or
$related-Request/soap12:Header/wsa:ReplyTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
or
$related-Request/soap12:Header/wsa:FaultTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
)<br />
then<br />
( <!-- non-Fault case is picked up by BP1149d -->
 not ($target/soap12:Body/soap12:Fault) or (
fn:ends-with($target/soap12:Body/soap12:Fault/soap12:Code/soap12:Value,
'Sender') and
fn:ends-with($target/soap12:Body/soap12:Fault/soap12:Code/soap12:Subcode/soap12:Value,
'InvalidAddressingHeader') and
fn:ends-with($target/soap12:Body/soap12:Fault/soap12:Code/soap12:Subcode/soap12:Subcode/soap12:Value,
'OnlyNonAnonymousAddressSupported') ) )<br />
else fn:true()<br />
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=warning</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The service requires the use of WS-Addressing with
non-anonymous response EPRs. The response to a request with
anonymous response EPRs must be the fault defined by Section
6.4.1.8 of the "WS-Addressing 1.0 - SOAP Binding" specification.
Altough the transmitted response is a fault, it does not match the
definition in Section 6.4.1.8. This could be due to some other,
overriding error such as a MustUnderstand fault. Inspect the
response message and verify that this is the case. If not, the
service is acting incorrectly by not transimitting the proper
fault.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">Complete message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1149c">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1149c">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1149d">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1149d" id=
"BP1149d">BP1149d</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>This assertion tests one aspect of R1149. Specifically, if a
consumer sends a request message with an anonymous response EPR to
an instance which advertises that it only supports non-anonymous
EPRs, any response from that instance must be the SOAP fault
described by Section 6.4.1.8 of the Web Services Addressing 1.0 -
SOAP Binding. Other possible fault conditions, such as invalid
addresses, are not tested for by this assertion.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply')] ]
/wsil:messageContents/soap12:Envelope
[/wsil:testLog/wsil:descriptionFiles/wsil:feature[@name="http://www.w3.org/ns/ws-policy/Policy"]/wsil:alternative/wsil:feature[@name="http://www.w3.org/2007/05/addressing/metadata/Addressing"]/wsil:alternative/wsil:feature[@name="http://www.w3.org/2007/05/addressing/metadata/NonAnonymousResponses"
and @mode="required"] ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">( if<br />
( not ($related-Request/soap12:Header/wsa:ReplyTo) or
$related-Request/soap12:Header/wsa:ReplyTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
or
$related-Request/soap12:Header/wsa:FaultTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
)<br />
then<br />
( $target/soap12:Body/soap12:Fault )<br />
else fn:true()<br />
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The service requires the use of WS-Addressing with
non-anonymous response EPRs. The response to a request with
anonymous response EPRs must be the fault defined by Section
6.4.1.8 of the "WS-Addressing 1.0 - SOAP Binding" specification.
The transmitted response is not a SOAP Fault message.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">Complete message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1149d">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1149d">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Use_of_Non-Anonymous_Response_EPRs">3.7.13 Use of
Non-Anonymous Response EPRs</h4>
<div class="rationale">
<p>The WS-Addressing [destination] URI of an outgoing message
influences where this message will be sent. In the case of the
outgoing response (normal or fault), if this URI is a non-anonymous
URI then this message will be sent over a separate HTTP connection
from one used to carry the request message.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1152" id=
"R1152">R1152</a></span> If an <span class=
"statement-target">INSTANCE</span> attempts to send a message to a
non-anonymous [destination] URI then the message MUST be
transmitted in the entity-body of an HTTP Request. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1152a">BP1152a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1152b">BP1152b</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1152c">BP1152c</a></span></p>
<div style="display: none;" id="BP1152a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1152a" id=
"BP1152a">BP1152a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The message must be sent in the entity body of an HTTP request
in a separate HTTP connection specified by the response EPR using
the SOAP 1.1 Request Optional Response HTTP binding.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message
[wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo[@RelationshipType
= 'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] and
wsil:messageContents/soap12:Envelope/soap12:Body[not(soap12:Fault)]
and (some $req in /wsil:testLog/wsil:messageLog/wsil:message
satisfies
$req/wsil:messageContents/soap12:Envelope/soap12:Header/wsa:MessageID
= wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[@RelationshipType = 'http://www.w3.org/2005/08/addressing/reply'
or not (@RelationshipType)] and
$req/wsil:messageContents/soap12:Envelope/soap12:Header[
wsa:ReplyTo[1] and not(fn:contains(wsa:ReplyTo[1]/wsa:Address,
'http://www.w3.org/2005/08/addressing/anonymous'))] )]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myRequestMsg</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myRequestMsg">
/wsil:testLog/wsil:messageLog/wsil:message
[wsil:messageContents/soap12:Envelope/soap12:Header/wsa:MessageID =
$target/wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[@RelationshipType = 'http://www.w3.org/2005/08/addressing/reply'
or not (@RelationshipType)]]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">($target/@type =
'request') and (
$target/wsil:messageContents/soap12:Envelope/soap12:Header [
(wsa:To) and not (fn:contains(wsa:To[1],
'http://www.w3.org/2005/08/addressing/anonymous' )) ] )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A response message was not sent in the entity body of an HTTP
request in a separate HTTP connection as required by the
(non-anonymous) response EPR.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1152a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1152a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1152b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1152b" id=
"BP1152b">BP1152b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The message must be sent in the entity body of an HTTP request
in a separate HTTP connection specified by the response EPR using
the SOAP 1.1 Request Optional Response HTTP binding.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message
[wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo[@RelationshipType
= 'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] and
wsil:messageContents/soap12:Envelope/soap12:Body[soap12:Fault] and
wsil:messageContents/soap12:Envelope/soap12:Header[not(wsa:Action)
or
not(fn:starts-with(wsa:Action,'http://www.w3.org/2005/08/addressing/'
))] and (some $req in /wsil:testLog/wsil:messageLog/wsil:message
satisfies
$req/wsil:messageContents/soap12:Envelope/soap12:Header/wsa:MessageID
= wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[@RelationshipType = 'http://www.w3.org/2005/08/addressing/reply'
or not (@RelationshipType)] and
$req/wsil:messageContents/soap12:Envelope/soap12:Header[
wsa:FaultTo[1] and not(fn:contains(wsa:FaultTo[1]/wsa:Address,
'http://www.w3.org/2005/08/addressing/anonymous'))] )]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myRequestMsg</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="myRequestMsg">
/wsil:testLog/wsil:messageLog/wsil:message
[wsil:messageContents/soap12:Envelope/soap12:Header/wsa:MessageID =
$target/wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[@RelationshipType = 'http://www.w3.org/2005/08/addressing/reply'
or not (@RelationshipType)]]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">($target/@type = 'request') and
( $target/wsil:messageContents/soap12:Envelope/soap12:Header [
(wsa:To) and not (fn:contains(wsa:To[1],
'http://www.w3.org/2005/08/addressing/anonymous' )) ] )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A response message was not sent in the entity body of an HTTP
request in a separate HTTP connection as required by the
(non-anonymous) response EPR.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">Complete message</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1152b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1152b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1152c">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1152c" id=
"BP1152c">BP1152c</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The message must be sent in the entity body of an HTTP request
in a separate HTTP connection specified by the response EPR using
the SOAP 1.1 Request Optional Response HTTP binding.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[ not
(wsil:messageContents/soap12:Envelope/soap12:Body/soap12:Fault) and
wsil:messageContents/soap12:Envelope/soap12:Header [(wsa:To) and
not (fn:contains(wsa:To[1],
'http://www.w3.org/2005/08/addressing/anonymous' )) ]]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">$target/@type =
'request'</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A message with a non-anonymous destination was not sent in the
entity body of an HTTP request in a separate HTTP connection as
required by the (non-anonymous) destination EPR.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1152c">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1152c">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Optionality_of_the_wsa_To_header">3.7.14 Optionality of the
wsa:To header</h4>
<div class="rationale">
<p>WS-Addressing 1.0 - Core and WS-Addressing 1.0 - Metadata are
unclear about whether and when the <code>wsa:To</code> header
element is required in a SOAP message. This Profile makes the
following, clarifying requirement.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1153" id=
"R1153">R1153</a></span> Except in cases in which an instance
exposes a WSDL description and its endpoint includes a
<code>wsdl:port</code> that has been extended with a
<code>wsa:EndpointReference</code>, a <span class=
"statement-target">RECEIVER</span> MUST NOT fault a SOAP request
message due to the absence of the <code>wsa:To</code> header.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1153a">BP1153a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1153b">BP1153b</a></span></p>
<div style="display: none;" id="BP1153a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1153a" id=
"BP1153a">BP1153a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>For a request message, defined using a doc/lit binding, the
following must hold: - If there is no EPR attached to the
corresponding wsdl:port definition, then in case there is no wsa:To
element, the message should not be faulted.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'request']/wsil:messageContents/ soap12:Envelope [soap12:Body[not
(soap12:Fault)] and soap12:Header[not(wsa:To) ]] [ some $myenv in .
satisfies ( every $message in //wsdl:definitions/wsdl:message
satisfies ( (not($message/wsdl:part[1]/@type) ) and (
$myenv/soap12:Body/*[1] or $myenv/soap12:Header/wsa:Action )) ) and
( some $port in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/wsdl:port
satisfies not(wsa:EndpointReference) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part[fn:resolve-QName(xsd:string(@element),
. ) = fn:node-name($target/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Request' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<prerequisite xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/wsdl:port[
fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding), .
)) = $myOpBinding/../@name and not(wsa:EndpointReference)
]</prerequisite>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">( if (
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/
wsdl:port[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding),
. )) = $myOpBinding/../@name and not(wsa:EndpointReference)] ) then
( not (/wsil:testLog/wsil:messageLog/wsil:message[(@type =
'response' and @conversation = $target/../../@conversation) or
(.//soap12:Envelope/soap12:Header/wsa:RelatesTo =
$target/soap12:Header/wsa:MessageID)]
/wsil:messageContents/soap12:Envelope/soap12:Body/soap12:Fault ) )
else fn:true() )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=warning</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope for a doc/lit bound request message, without wsa:To
in a message bound to a port that is NOT extended with
wsa:EndpointReference has generated a Fault in response. Verify
that this fault is not caused by the absence of wsa:To.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1153a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1153a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1153b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1153b" id=
"BP1153b">BP1153b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>For a request message, defined using a rpc/lit binding, the
following must hold: - If there is no EPR attached to the
corresponding wsdl:port definition, then in case there is no wsa:To
element, the message should not be faulted.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'request']/wsil:messageContents/soap12:Envelope [soap12:Header[ not
(wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ) and not(wsa:To)] and soap12:Body/* and not
(soap12:Body/soap12:Fault) ] [ some $myenv in . satisfies (some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type)) and ( some $port in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/wsdl:port
satisfies not(wsa:EndpointReference)) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding
[.//wsoap12:*[@style = 'rpc']]/wsdl:operation[@name =
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<prerequisite xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/wsdl:port[
fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding), .
)) = $myOpBinding/../@name and not(wsa:EndpointReference)
]</prerequisite>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">( if<br />
(
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/
wsdl:port[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding),
. )) = $myOpBinding/../@name and not(wsa:EndpointReference)]
)<br />
then<br />
( not (/wsil:testLog/wsil:messageLog/wsil:message[(@type =
'response' and @conversation = $target/../../@conversation) or
(.//soap12:Envelope/soap12:Header/wsa:RelatesTo =
$target/soap12:Header/wsa:MessageID)]
/wsil:messageContents/soap12:Envelope/soap12:Body/soap12:Fault )
)<br />
else fn:true()<br />
)<br /></predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=warning</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope for a rpc/lit bound request message, without wsa:To
in a message bound to a port that is NOT extended with
wsa:EndpointReference has generated a Fault in response. Verify
that this fault is not caused by the absence of wsa:To.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1153b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1153b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>Although the <code>wsa:To</code> header is optional, as a matter
of best practice implementations are encouraged to include this
header (with a non-anonymous value) as its presence provides a
greater degree of flexibility in handling certain situations; for
example, when moving a service endpoint from one URI to
another.</p>
<p>As per WS-Addressing 1.0 - Core, the [destination] message
addressing property of a request message without a
<code>wsa:To</code> header is
"http://www.w3.org/2005/08/addressing/anonymous". Note that none of
the WS-Addressing 1.0 specifications describes the semantics of
sending a SOAP request message, over HTTP, either without a
<code>wsa:To</code> header or with a <code>wsa:To</code> header
with the value of "http://www.w3.org/2005/08/addressing/anonymous".
To clarify, such a request is considered to be addressed to "the
entity listening at the URI of the HTTP Request that contains this
message". Sent over a connection to http://www.example.org, the
following three example messages are consistent:</p>
</div>
<p class="example-banner">For example,</p>
<div class="example">
<p class="correct">CORRECT:</p>
<pre>
POST /NotifyEcho/soap12service HTTP/1.1
Content-Type: text/xml;charset=UTF-8
...
&lt;soap12:Envelope ...&gt;
 &lt;soap12:Header&gt;
    &lt;wsa:Action&gt;http://www.wstf.org/sc002/Echo&lt;/wsa:Action&gt;
 &lt;/soap12:Header&gt;
 &lt;soap12:Body&gt;
   ...
 &lt;/soap12:Body&gt;
&lt;/soap12:Envelope&gt;
</pre></div>
<div class="example">
<p class="correct">CORRECT:</p>
<pre>
POST /NotifyEcho/soap12service HTTP/1.1
Content-Type: text/xml;charset=UTF-8
...
&lt;soap12:Envelope ...&gt;
 &lt;soap12:Header&gt;
    &lt;wsa:To&gt;http://www.w3.org/2005/08/addressing/anonymous&lt;/wsa:To&gt;
    &lt;wsa:Action&gt;http://www.wstf.org/sc002/Echo&lt;/wsa:Action&gt;
 &lt;/soap12:Header&gt;
 &lt;soap12:Body&gt;
   ...
 &lt;/soap12:Body&gt;
&lt;/soap12:Envelope&gt;
</pre></div>
<div class="example">
<p class="correct">CORRECT:</p>
<pre>
POST /NotifyEcho/soap12service HTTP/1.1
Content-Type: text/xml;charset=UTF-8
...
&lt;soap12:Envelope ...&gt;
 &lt;soap12:Header&gt;
    &lt;wsa:To&gt;http://www.example.org/NotifyEcho/soap12service&lt;/wsa:To&gt;
    &lt;wsa:Action&gt;http://www.wstf.org/sc002/Echo&lt;/wsa:Action&gt;
 &lt;/soap12:Header&gt;
 &lt;soap12:Body&gt;
   ...
 &lt;/soap12:Body&gt;
&lt;/soap12:Envelope&gt;
</pre></div>
</div>
<div class="refinement">
<h4 id="Extending_WSDL_Endpoints_with_an_EPR">3.7.15 Extending WSDL
Endpoints with an EPR</h4>
<div class="rationale">
<p>WS-Addressing 1.0 - Metadata is unclear about the relationship
between the elements of a WSDL 1.1 description of an endpoint and
the values of the addressing properties of a message sent to that
endpoint. In particular, the value of the [destination] message
addressing property needs to be clarified in order to insure
interoperability between SENDER and RECEIVER. There are two cases
to consider. The first case is where the <code>wsdl:port</code> has
been extended with a <code>wsa:EndpointReference</code> as
described by Section 4.1 of WS-Addressing 1.0 - Metadata. In this
case the following requirement applies:</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1154" id=
"R1154">R1154</a></span> When sending a request message to an
endpoint which is specified by a WSDL 1.1 description in which the
<code>wsdl:port</code> element has been extended with a
<code>wsa:EndpointReference</code>, if the <code>wsa:Action</code>
SOAP header block is present, the <span class=
"statement-target">SENDER</span> MUST populate the
<code>wsa:To</code> and reference parameter SOAP headers of that
request message with the values of the <code>wsa:Address</code> and
<code>wsa:ReferenceParameters</code> elements (respectively) of the
extending endpoint reference. <span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span></p>
<div class="explanation">
<p>Note that, since [address] is a required property of an endpoint
reference, extending a <code>wsdl:port</code> with a
<code>wsa:EndpointReference</code> has the effect of populating the
[destination] property of the outgoing message, thus mandating the
inclusion of the <code>wsa:To</code> header.</p>
</div>
</div>
<div class="refinement">
<div class="rationale">
<p>The second case is where the <code>wsdl:port</code> has not been
extended with a <code>wsa:EndpointReference</code> .</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1155" id=
"R1155">R1155</a></span> When sending a request message to an
endpoint which is specified by a WSDL 1.1 description in which the
<code>wsdl:port</code> element has <strong>not</strong> been
extended with a <code>wsa:EndpointReference</code>, if the
<code>wsa:Action</code> SOAP header block is present, the
<span class="statement-target">SENDER</span> MAY populate the
<code>wsa:To</code> SOAP header of that request message with the
value of the <code>location</code> attribute of the
<code>wsoap12:address</code> extension element. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span></p>
</div>
<div class="refinement">
<h4 id="Combining_Synchronous_and_Asynchronous_Operations">3.7.16
Combining Synchronous and Asynchronous Operations</h4>
<div class="rationale">
<p>WS-Addressing 1.0 - Metadata defines a policy assertion,
<code>wsam:Addressing</code> , that is used to indicate whether
WS-Addressing is supported or required. It is a nested policy
container assertion and can contain additional restrictions
(specifically the <code>wsam:AnonymousResponses</code> and
<code>wsam:NonAnonymousResponses</code> policy assertions) on the
value of the response endpoint EPRs in request messages. A
top-level assertion without any nested assertions implies that both
anonymous and non-anonymous are allowed. The WS-Addressing 1.0 -
Metadata specification sets the scope of this assertion to be
endpoint policy subject. However, with regards to the
anonymous/non-anonymous restrictions, experience has shown that it
is often desirable to have different policies for different
operations on the same endpoint. For example, some of the
operations of an endpoint may need to be synchronous while others
may need to be asynchronous. It is worthwhile to indicate this
difference in a WSDL description. In the absence of any guidance on
the mechanism(s) for expressing such per-operation distinctions,
individual implementations will create their own extensions for
enabling this feature. To avoid the interoperability problems
inherent in such an approach, the Profile defines the following
extension to the behavior defined by WS-Addressing 1.0
Metadata.</p>
<p>WS-Addressing 1.0 Metadata allows policies containing the
<code>wsam:Addressing</code> policy assertion to be attached to
either a <code>wsdl:port</code> or a <code>wsdl:binding</code> . To
these two options the Profile adds a third option which allows
policies containing the <code>wsam:Addressing</code> policy
assertion to be attached to
<code>wsdl:binding/wsdl:operation</code> elements. When the
<code>wsam:Addressing</code> policy assertion is attached to the
<code>wsdl:binding/wsdl:operation</code> element, it applies to the
operation policy subject. Nevertheless, it should always be the
case that if one operation of an endpoint supports or requires
WS-Addressing, then all operations of that endpoint must support or
require WS-Addressing (although, potentially, with different
restrictions). Furthermore, to simplify the calculation of the
effective policy for each operation and decrease the possibility of
creating conflicting policies, each operation within such an
endpoint should affirmatively declare its policy with respect to
WS-Addressing.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1156" id=
"R1156">R1156</a></span> In a <span class=
"statement-target">DESCRIPTION</span>, a policy that contains the
<code>wsam:Addressing</code> assertion MUST be attached to either a
<code>wsdl:port</code>, a <code>wsdl:binding</code> or a
<code>wsdl:binding/wsdl:operation</code>. <span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE_XPATH</span></p>
<p class="statement"><span class="statement-id"><a name="R1157" id=
"R1157">R1157</a></span> If a <span class=
"statement-target">DESCRIPTION</span> has a policy alternative
containing the <code>wsam:Addressing</code> assertion attached to a
<code>wsdl:binding/wsdl:operation</code>, then all of the
<code>wsdl:operation</code>s within that <code>wsdl:binding</code>
MUST also have a policy alternative containing the
<code>wsam:Addressing</code> assertion attached to them.
<span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE_XPATH</span></p>
<div class="explanation">
<p>In addition to the above restrictions and as stated in <a href=
"#R1158" class="offsite">R1158</a> , the effective policy
alternatives for a given policy subject must not contain
conflicting assertions.</p>
</div>
<p class="example-banner">For example,</p>
<div class="example">
<p class="incorrect">INCORRECT:</p>
<pre>
&lt;wsdl:binding name="sc009SOAP12Binding" type="tns:sc009PortType"&gt;
  &lt;wsp:Policy&gt;
    &lt;wsam:Addressing&gt;
      &lt;wsp:Policy/&gt;
    &lt;/wsam:Addressing&gt;
  &lt;/wsp:Policy&gt;
  ...
  &lt;wsdl:operation name="CreatePO"&gt;
    &lt;wsp:Policy&gt;
      &lt;wsam:Addressing&gt;
        &lt;wsp:Policy&gt;
          &lt;wsam:NonAnonymousResponses/&gt;
        &lt;/wsp:Policy&gt;
      &lt;/wsam:Addressing&gt;
    &lt;/wsp:Policy&gt;
    ...
  &lt;/wsdl:operation&gt;

  &lt;wsdl:operation name="GetPOStatus"&gt;
    ...
  &lt;/wsdl:operation&gt;

  &lt;wsdl:operation name="UpdatePO"&gt;
    &lt;wsp:Policy&gt;
      &lt;wsam:Addressing&gt;
        &lt;wsp:Policy&gt;
          &lt;wsam:NonAnonymousResponses/&gt;
        &lt;/wsp:Policy&gt;
      &lt;/wsam:Addressing&gt;
    &lt;/wsp:Policy&gt;
    ...
  &lt;/wsdl:operation&gt;

  &lt;wsdl:operation name="CancelPO"&gt;
    ...
  &lt;/wsdl:operation&gt;
&lt;/wsdl:binding&gt;

&lt;wsdl:service name="sc009Service"&gt;
  &lt;wsdl:port name="soap12port" binding="tns:sc009SOAP12Binding"&gt;
    ...
  &lt;/wsdl:port&gt;
&lt;/wsdl:service&gt;
</pre></div>
</div>
<div class="refinement">
<div class="rationale">
<p>The above example is incorrect for two reasons. Firstly, it
violates R1157 because the GetPOStatus and CancelPO operations do
not have policies containing the <code>wsam:Addressing</code>
assertion attached to them. Secondly, the effective policies for
both the CreatePO and UpdatePO operations contain conflicting
assertions (a <code>wsam:Addressing</code> assertion that is
unconstrained with regards to anonymous/non-anonymous and a
<code>wsam:Addressing</code> assertion that is constrained to just
non-anonymous) within the same alternative.</p>
</div>
<p class="example-banner">For example,</p>
<div class="example">
<p class="incorrect">INCORRECT:</p>
<pre>
&lt;wsdl:binding name="sc009SOAP12Binding" type="tns:sc009PortType"&gt;
  ...
  &lt;wsdl:operation name="CreatePO"&gt;
    &lt;wsp:Policy&gt;
      &lt;wsam:Addressing&gt;
        &lt;wsp:Policy&gt;
          &lt;wsam:NonAnonymousResponses/&gt;
        &lt;/wsp:Policy&gt;
      &lt;/wsam:Addressing&gt;
    &lt;/wsp:Policy&gt;
    ...
  &lt;/wsdl:operation&gt;

  &lt;wsdl:operation name="GetPOStatus"&gt;
    &lt;wsp:Policy&gt;
      &lt;wsam:Addressing&gt;
        &lt;wsp:Policy/&gt;
      &lt;/wsam:Addressing&gt;
    &lt;/wsp:Policy&gt;
    ...
  &lt;/wsdl:operation&gt;

  &lt;wsdl:operation name="UpdatePO"&gt;
    &lt;wsp:Policy&gt;
      &lt;wsam:Addressing&gt;
        &lt;wsp:Policy&gt;
          &lt;wsam:NonAnonymousResponses/&gt;
        &lt;/wsp:Policy&gt;
      &lt;/wsam:Addressing&gt;
    &lt;/wsp:Policy&gt;
    ...
  &lt;/wsdl:operation&gt;

  &lt;wsdl:operation name="CancelPO"&gt;
    &lt;wsp:Policy&gt;
      &lt;wsam:Addressing&gt;
        &lt;wsp:Policy/&gt;
      &lt;/wsam:Addressing&gt;
    &lt;/wsp:Policy&gt;
    ...
  &lt;/wsdl:operation&gt;
&lt;/wsdl:binding&gt;

&lt;wsdl:service name="sc009Service"&gt;
  &lt;wsdl:port name="soap12port" binding="tns:sc009SOAP12Binding"&gt;
    &lt;wsp:Policy&gt;
      &lt;wsam:Addressing&gt;
        &lt;wsp:Policy/&gt;
      &lt;/wsam:Addressing&gt;
    &lt;/wsp:Policy&gt;
    ...
  &lt;/wsdl:port&gt;
&lt;/wsdl:service&gt;

</pre></div>
</div>
<div class="refinement">
<div class="rationale">
<p>The above example is incorrect because the effective policies
for both the CreatePO and UpdatePO operations contain conflicting
assertions (a <code>wsam:Addressing</code> assertion that is
unconstrained with regards to anonymous/non-anonymous and a
<code>wsam:Addressing</code> assertion that is constrained to just
non-anonymous) within the same alternative.</p>
</div>
<p class="example-banner">For example,</p>
<div class="example">
<p class="correct">CORRECT:</p>
<pre>
&lt;wsdl:binding name="sc009SOAP12Binding" type="tns:sc009PortType"&gt;
  ...
  &lt;wsdl:operation name="CreatePO"&gt;
    &lt;wsp:Policy&gt;
      &lt;wsam:Addressing&gt;
        &lt;wsp:Policy&gt;
          &lt;wsam:NonAnonymousResponses/&gt;
        &lt;/wsp:Policy&gt;
      &lt;/wsam:Addressing&gt;
    &lt;/wsp:Policy&gt;
    ...
  &lt;/wsdl:operation&gt;

  &lt;wsdl:operation name="GetPOStatus"&gt;
    &lt;wsp:Policy&gt;
      &lt;wsam:Addressing&gt;
        &lt;wsp:Policy/&gt;
      &lt;/wsam:Addressing&gt;
    &lt;/wsp:Policy&gt;
    ...
  &lt;/wsdl:operation&gt;

  &lt;wsdl:operation name="UpdatePO"&gt;
    &lt;wsp:Policy&gt;
      &lt;wsam:Addressing&gt;
        &lt;wsp:Policy&gt;
          &lt;wsam:NonAnonymousResponses/&gt;
        &lt;/wsp:Policy&gt;
      &lt;/wsam:Addressing&gt;
    &lt;/wsp:Policy&gt;
    ...
  &lt;/wsdl:operation&gt;

  &lt;wsdl:operation name="CancelPO"&gt;
    &lt;wsp:Policy&gt;
      &lt;wsam:Addressing&gt;
        &lt;wsp:Policy/&gt;
      &lt;/wsam:Addressing&gt;
    &lt;/wsp:Policy&gt;
    ...
  &lt;/wsdl:operation&gt;
&lt;/wsdl:binding&gt;

&lt;wsdl:service name="sc009Service"&gt;
  &lt;wsdl:port name="soap12port" binding="tns:sc009SOAP12Binding"&gt;
    ...
  &lt;/wsdl:port&gt;
&lt;/wsdl:service&gt;

</pre></div>
</div>
<div class="refinement">
<div class="rationale">
<p>The above example is correct. All of the operations in the
soap12port of the s009Service require WS-Addressing. While the
response EPRs for GetPOStatus and CancelPO are unconstrained, the
response EPRs for the CreatePO and UpdatePO operations must be
non-anonymous.</p>
</div>
</div>
<div class="refinement">
<h4 id="Conflicting_Addressing_Policies">3.7.17 Conflicting
Addressing Policies</h4>
<div class="rationale">
<p>When used together, the <code>wsam:AnonymousResponses</code> and
<code>wsam:NonAnonymousResponses</code> nested policy assertions
could result in an effective policy that contradicts WS-Addressing
1.0 - Metadata (i.e. "request messages sent to this endpoint must
use response endpoint EPRs that simultaneously do and do not
contain the WS-Addressing anonymous URI"). The Profile restricts
the use of the <code>wsam:AnonymousResponses</code> and
<code>wsam:NonAnonymousResponses</code> nested policy assertions to
avoid this situation.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R1158" id=
"R1158">R1158</a></span> In a <span class=
"statement-target">DESCRIPTION</span> the effective policy for a
given endpoint MUST NOT contain both the
<code>wsam:AnonymousResponses</code> and
<code>wsam:NonAnonymousResponses</code> assertions within a single
policy alternative. <span class="claim-type">CORE</span>
<span class="testable-type">NOT_TESTABLE_XPATH</span></p>
</div>
<h2 id="description">4. Service Description</h2>
<p>The Profile uses Web Services Description Language (WSDL) to
enable the description of services as sets of endpoints operating
on messages.</p>
<p>This section of the Profile incorporates the following
specifications by reference, and defines extensibility points
within them:</p>
<ul>
<li><a href="http://www.w3.org/TR/2006/REC-xml-names-20060816/"
class="offsite">Namespaces in XML 1.0 (Second Edition)</a></li>
<li><a href="http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/"
class="offsite">XML Schema Part 1: Structures</a><br />
Extensibility points:
<ul>
<li><span id="E0017" class="statement-id">E0017</span> - Schema
annotations - XML Schema allows for annotations, which may be used
to convey additional information about data structures.<span class=
"claim-type">CORE</span></li>
</ul>
</li>
<li><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/"
class="offsite">XML Schema Part 2: Datatypes</a></li>
<li><a href="http://www.w3.org/TR/2001/NOTE-wsdl-20010315" class=
"offsite">Web Services Description Language (WSDL) 1.1</a><br />
Extensibility points:
<ul>
<li><span id="E0013" class="statement-id">E0013</span> - WSDL
extensions - WSDL allows extension elements and attributes in
certain places, including the use and specification of alternate
protocol binding extensions; use of such extensions requires
out-of-band negotiation.<span class="claim-type">CORE</span></li>
<li><span id="E0014" class="statement-id">E0014</span> - Validation
mode - whether the parser used to read WSDL and XML Schema
documents performs DTD validation or not.<span class=
"claim-type">CORE</span></li>
<li><span id="E0015" class="statement-id">E0015</span> - Fetching
of external resources - whether the parser used to read WSDL and
XML Schema documents fetches external entities and
DTDs.<span class="claim-type">CORE</span></li>
<li><span id="E0016" class="statement-id">E0016</span> - Relative
URIs - WSDL does not adequately specify the use of relative URIs
for the following: wsoap12:body/@namespace,
wsoap12:address/@location, wsdl:import/@location,
xsd:schema/@targetNamespace and xsd:import/@schemaLocation. Their
use may require further coordination; see XML Base for more
information.<span class="claim-type">CORE</span></li>
</ul>
</li>
</ul>
<p>These extensibility points are listed, along with any
extensibility points from other sections of this Profile, in
<a href="#points">Appendix B</a></p>
<h3 id="WSDLREQ">4.1 Required Description</h3>
<div class="refinement">
<div class="rationale">
<p>An instance of a Web service is required to make the contract
that it operates under available in some fashion.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R0001" id=
"R0001">R0001</a></span> Either an <span class=
"statement-target">INSTANCE</span>'s WSDL 1.1 description, its UDDI
binding template, or both MUST be available to an authorized
consumer upon request. <span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2703">BP2703</a></span></p>
<div style="display: none;" id="BP2703">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2703" id=
"BP2703">BP2703</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The wsdl:definitions is a well-formed XML 1.0 document. The
wsdl:definitions namespace has value:
http://schemas.xmlsoap.org/wsdl/.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile[fn:prefix-from-QName(fn:node-name(*:definitions))
eq 'wsdl' or wsdl:definitions]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
fn:namespace-uri-from-QName(fn:node-name(./*:definitions)) eq
'http://schemas.xmlsoap.org/wsdl/' or
./*:bindingTemplate</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The wsdl:definitions is not a well-formed XML 1.0 document, or
WSDL definition does not conform to the schema located at
http://schemas.xmlsoap.org/wsdl/soap/2003-02-11.xsd for some
element using the WSDL-SOAP binding namespace, or does not conform
to the schema located at
http://schemas.xmlsoap.org/wsdl/2003-02-11.xsd for some element
using the WSDL namespace.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Error message from the
XML parser</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2703">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2703">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>This means that if an authorized consumer requests a service
description of a conformant service instance, then the service
instance provider must make the WSDL document, the UDDI binding
template, or both available to that consumer. A service instance
may provide run-time access to WSDL documents from a server, but is
not required to do so in order to be considered conformant.
Similarly, a service instance provider may register the instance
provider in a UDDI registry, but is not required to do so to be
considered conformant. In all of these scenarios, the WSDL contract
must exist, but might be made available through a variety of
mechanisms, depending on the circumstances.</p>
</div>
</div>
<h3 id="WSDLDOCSTRUCT">4.2 Document Structure</h3>
<p><a href=
"http://www.w3.org/TR/2001/NOTE-wsdl-20010315#_document-s" class=
"offsite">WSDL 1.1, Section 2.1</a> defines the overall structure
of an XML document for describing Web services. The Profile
mandates the use of that structure, and places the following
constraints on its use.</p>
<p>Note that <a href="#wsdldocstruct-correct" class=
"offsite">Section 5.1, "Document Structure"</a> , contains
additional, corrective requirements on the structure of a WSDL 1.1
document.</p>
<div class="refinement">
<h4 id="WSDL_Import_location_Attribute_Structure">4.2.1 WSDL Import
location Attribute Structure</h4>
<div class="rationale">
<p>WSDL 1.1 is not clear about whether the <code>location</code>
attribute of the <code>wsdl:import</code> statement is required, or
what its content is required to be.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2007" id=
"R2007">R2007</a></span> A <span class=
"statement-target">DESCRIPTION</span> MUST specify a non-empty
<code>location</code> attribute on the <code>wsdl:import</code>
element. <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2098">BP2098</a></span></p>
<div style="display: none;" id="BP2098">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2098" id=
"BP2098">BP2098</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The "location" attribute is specified for the wsdl:import
element, and has a non-empty value.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:import</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">@location and @location
!= ''</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A wsdl:import element does not have a "location" attribute, or
has an empty value for the location attribute.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective wsdl:import
element.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2098">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2098">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>Although the <code>wsdl:import</code> statement is modeled after
the <code>xsd:import</code> statement, the <code>location</code>
attribute is required by <code>wsdl:import</code> while the
corresponding attribute on <code>xsd:import</code> ,
<code>schemaLocation</code> is optional. Consistent with
<code>location</code> being required, its content is not intended
to be empty.</p>
</div>
</div>
<div class="refinement">
<h4 id="WSDL_Import_location_Attribute_Semantics">4.2.2 WSDL Import
location Attribute Semantics</h4>
<div class="rationale">
<p>WSDL 1.1 is unclear about whether WSDL processors must actually
retrieve and process the WSDL document from the URI specified in
the <code>location</code> attribute on the <code>wsdl:import</code>
statements it encounters.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2008" id=
"R2008">R2008</a></span> A CONSUMER MAY, but need not, retrieve a
WSDL description from the URI specified in the location attribute
on a <code>wsdl:import</code> element. <span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
<div class="explanation">
<p>The value of the location attribute of a
<code>wsdl:import</code> element is a hint. A WSDL processor may
have other ways of locating a WSDL description for a given
namespace.</p>
</div>
</div>
<div class="refinement">
<h4 id="XML_Version_Requirements">4.2.3 XML Version
Requirements</h4>
<div class="rationale">
<p>Neither WSDL 1.1 nor XML Schema 1.0 mandate a particular version
of XML. For interoperability, WSDL documents and the schemas they
import expressed in XML must use version 1.0.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R4004" id=
"R4004">R4004</a></span> A <span class=
"statement-target">DESCRIPTION</span> MUST use version 1.0 of the
eXtensible Markup Language W3C Recommendation. <span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
</div>
<div class="refinement">
<h4 id="XML_Namespace_Declarations">4.2.4 XML Namespace
Declarations</h4>
<div class="rationale">
<p>Although published errata NE05 (see
http://www.w3.org/XML/xml-names-19990114-errata) allows this
namespace declaration to appear, some older processors considered
such a declaration to be an error. This requirement ensures that
conformant artifacts have the broadest interoperability
possible.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R4005" id=
"R4005">R4005</a></span> A <span class=
"statement-target">DESCRIPTION</span> SHOULD NOT contain the
namespace declaration
xmlns:xml="http://www.w3.org/XML/1998/namespace". <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2034">BP2034</a></span></p>
<div style="display: none;" id="BP2034">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2034" id=
"BP2034">BP2034</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The candidate description does not contain the namespace
declaration xmlns:xml="http://www.w3.org/XML/1998/namespace".</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2703</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
not(descendant-or-self::*/namespace::node()[1] =
'xmlns:xml="http://www.w3.org/XML/1998/namespace"')</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>preferred</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The candidate description contains the namespace declaration
xmlns:xml="http://www.w3.org/XML/1998/namespace".</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2034">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2034">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="WSDL_and_the_Unicode_BOM">4.2.5 WSDL and the Unicode
BOM</h4>
<div class="rationale">
<p>XML 1.0 allows documents that use the UTF-8 character encoding
to include a BOM; therefore, description processors must be
prepared to accept them.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R4002" id=
"R4002">R4002</a></span> A <span class=
"statement-target">DESCRIPTION</span> MAY include the Unicode Byte
Order Mark (BOM). <span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
</div>
<div class="refinement">
<h4 id="Acceptable_WSDL_Character_Encodings">4.2.6 Acceptable WSDL
Character Encodings</h4>
<div class="rationale">
<p>The Profile consistently requires either UTF-8 or UTF-16
encoding for both SOAP and WSDL.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R4003" id=
"R4003">R4003</a></span> A <span class=
"statement-target">DESCRIPTION</span> MUST use either UTF-8 or
UTF-16 encoding. <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2201">BP2201</a></span></p>
<div style="display: none;" id="BP2201">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2201" id=
"BP2201">BP2201</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The XML declaration statement uses UTF-8 or UTF-16 for the
encoding.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> metadata</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="metadata">
$target/../@encoding</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
fn:starts-with(fn:lower-case(../@encoding), 'utf-8') or
fn:starts-with(fn:lower-case(../@encoding), 'utf-16')</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>XML declaration statement within WSDL document does not use
expected encoding (UTF-8 or UTF-16).</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">XML declaration
statement.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2201">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2201">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Namespace_Coercion">4.2.7 Namespace Coercion</h4>
<div class="rationale">
<p>Namespace coercion on <code>wsdl:import</code> is disallowed by
the Profile.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2005" id=
"R2005">R2005</a></span> The <code>targetNamespace</code> attribute
on the <code>wsdl:definitions</code> element of a description that
is being imported MUST have same the value as the
<code>namespace</code> attribute on the <code>wsdl:import</code>
element in the importing <span class=
"statement-target">DESCRIPTION</span>. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2104">BP2104</a></span></p>
<div style="display: none;" id="BP2104">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2104" id=
"BP2104">BP2104</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The targetNamespace attribute on the wsdl:definitions element
for the imported WSDL description has the same value as the
namespace attribute on the wsdl:import element that imported the
WSDL description.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:import</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2101</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $wimp in . satisfies
some $descFile in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile[fn:ends-with($wimp/@location,
@filename)] satisfies ($descFile/wsdl:definitions/@targetNamespace
= $wimp/@namespace)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The targetNamespace attribute on the wsdl:definitions element
for an imported WSDL description does not have the same value as
the namespace attribute on the wsdl:import element that imported
the WSDL description.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">wsdl:import
element.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2104">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2104">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="WSDL_Extensions">4.2.8 WSDL Extensions</h4>
<div class="rationale">
<p>Requiring support for WSDL extensions that are not explicitly
specified by this or another WS-I Profile can lead to
interoperability problems with development tools that have not been
instrumented to understand those extensions.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2025" id=
"R2025">R2025</a></span> A <span class=
"statement-target">DESCRIPTION</span> containing WSDL extensions
MUST NOT use them to contradict other requirements of the Profile.
<span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
<p class="statement"><span class="statement-id"><a name="R2026" id=
"R2026">R2026</a></span> A <span class=
"statement-target">DESCRIPTION</span> SHOULD NOT include extension
elements with a <code>wsdl:required</code> attribute value of
"true" on any WSDL construct (<code>wsdl:binding</code>,
<code>wsdl:portType</code>, <code>wsdl:message</code>,
<code>wsdl:types</code> or <code>wsdl:import</code>) that claims
conformance to the Profile. <span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2123">BP2123</a></span></p>
<div style="display: none;" id="BP2123">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2123" id=
"BP2123">BP2123</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>Contained WSDL extension elements do not use the wsdl:required
attribute value of "true".</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/descendant::*
[namespace-uri(.) != 'http://schemas.xmlsoap.org/wsdl/' and
not(namespace-uri(.) = 'http://schemas.xmlsoap.org/wsdl/soap/' and
(local-name(.) = 'binding' or local-name(.) = 'operation' or
local-name(.) = 'body' or local-name(.) = 'header' or local-name(.)
= 'headerfault' or local-name(.) = 'fault' or local-name(.) =
'address')) and (./ancestor::wsdl:portType or
./ancestor::wsdl:binding or ./ancestor::wsdl:message or
./ancestor::wsdl:types or ./ancestor::wsdl:import)]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not(@wsdl:required =
fn:true()</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>preferred</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An extension element within a WSDL element that claims
conformance to the Basic Profile has a wsdl:required attribute with
a value of "true".</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Display the extension
element that failed the assertion.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2123">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2123">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2027" id=
"R2027">R2027</a></span> If during the processing of a description,
a consumer encounters a WSDL extension element that has a
<code>wsdl:required</code> attribute with a boolean value of "true"
that the consumer does not understand or cannot process, the
<span class="statement-target">CONSUMER</span> MUST fail
processing. <span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
<div class="explanation">
<p>Development tools that consume a WSDL description and generate
software for a Web service instance might not have built-in
understanding of an unknown WSDL extension. Hence, use of required
WSDL extensions should be avoided. Use of a required WSDL extension
that does not have an available specification for its use and
semantics imposes potentially insurmountable interoperability
concerns for all but the author of the extension. Use of a required
WSDL extension that has an available specification for its use and
semantics reduces, but does not eliminate the interoperability
concerns that lead to this refinement.</p>
<p>For the purposes of the Profile, all elements in the
"http://schemas.xmlsoap.org/wsdl/" namespace are extensible via
element as well as attributes. As a convenience, WS-I has published
a version of the WSDL 1.1 schema that reflects this capability at:
<a href="http://ws-i.org/profiles/basic/1.1/wsdl-2004-08-24.xsd"
class=
"offsite">http://ws-i.org/profiles/basic/1.1/wsdl-2004-08-24.xsd</a></p>
</div>
</div>
<h3 id="WSDLTYPES">4.3 Types</h3>
<p><a href="http://www.w3.org/TR/2001/NOTE-wsdl-20010315#_types"
class="offsite">WSDL 1.1, Section 2.2</a> defines the
<code>wsdl:types</code> element to enclose data type definitions
that are relevant to the Web service described. The Profile places
the following constraints pertinent to those portions of the
content of the <code>wsdl:types</code> element that are referred to
by WSDL elements that make Profile conformance claims:</p>
<div class="refinement">
<h4 id="QName_References">4.3.1 QName References</h4>
<div class="rationale">
<p>XML Schema requires each QName reference to use either the
target namespace, or an imported namespace (one marked explicitly
with an <code>xsd:import</code> element). QName references to
namespaces represented only by nested imports are not allowed.</p>
<p>WSDL 1.1 is unclear as to which schema target namespaces are
suitable for QName references from a WSDL element. The Profile
allows QName references from WSDL elements both to the target
namespace defined by the <code>xsd:schema</code> element, and to
imported namespaces. QName references to namespaces that are only
defined through a nested import are not allowed.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2101" id=
"R2101">R2101</a></span> A <span class=
"statement-target">DESCRIPTION</span> MUST NOT use QName references
to WSDL components in namespaces that have been neither imported,
nor defined in the referring WSDL document. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2416">BP2416</a></span></p>
<div style="display: none;" id="BP2416">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2416" id=
"BP2416">BP2416</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>A DESCRIPTION MUST NOT use QName references to WSDL components
in namespaces that have been neither imported, nor defined in the
referring WSDL document.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">(every $qref in
$target/wsdl:service/wsdl:port/@binding satisfies ( some $ns in
fn:namespace-uri-from-QName(fn:resolve-QName
(xsd:string($qref),$qref/..) ) satisfies (
($target/@targetNamespace = $ns ) or (some $wimp in
$target/wsdl:import satisfies $wimp/@namespace = $ns ) ) ) ) and
(every $qref in $target/wsdl:binding/@type satisfies ( some $ns in
fn:namespace-uri-from-QName(fn:resolve-QName
(xsd:string($qref),$qref/..) ) satisfies (
($target/@targetNamespace = $ns ) or (some $wimp in
$target/wsdl:import satisfies $wimp/@namespace = $ns ) ) ) ) and
(every $qref in
$target/wsdl:portType/wsdl:operation/wsdl:input/@message satisfies
( some $ns in fn:namespace-uri-from-QName(fn:resolve-QName
(xsd:string($qref),$qref/..) ) satisfies (
($target/@targetNamespace = $ns ) or (some $wimp in
$target/wsdl:import satisfies $wimp/@namespace = $ns ) ) ) ) and
(every $qref in
$target/wsdl:portType/wsdl:operation/wsdl:output/@message satisfies
( some $ns in fn:namespace-uri-from-QName(fn:resolve-QName
(xsd:string($qref),$qref/..) ) satisfies (
($target/@targetNamespace = $ns ) or (some $wimp in
$target/wsdl:import satisfies $wimp/@namespace = $ns ) ) ) ) and
(every $qref in
$target/wsdl:portType/wsdl:operation/wsdl:fault/@message satisfies
( some $ns in fn:namespace-uri-from-QName(fn:resolve-QName
(xsd:string($qref),$qref/..) ) satisfies (
($target/@targetNamespace = $ns ) or (some $wimp in
$target/wsdl:import satisfies $wimp/@namespace = $ns ) ) ) ) and
(every $qref in
$target/wsdl:binding/wsdl:operation/wsdl:*/wsoap12:header/@message
satisfies ( some $ns in
fn:namespace-uri-from-QName(fn:resolve-QName
(xsd:string($qref),$qref/..) ) satisfies (
($target/@targetNamespace = $ns ) or (some $wimp in
$target/wsdl:import satisfies $wimp/@namespace = $ns ) ) ) ) and
(every $qref in
$target/wsdl:binding/wsdl:operation/wsdl:*/wsoap12:headerfault/@message
satisfies ( some $ns in
fn:namespace-uri-from-QName(fn:resolve-QName
(xsd:string($qref),$qref/..) ) satisfies (
($target/@targetNamespace = $ns ) or (some $wimp in
$target/wsdl:import satisfies $wimp/@namespace = $ns ) ) )
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>This DESCRIPTION uses QName references to WSDL components in
namespaces that are neither imported, nor defined in the referring
WSDL document</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective
QName(s).</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2416">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2416">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2102" id=
"R2102">R2102</a></span> A QName reference to a Schema component in
a <span class="statement-target">DESCRIPTION</span> MUST use the
namespace defined in the <code>targetNamespace</code> attribute on
the <code>xsd:schema</code> element, or to a namespace defined in
the <code>namespace</code> attribute on an <code>xsd:import</code>
element within the <code>xsd:schema</code> element. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2417">BP2417</a></span></p>
<div style="display: none;" id="BP2417">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2417" id=
"BP2417">BP2417</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>A QName reference to a Schema component in a DESCRIPTION MUST
use the namespace defined in the targetNamespace attribute on the
xsd:schema element, or to a namespace defined in the namespace
attribute on an xsd:import element within the xsd:schema
element.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">(every $qref in
$target/wsdl:message/wsdl:part/@element satisfies ( some $ns in
fn:namespace-uri-from-QName(fn:resolve-QName
(xsd:string($qref),$qref/..) ) satisfies (
($target/wsdl:types/xsd:schema/@targetNamespace = $ns ) or (some
$simp in $target/wsdl:types/xsd:schema/xsd:import satisfies
$simp/@namespace = $ns ) ) ) ) and (every $qref in
$target/wsdl:message/wsdl:part/@type satisfies ( some $ns in
fn:namespace-uri-from-QName(fn:resolve-QName
(xsd:string($qref),$qref/..) ) satisfies (
($target/@targetNamespace = $ns ) or (some $simp in
$target/wsdl:types/xsd:schema/xsd:import satisfies $simp/@namespace
= $ns ) or ($ns = 'http://www.w3.org/2001/XMLSchema' ) ) )
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A QName reference to a Schema component in a DESCRIPTION does
not use the namespace defined in the targetNamespace attribute on
the xsd:schema element, or a namespace defined in the namespace
attribute on an xsd:import element within the xsd:schema
element.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective
QName(s).</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2417">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2417">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Schema_targetNamespace_Structure">4.3.2 Schema
targetNamespace Structure</h4>
<div class="rationale">
<p>Requiring a targetNamespace on all xsd:schema elements that are
children of <code>wsdl:types</code> is a good practice, places a
minimal burden on authors of WSDL documents, and avoids the cases
that are not as clearly defined as they might be.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2105" id=
"R2105">R2105</a></span> All <code>xsd:schema</code> elements
contained in a <code>wsdl:types</code> element of a <span class=
"statement-target">DESCRIPTION</span> MUST have a
<code>targetNamespace</code> attribute with a valid and non-null
value, UNLESS the <code>xsd:schema</code> element has
<code>xsd:import</code> and/or <code>xsd:annotation</code> as its
only child element(s). <span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2107">BP2107</a></span></p>
<div style="display: none;" id="BP2107">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2107" id=
"BP2107">BP2107</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The xsd:schema element contains a targetNamespace attribute
with a valid and non-null value unless the xsd:schema element has
xsd:import and/or xsd:annotation as its only child element(s).</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions[wsdl:types/xsd:schema]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
wsdl:types/xsd:schema[@targetNamespace != '' or (count(xsd:import)
+ count(xsd:annotation)) = count(child::*)]</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A xsd:schema element contained in a wsdl:types element does not
have a targetNamespace attribute with a valid and non-null value,
while having child element(s) other than xsd:import or
xsd:annotation.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective xsd:schema
element(s).</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2107">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2107">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="soapenc_Array">4.3.3 soapenc:Array</h4>
<div class="rationale">
<p>The recommendations in WSDL 1.1 Section 2.2 for declaration of
array types have been interpreted in various ways, leading to
interoperability problems. Further, there are other clearer ways to
declare arrays.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2110" id=
"R2110">R2110</a></span> In a <span class=
"statement-target">DESCRIPTION</span>, declarations MUST NOT extend
or restrict the <code>soapenc:Array</code> type. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2108b">BP2108b</a></span></p>
<div style="display: none;" id="BP2108b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2108b" id=
"BP2108b">BP2108b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The type soapenc:Array does not appear in these declarations,
and the wsdl:arrayType attribute is not used in the type
declaration.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:types[xsd:schema]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not
(xsd:schema[descendant::xsd:extension/@base = "soapenc:Array" or
descendant::xsd:restriction/@base = "soapenc:Array"])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An Array declaration uses - restricts or extends - the
soapenc:Array type, or the wsdl:arrayType attribute is used in the
type declaration.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective
declaration(s).</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2108b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2108b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2111" id=
"R2111">R2111</a></span> In a <span class=
"statement-target">DESCRIPTION</span>, declarations MUST NOT use
<code>wsdl:arrayType</code> attribute in the type declaration.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2108a">BP2108a</a></span></p>
<div style="display: none;" id="BP2108a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2108a" id=
"BP2108a">BP2108a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The type soapenc:Array does not appear in these declarations,
and the wsdl:arrayType attribute is not used in the type
declaration.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:types[xsd:schema]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not
(xsd:schema/descendant::*/@wsdl:arrayType)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An Array declaration uses - restricts or extends - the
soapenc:Array type, or the wsdl:arrayType attribute is used in the
type declaration.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective
declaration(s).</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2108a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2108a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2112" id=
"R2112">R2112</a></span> In a <span class=
"statement-target">DESCRIPTION</span>, elements SHOULD NOT be named
using the convention ArrayOfXXX. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2110">BP2110</a></span></p>
<div style="display: none;" id="BP2110">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2110" id=
"BP2110">BP2110</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The declaration does not use the naming convention
ArrayOfXXX.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions[wsdl:types/xsd:schema]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not
(wsdl:types/xsd:schema/descendant::xsd:element[fn:starts-with(@name,
'ArrayOf')])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>preferred</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A declaration is using the convention ArrayOfXXX.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective
declaration(s).</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2110">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2110">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2113" id=
"R2113">R2113</a></span> An <span class=
"statement-target">ENVELOPE</span> MUST NOT include the
<code>soapenc:arrayType</code> attribute. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1204">BP1204</a></span></p>
<div style="display: none;" id="BP1204">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1204" id=
"BP1204">BP1204</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The soap12:Body of the envelope does not contain the
soapenc:arrayType attribute.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
//soap12:Envelope</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not
(descendant::*[@soapenc:arrayType])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The soap12:Body of an envelope contains the soapenc:arrayType
attribute.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">SOAP
envelope.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1204">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1204">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="example-banner">For example,</p>
<div class="example">
<p class="incorrect">INCORRECT:</p>
<p>Given the WSDL Description:</p>
<pre>

&lt;xsd:element name="MyArray2" type="tns:MyArray2Type"/&gt;
&lt;xsd:complexType name="MyArray2Type"
                 xmlns:soapenc="http://www.w3.org/2003/05/soap-encoding"
                 xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"&gt;
  &lt;xsd:complexContent&gt;
    &lt;xsd:restriction base="soapenc:Array"&gt;
      &lt;xsd:sequence&gt;
        &lt;xsd:element name="x" type="xsd:string" minOccurs="0" maxOccurs="unbounded"/&gt;
      &lt;/xsd:sequence&gt;
      &lt;xsd:attribute ref="soapenc:arrayType" wsdl:arrayType="tns:MyArray2Type[]"/&gt;
    &lt;/xsd:restriction&gt; &lt;/xsd:complexContent&gt;
  &lt;/xsd:complexType&gt;

</pre>
<p>The envelope would serialize as (omitting namespace declarations
for clarity):</p>
<pre>

&lt;MyArray2 soapenc:arrayType="tns:MyArray2Type[]"&gt;
  &lt;x&gt;abcd&lt;/x&gt;
  &lt;x&gt;efgh&lt;/x&gt;
&lt;/MyArray2&gt;

</pre></div>
<div class="example">
<p class="correct">CORRECT:</p>
<p>Given the WSDL Description:</p>
<pre>

&lt;xsd:element name="MyArray1" type="tns:MyArray1Type"/&gt;
&lt;xsd:complexType name="MyArray1Type"&gt;
  &lt;xsd:sequence&gt;
    &lt;xsd:element name="x" type="xsd:string" minOccurs="0" maxOccurs="unbounded"/&gt;
  &lt;/xsd:sequence&gt;
&lt;/xsd:complexType&gt;

</pre>
<p>The envelope would serialize as (omitting namespace declarations
for clarity):</p>
<pre>

&lt;MyArray1&gt;
  &lt;x&gt;abcd&lt;/x&gt;
  &lt;x&gt;efgh&lt;/x&gt;
&lt;/MyArray1&gt;

</pre></div>
</div>
<div class="refinement">
<h4 id="WSDL_and_Schema_Definition_Target_Namespaces">4.3.4 WSDL
and Schema Definition Target Namespaces</h4>
<div class="rationale">
<p>The names defined by schemas and the names assigned to WSDL
definitions are in separate symbol spaces.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2114" id=
"R2114">R2114</a></span> The target namespace for WSDL definitions
and the target namespace for schema definitions in a <span class=
"statement-target">DESCRIPTION</span> MAY be the same. <span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
</div>
<div class="refinement">
<h4 id="Multiple_GED_Definitions_with_the_same_QName">4.3.5
Multiple GED Definitions with the same QName</h4>
<div class="rationale">
<p>The schema components of all the <code>xs:schema</code>
children, and their imports and includes, of the wsdl:types element
comprise a single symbol space containing all the global element
declarations. Thus, when global element declarations share a
qualified name, a single component will be represented in the
symbol space. If two declarations are identical, there is no
ambiguity in the structure of the component, but if the
declarations differ, it is indeterminate as to which of the
declarations will be represented, which may lead to
interoperability problems. Because defining an equivalence
algorithm is impractical, this requirement warns against any
appearance of declarations with the same qualified name. However,
duplicate declarations are not strictly prohibited, as user
inspection may determine that two declarations are actually
identical (e.g. they were imported from the same set of components)
and thus are unlikely to cause interoperability problems.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2115" id=
"R2115">R2115</a></span> A <span class=
"statement-target">DESCRIPTION</span> SHOULD NOT contain multiple
global element declarations that share the same qualified name.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2124">BP2124</a></span></p>
<div style="display: none;" id="BP2124">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2124" id=
"BP2124">BP2124</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>No two global element declarations share the same qualified
name.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:types/xsd:schema</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">count (xsd:element[@name
= preceding-sibling::element/@name]) = 0</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>preferred</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Two or more global element declarations share the same
qualified name.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">The wsdl:operation
elements containing the repeated global element
declarations.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2124">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2124">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Multiple_Type_Definitions_with_the_same_QName">4.3.6
Multiple Type Definitions with the same QName</h4>
<div class="rationale">
<p>The schema components of all the xs:schema children, and their
imports and includes, of the wsdl:types element comprise single
symbol spaces containing all the type definitions. Thus, when type
definitions share a qualified name, a single component will be
represented in the symbol space. If two definitions are identical,
there is no ambiguity in the structure of the component, but if the
definitions differ, it is indeterminate as to which of the
definitions will be represented, which may lead to interoperability
problems. Because defining an equivalence algorithm is impractical,
this requirement warns against any appearance of definitions with
the same qualified name. However, duplicate definitions are not
strictly prohibited, as user inspection may determine that two
definitions are actually identical (e.g. they were imported from
the same set of components) and thus are unlikely to cause
interoperability problems.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2116" id=
"R2116">R2116</a></span> A <span class=
"statement-target">DESCRIPTION</span> SHOULD NOT contain multiple
type definitions that share the same qualified name. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2125">BP2125</a></span></p>
<div style="display: none;" id="BP2125">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2125" id=
"BP2125">BP2125</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>No two type definitions share the same qualified name.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:types/xsd:schema</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">(count
(xsd:ComplexType[@name = preceding-sibling::ComplexType/@name]) =
0) and (count (xsd:SimpleType[@name =
preceding-sibling::SimpleType/@name]) = 0)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>preferred</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Two or more type definitions share the same qualified
name.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">The elements containing
the repeated qualified name.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2125">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2125">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<h3 id="WSDLMSGS">4.4 Messages</h3>
<p><a href="http://www.w3.org/TR/2001/NOTE-wsdl-20010315#_messages"
class="offsite">WSDL 1.1, Section 2.3</a> defines the
<code>wsdl:message</code> elements that are used to represent
abstract definitions of the data being transmitted. It uses
<code>wsdl:binding</code> elements to define how the abstract
definitions are bound to a specific message serialization. The
Profile places the following constraints on
<code>wsdl:message</code> elements and on how conformant
<code>wsdl:binding</code> elements may use
<code>wsdl:message</code> element(s).</p>
<p>Note that <a href="#wsdlmsgs-correct" class="offsite">Section
5.2, "Message"</a> , contains additional, corrective requirements
on the structure of <code>wsdl:message</code> elements.</p>
<p>In this section the following definitions are used to make the
requirements more compact and easier to understand.</p>
<p>Definition: rpc-literal binding</p>
<div class="definition">
<p>An "rpc-literal binding" is a <code>wsdl:binding</code> element
whose child <code>wsdl:operation</code> elements are all
rpc-literal operations.</p>
<p>An "rpc-literal operation" is a <code>wsdl:operation</code>
child element of <code>wsdl:binding</code> whose
<code>wsoap12:body</code> descendant elements specify the
<code>use</code> attribute with the value "literal", and
either:</p>
<ol type="">
<li>The <code>style</code> attribute with the value "rpc" is
specified on the child <code>wsoap12:operation</code> element;
or</li>
<li>The <code>style</code> attribute is not present on the child
<code>wsoap12:operation</code> element, and the
<code>wsoap12:binding</code> element in the enclosing
<code>wsdl:binding</code> specifies the <code>style</code>
attribute with the value "rpc".</li>
</ol>
</div>
<p>Definition: document-literal binding</p>
<div class="definition">
<p>A "document-literal binding" is a <code>wsdl:binding</code>
element whose child <code>wsdl:operation</code> elements are all
document-literal operations.</p>
<p>A "document-literal operation" is a <code>wsdl:operation</code>
child element of <code>wsdl:binding</code> whose
<code>wsoap12:body</code> descendent elements specifies the
<code>use</code> attribute with the value "literal" and,
either:</p>
<ol type="">
<li>The <code>style</code> attribute with the value "document" is
specified on the child <code>wsoap12:operation</code> element;
or</li>
<li>The <code>style</code> attribute is not present on the child
<code>wsoap12:operation</code> element, and the
<code>wsoap12:binding</code> element in the enclosing
<code>wsdl:binding</code> specifies the <code>style</code>
attribute with the value "document"; or</li>
<li>The <code>style</code> attribute is not present on both the
child <code>wsoap12:operation</code> element and the
<code>wsoap12:binding</code> element in the enclosing
<code>wsdl:binding</code> .</li>
</ol>
</div>
<div class="refinement">
<h4 id="Bindings_and_Parts">4.4.1 Bindings and Parts</h4>
<div class="rationale">
<p>There are various interpretations about how many
<code>wsdl:part</code> elements are permitted or required for
document-literal and rpc-literal bindings and how they must be
defined.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2201" id=
"R2201">R2201</a></span> A document-literal binding in a
<span class="statement-target">DESCRIPTION</span> MUST, in each of
its <code>wsoap12:body</code> element(s), have at most one part
listed in the <code>parts</code> attribute, if the
<code>parts</code> attribute is specified. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2111">BP2111</a></span></p>
<div style="display: none;" id="BP2111">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2111" id=
"BP2111">BP2111</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>If the "parts" attribute is present, then the wsoap12:body
element(s) have at most one part listed in the parts
attribute.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[not(.//wsoap12:*[@style
= 'rpc'])]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2017</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
not(.//wsoap12:body[@parts and contains(@parts," ")])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>One or more wsoap12:body element(s) in a document-literal
soabinding does not have at most one part listed in the parts
attribute.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective wsoap12:body
element(s).</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2111">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2111">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2210" id=
"R2210">R2210</a></span> If a document-literal binding in a
<span class="statement-target">DESCRIPTION</span> does not specify
the <code>parts</code> attribute on a <code>wsoap12:body</code>
element, the corresponding abstract <code>wsdl:message</code> MUST
define zero or one <code>wsdl:part</code>s. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2119">BP2119</a></span></p>
<div style="display: none;" id="BP2119">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2119" id=
"BP2119">BP2119</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>If it does not specify the parts attribute on a wsoap12:body
element, the corresponding abstract wsdl:message defines zero or
one wsdl:part.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[not(.//wsoap12:*[@style
= 'rpc'])]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2017</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $sbody in
wsdl:operation//wsoap12:body[not(@parts)] satisfies some $msgname
in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation[@name
= $sbody/../../@name]/*[local-name(.) =
local-name($sbody/..)]/@message satisfies
count(/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[@name
= $msgname]/wsdl:part) le 1</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A document-literal binding which does not specify the parts
attribute, has more than one wsdl:part in the associated
wsdl:message element.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective wsdl:binding
element.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2119">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2119">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2202" id=
"R2202">R2202</a></span> A <code>wsdl:binding</code> in a
<span class="statement-target">DESCRIPTION</span> MAY contain
<code>wsoap12:body</code> element(s) that specify that zero parts
form the <code>soap12:Body</code>. <span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
<p class="statement"><span class="statement-id"><a name="R2203" id=
"R2203">R2203</a></span> An rpc-literal binding in a <span class=
"statement-target">DESCRIPTION</span> MUST refer, in its
<code>wsoap12:body</code> element(s), only to
<code>wsdl:part</code> element(s) that have been defined using the
<code>type</code> attribute. <span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2013">BP2013</a></span></p>
<div style="display: none;" id="BP2013">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2013" id=
"BP2013">BP2013</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The binding (in wsoap12:body elements) only refers to part
elements that have been defined using the "type" attribute</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2017</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $sbody in
wsdl:operation//wsoap12:body satisfies some $msgname in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation[@name
= $sbody/../../@name]/*[local-name(.) =
local-name($sbody/..)]/@message satisfies every $mpart in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[@name
= $msgname]/wsdl:part satisfies $mpart/@type or $sbody/@parts and
not(contains($sbody/@parts, $mpart/@name))</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>soabinding (in wsoap12:body elements) refers to part(s) that do
not have the "type" attribute.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">{binding}{message with
failed part}</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2013">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2013">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2211" id=
"R2211">R2211</a></span> An <span class=
"statement-target">ENVELOPE</span> described with an rpc-literal
binding MUST NOT have the <code>xsi:nil</code> attribute with a
value of "1" or "true" on the part accessors. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1211a">BP1211a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1211b">BP1211b</a></span></p>
<div style="display: none;" id="BP1211a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1211a" id=
"BP1211a">BP1211a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>Part accessor elements in the envelope do not have an xsi:nil
attribute with a value of "1" or "true".</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'request' and
not (
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) ]
/wsil:messageContents/soap12:Envelope[soap12:Body/* and not
(soap12:Body//soap12:Fault) ] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding
[.//wsoap12:*[@style = 'rpc']]/wsdl:operation[@name =
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not
(soap12:Body/*/*[attribute::xsi:nil = '1' or attribute::xsi:nil =
fn:true()])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Envelope referenced by an rpc-literal binding has part accessor
elements with an xsi:nil attribute with a value of "1" or
"true".</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1211a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1211a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1211b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1211b" id=
"BP1211b">BP1211b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>Part accessor elements in the response envelope do not have an
xsi:nil attribute with a value of "1" or "true".</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ]
/wsil:messageContents/soap12:Envelope[soap12:Body/* and not
(soap12:Body/soap12:Fault)] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]/ wsdl:operation [fn:string-join((@name, 'Response' ),'' )
=
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not
(soap12:Body/*/*[attribute::xsi:nil = '1' or attribute::xsi:nil =
fn:true()])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>response Envelope referenced by an rpc-literal binding has part
accessor elements with an xsi:nil attribute with a value of "1" or
"true".</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1211b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1211b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2207" id=
"R2207">R2207</a></span> A <code>wsdl:message</code> in a
<span class="statement-target">DESCRIPTION</span> MAY contain
<code>wsdl:part</code>s that use the <code>elements</code>
attribute provided those <code>wsdl:part</code>s are not referred
to by a <code>wsoap12:body</code> in an rpc-literal binding.
<span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
<p class="statement"><span class="statement-id"><a name="R2204" id=
"R2204">R2204</a></span> A document-literal binding in a
<span class="statement-target">DESCRIPTION</span> MUST refer, in
each of its <code>wsoap12:body</code> element(s), only to
<code>wsdl:part</code> element(s) that have been defined using the
<code>element</code> attribute. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2012">BP2012</a></span></p>
<div style="display: none;" id="BP2012">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2012" id=
"BP2012">BP2012</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>A doc//wsoap12:body/@use != 'literal') and
(count($myOpBinding/..//wsoap12:body) =
count($myOpBinding/..//wsoap12:body/@use)) and
not($myOpBinding/..//wsoap12:*/@style = 'rpc') and
$myOpBinding/wsdl:output/wsoap12:body[@parts and (@parts = '' or
@parts = ' ' )] ument-literal binding only refers in wsoap12:body
elements to part elements that have been defined using the
"element" attribute.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[not(.//wsoap12:*[@style
= 'rpc'])]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2017</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $sbody in
wsdl:operation//wsoap12:body satisfies some $msgname in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation[@name
= $sbody/../../@name]/*[local-name(.) =
local-name($sbody/..)]/@message satisfies every $mpart in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[@name
= $msgname]/wsdl:part satisfies $mpart/@element or $sbody/@parts
and not(contains($sbody/@parts, $mpart/@name))</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The binding (in wsoap12:body elements) refers to part(s) of a
soap12:Body element that do not have the "element" attribute.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">wsoap12:body element(s)
that have non "element" parts attributes.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2012">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2012">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2208" id=
"R2208">R2208</a></span> A binding in a <span class=
"statement-target">DESCRIPTION</span> MAY contain
<code>wsoap12:header</code> element(s) that refer to
<code>wsdl:part</code>s in the same <code>wsdl:message</code> that
are referred to by its <code>wsoap12:body</code> element(s).
<span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
<p class="statement"><span class="statement-id"><a name="R2212" id=
"R2212">R2212</a></span> An <span class=
"statement-target">ENVELOPE</span> described using an rpc-literal
binding MUST contain exactly one part accessor element for each of
the <code>wsdl:part</code> elements bound to the
<code>wsoap12:body</code> element in the rpc-literal binding
corresponding to the envelope. <span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1212a">BP1212a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1212b">BP1212b</a></span></p>
<div style="display: none;" id="BP1212a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1212a" id=
"BP1212a">BP1212a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The Envelope of request message contains exactly one part
accessor element for each of the wsdl:part elements bound to the
envelope's corresponding wsoap12:body element.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'request' and
not (
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) ]
/wsil:messageContents/soap12:Envelope[soap12:Body/* and not
(soap12:Body//soap12:Fault) ] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding
[.//wsoap12:*[@style = 'rpc']]/wsdl:operation[@name =
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $mbody in
./soap12:Body satisfies some $dbody in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation[@name
= fn:local-name($mbody/*[1])]/wsdl:input/wsoap12:body satisfies
some $dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation[@name
= fn:local-name($mbody/*[1])]/*[fn:local-name(.) = 'input']
satisfies some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[@name
= fn:tokenize(xsd:string($dopmsg/@message), ':' )[fn:last()]]
satisfies ( not(wsdl:part) and not($mbody/*/* )) or (every $mpart
in $dmesg/wsdl:part satisfies fn:count($mbody/*/*[fn:local-name(.)
= $mpart/@name]) eq 1 or ($dbody/@parts and
not(contains($dbody/@parts, $mpart/@name))))</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The content of the soap12:Body element of request message is
inconsistent with its description. The envelope does not contain
exactly one part accessor element for each of the wsdl:part
elements bound to the envelope's corresponding wsoap12:body
element.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1212a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1212a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1212b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1212b" id=
"BP1212b">BP1212b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The Envelope of response message contains exactly one part
accessor element for each of the wsdl:part elements bound to the
envelope's corresponding wsoap12:body element.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ]
/wsil:messageContents/soap12:Envelope[soap12:Body/* and not
(soap12:Body/soap12:Fault)] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]/ wsdl:operation [fn:string-join((@name, 'Response' ),'' )
=
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $mbody in
./soap12:Body satisfies some $dbody in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation[fn:string-join((@name,
'Response'),'') =
fn:local-name($mbody/*[1])]/wsdl:output/wsoap12:body satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation[fn:string-join((@name,
'Response'),'') = fn:local-name($mbody/*[1])]/*[fn:local-name(.) =
'output' ] satisfies some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[@name
= fn:tokenize(xsd:string($dopmsg/@message), ':' )[fn:last()] and
wsdl:part/@type] satisfies every $mpart in $dmesg/wsdl:part
satisfies fn:count($mbody/*/*[fn:local-name(.) = $mpart/@name]) eq
1 or ($dbody/@parts and not(contains($dbody/@parts,
$mpart/@name)))</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The content of the soap12:Body element of resonse message is
inconsistent with its description. The envelope does not contain
exactly one part accessor element for each of the wsdl:part
elements bound to the envelope's corresponding wsoap12:body
element.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1212b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1212b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2213" id=
"R2213">R2213</a></span> In a doc-literal description where the
value of the parts attribute of wsoap12:body is an empty string,
the corresponding <span class="statement-target">ENVELOPE</span>
MUST have no element content in the soap12:Body element.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1213a">BP1213a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1213b">BP1213b</a></span></p>
<div style="display: none;" id="BP1213a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1213a" id=
"BP1213a">BP1213a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The request message envelope has no element content in the
soap12:Body element if the value of the parts attribute of the
wsoap12:body is an empty string in the corresponding doc-literal
description.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'request' and
not (
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) ]
/wsil:messageContents/soap12:Envelope[soap12:Body[not
(soap12:Fault)]] [ some $myenv in . satisfies ( every $message in
//wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message
[wsdl:part[fn:resolve-QName(xsd:string(@element), . ) =
fn:node-name($target/soap12:Body/*[1])] ] satisfies some $dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Request' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<prerequisite xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $myOpBind in
$myOpBinding satisfies ( $myOpBind/../wsoap12:binding[ not (@style
= 'rpc' )] and $myOpBind/wsoap12:operation[ not (@style = 'rpc' )]
and $myOpBind/wsdl:input/wsoap12:body[@parts and (@parts = '' or
@parts = ' ' )] )</prerequisite>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">count(./soap12:Body/*) eq
0</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The request message soap12:Body element must be empty when, in
the corresponding doc-literal description, the value of the parts
attribute of wsoap12:body is an empty string.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">SOAP
envelope</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1213a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1213a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1213b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1213b" id=
"BP1213b">BP1213b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The response message envelope has no element content in the
soap12:Body element if the value of the parts attribute of the
wsoap12:body is an empty string in the corresponding doc-literal
description.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ]
/wsil:messageContents/soap12:Envelope[soap12:Body[not
(soap12:Fault)]] [ some $myenv in . satisfies ( every $message in
//wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part[fn:resolve-QName(xsd:string(@element),
. ) = fn:node-name($target/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<prerequisite xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $myOpBind in
$myOpBinding satisfies ( $myOpBind/../wsoap12:binding[ not (@style
= 'rpc' )] and $myOpBind/wsoap12:operation[ not (@style = 'rpc' )]
and $myOpBind/wsdl:input/wsoap12:body[@parts and (@parts = '' or
@parts = ' ' )] )</prerequisite>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">count(./soap12:Body/*) eq
0</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The response message soap12:Body element must be empty when, in
the corresponding doc-literal description, the value of the parts
attribute of wsoap12:body is an empty string.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">SOAP
envelope</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1213b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1213b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2214" id=
"R2214">R2214</a></span> In a rpc-literal description where the
value of the parts attribute of wsoap12:body is an empty string,
the corresponding <span class="statement-target">ENVELOPE</span>
MUST have no part accessor elements. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1214a">BP1214a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1214b">BP1214b</a></span></p>
<div style="display: none;" id="BP1214a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1214a" id=
"BP1214a">BP1214a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The request message envelope does not contain any part accessor
elements if the value of the parts attribute of the wsoap12:body is
an empty string in the corresponding rpc-literal description</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'request' and
not (
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) ]
/wsil:messageContents/soap12:Envelope[soap12:Body/* and not
(soap12:Body/soap12:Fault) ] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding
[.//wsoap12:*[@style = 'rpc']]/wsdl:operation [@name =
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<prerequisite xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
$myOpBinding/wsdl:input/wsoap12:body[@parts and (@parts = '' or
@parts = ' ' )]</prerequisite>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">count(./soap12:Body/*/*)
eq 0</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The content of the request message soap12:Body element is
inconsistent with its description. The envelope must not have any
part accessor elements when, in the corresponding rpc-literal
description, the value of the parts attribute of wsoap12:body is an
empty string.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">SOAP
envelope</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1214a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1214a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1214b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1214b" id=
"BP1214b">BP1214b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The response message envelope does not contain any part
accessor elements if the value of the parts attribute of the
wsoap12:body is an empty string in the corresponding rpc-literal
description</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ]
/wsil:messageContents/ soap12:Envelope[soap12:Body/* and not
(soap12:Body/soap12:Fault)] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]/ wsdl:operation [fn:string-join((@name, 'Response' ),'' )
=
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<prerequisite xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
$myOpBinding/wsdl:output/wsoap12:body[@parts and (@parts = '' or
@parts = ' ' )]</prerequisite>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">count(./soap12:Body/*/*)
eq 0</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The content of the response message soap12:Body element is
inconsistent with its description. The envelope must not have any
part accessor elements when, in the corresponding rpc-literal
description, the value of the parts attribute of wsoap12:body is an
empty string.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">SOAP
envelope</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1214b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1214b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>Use of <code>wsdl:message</code> elements with zero parts is
permitted in Document styles to permit operations that can send or
receive envelopes with empty <code>soap12:Body</code> s. Use of
<code>wsdl:message</code> elements with zero parts is permitted in
RPC styles to permit operations that have no (zero) parameters
and/or a return value.</p>
<p>For document-literal bindings, the Profile requires that at most
one part, abstractly defined with the <code>element</code>
attribute, be serialized into the <code>soap12:Body</code>
element.</p>
<p>When a <code>wsdl:part</code> element is defined using the
<code>type</code> attribute, the serialization of that part in a
message is equivalent to an implicit (XML Schema) qualification of
a <code>minOccurs</code> attribute with the value "1", a
<code>maxOccurs</code> attribute with the value "1" and a
<code>nillable</code> attribute with the value "false".</p>
<p>It is necessary to specify the equivalent implicit qualification
because the <code>wsdl:part</code> element does not allow one to
specify the cardinality and nillability rules. Specifying the
cardinality and the nillability rules facilitates interoperability
between implementations. The equivalent implicit qualification for
nillable attribute has a value of "false" because if it is
specified to be "true" one cannot design a part whereby the client
is always required to send a value. For applications that want to
allow the <code>wsdl:part</code> to to be nillable, it is expected
that applications will generate a complexType wrapper and specify
the nillability rules for the contained elements of such a
wrapper.</p>
</div>
</div>
<div class="refinement">
<h4 id="Bindings_and_Faults">4.4.2 Bindings and Faults</h4>
<div class="rationale">
<p>There are several interpretations for how <code>wsdl:part</code>
elements that describe <code>wsoap12:fault</code> ,
<code>wsoap12:header</code> , and <code>wsoap12:headerfault</code>
may be defined.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2205" id=
"R2205">R2205</a></span> A <code>wsdl:binding</code> in a
<span class="statement-target">DESCRIPTION</span> MUST refer, in
each of its <code>wsoap12:header</code>,
<code>wsoap12:headerfault</code> and <code>wsoap12:fault</code>
elements, only to <code>wsdl:part</code> element(s) that have been
defined using the <code>element</code> attribute. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2113">BP2113</a></span></p>
<div style="display: none;" id="BP2113">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2113" id=
"BP2113">BP2113</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>When they contain references to message parts, the
wsoap12:header, wsoap12:headerfault and wsoap12:fault elements only
refer to wsdl:part element(s) that have been defined using the
"element" attribute.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:header[@part]
or .//wsoap12:headerfault[@part] or
.//wsdl:fault/wsoap12:fault[@name] ]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">(every $shhf in
wsdl:operation//wsoap12:*[local-name(.) = 'header' or local-name(.)
= 'headerfault'] satisfies some $msguse in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation[@name
= $shhf/../../@name]/*[local-name(.) = local-name($shhf/..)]
satisfies every $mpart in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[@name
=
local-name-from-QName(resolve-QName(xsd:string($msguse/@message),$msguse))]/wsdl:part
satisfies $mpart/@element or $shhf/@part and not($shhf/@part =
$mpart/@name)) and (every $sf in
wsdl:operation/wsdl:fault/wsoap12:fault satisfies some $msguse in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation[@name
= $sf/../../@name]/wsdl:fault[@name = $sf/@name] satisfies every
$mpart in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[@name
=
local-name-from-QName(resolve-QName(xsd:string($msguse/@message),$msguse))]/wsdl:part
satisfies $mpart/@element)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The wsoap12:header, wsoap12:headerfault or wsoap12:fault
elements refer to wsd:part element(s) that are not defined using
only the "element" attribute.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective wsdl:binding
and wsdl:part elements.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2113">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2113">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>Because faults and headers do not contain parameters,
<code>wsoap12:fault</code> , <code>wsoap12:header</code> and
<code>wsoap12:headerfault</code> assume, per WSDL 1.1, that the
value of the <code>style</code> attribute is "document". R2204
requires that all <code>wsdl:part</code> elements with a
<code>style</code> attribute whose value is "document" that are
bound to <code>wsoap12:body</code> be defined using the
<code>element</code> attribute. This requirement does the same for
<code>wsoap12:fault</code> , <code>wsoap12:header</code> and
<code>wsoap12:headerfault</code> elements.</p>
</div>
</div>
<div class="refinement">
<h4 id="Unbound_portType_Element_Contents">4.4.3 Unbound portType
Element Contents</h4>
<div class="rationale">
<p>WSDL 1.1 is not explicit about whether it is permissible for a
<code>wsdl:binding</code> to leave the binding for portions of the
content defined by a <code>wsdl:portType</code> unspecified.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2209" id=
"R2209">R2209</a></span> A <code>wsdl:binding</code> in a
<span class="statement-target">DESCRIPTION</span> SHOULD bind every
<code>wsdl:part</code> of a <code>wsdl:message</code> in the
<code>wsdl:portType</code> to which it refers to one of
<code>wsoap12:body</code>, <code>wsoap12:header</code>,
<code>wsoap12:fault</code> or <code>wsoap12:headerfault</code>.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2114">BP2114</a></span></p>
<div style="display: none;" id="BP2114">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2114" id=
"BP2114">BP2114</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>Every wsdl:part from each wsdl:message in the associated
wsdl:portType is referenced either by the wsoap12:body,
wsoap12:header, wsoap12:fault, or wsoap12:headerfault.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $bing in
self::node() satisfies<br />
every $op in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType[local-name-from-QName(resolve-QName(xsd:string($bing/@type),$bing))
= @name]/wsdl:operation satisfies<br />
some $bop in $bing/wsdl:operation[@name = $op/@name] satisfies
(<br />
(<br />
($bop/wsdl:input/wsoap12:body[not(@parts)]) or<br />
( every $mpart in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[@name
=
local-name-from-QName(resolve-QName(xsd:string($op/wsdl:input/@message),$op/wsdl:input))]/wsdl:part
satisfies<br />
(<br />
fn:exists(fn:index-of(tokenize($bop/wsdl:input/wsoap12:body/@parts,'\s+'),
$mpart/@name)) or<br />
(some $extra in
$bing/wsdl:operation/wsdl:*/wsoap12:*[local-name-from-QName(resolve-QName(xsd:string(@message),.))
= $mpart/../@name] satisfies $mpart/@name = $extra/@part ))<br />
)<br />
)<br />
and<br />
( not($op/wsdl:output) or<br />
($bop/wsdl:output/wsoap12:body[not(@parts)]) or<br />
( every $mpart in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[@name
=
local-name-from-QName(resolve-QName(xsd:string($op/wsdl:output/@message),$op/wsdl:output))]/wsdl:part
satisfies<br />
(<br />
fn:exists(fn:index-of(tokenize($bop/wsdl:output/wsoap12:body/@parts,'\s+'),
$mpart/@name)) or<br />
(some $extra in
$bing/wsdl:operation/wsdl:*/wsoap12:*[local-name-from-QName(resolve-QName(xsd:string(@message),.))
= $mpart/../@name] satisfies<br />
$mpart/@name = $extra/@part ))<br />
)<br />
)<br />
and<br />
( not($op/wsdl:fault) or<br />
(every $flt in $op/wsdl:fault satisfies $flt/@name =
$bop/wsdl:fault/wsoap12:fault/@name) )<br />
)<br /></predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A wsdl:binding does not bind every wsdl:part of a wsdl:message
in the wsdl:portType to which it refers to one of wsoap12:body,
wsoap12:header, wsoap12:fault or wsoap12:headerfault.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">{Defective wsdl:binding
element}{message with part(s) unbound}</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2114">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2114">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>A portType defines an abstract contract with a named set of
operations and associated abstract messages. Although not
disallowed, it is expected that every part of the abstract input,
output and fault messages specified in a portType is bound to
<code>wsoap12:body</code> or <code>wsoap12:header</code> (and so
forth) as appropriate when using the SOAP binding as defined in
WSDL 1.1 Section 3. Un-bound wsdl:parts should be ignored.</p>
</div>
</div>
<h3 id="WSDLPORTTYPES">4.5 Port Types</h3>
<p><a href=
"http://www.w3.org/TR/2001/NOTE-wsdl-20010315#_porttypes" class=
"offsite">WSDL 1.1, Section 2.4</a> defines the
<code>wsdl:portType</code> elements that are used to group a set of
abstract operations. The Profile places the following constraints
on conformant <code>wsdl:portType</code> element(s):</p>
<div class="refinement">
<h4 id="Ordering_of_part_Elements">4.5.1 Ordering of part
Elements</h4>
<div class="rationale">
<p>Permitting the use of <code>parameterOrder</code> helps code
generators in mapping between method signatures and messages on the
wire.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2301" id=
"R2301">R2301</a></span> The order of the elements in the
<code>soap12:Body</code> of an <span class=
"statement-target">ENVELOPE</span> MUST be the same as that of the
<code>wsdl:parts</code> in the <code>wsdl:message</code> that
describes it for each of the <code>wsdl:part</code> elements bound
to the envelope's corresponding <code>wsoap12:body</code> element.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1111a">BP1111a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1111b">BP1111b</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1012a">BP1012a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1012b">BP1012b</a></span></p>
<div style="display: none;" id="BP1111a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1111a" id=
"BP1111a">BP1111a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The content of the request message envelope matches the
definition in the WSDL document. In case of a doc-lit binding, the
child element of soap12:body is an instance of the global element
declaration referenced by the corresponding wsdl:part. It is
assumed the doc-lit binding has only 1 part. (NOTE: BP211 assumed
prereq for the cotarget)</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'request' and
not (
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) ]
/wsil:messageContents/soap12:Envelope[soap12:Body[not
(soap12:Fault)]] [ some $myenv in . satisfies ( every $message in
//wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message
[wsdl:part[fn:resolve-QName(xsd:string(@element), . ) =
fn:node-name($target/soap12:Body/*[1])] ] satisfies some $dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Request' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<prerequisite xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $myOpBind in
$myOpBinding satisfies ( not($myOpBind/..//wsoap12:body/@use !=
'literal') and (count($myOpBind/..//wsoap12:body) =
count($myOpBind/..//wsoap12:body/@use)) and
$myOpBind/../wsoap12:binding[ not (@style = 'rpc' )] and
$myOpBind/wsoap12:operation[ not (@style = 'rpc' )]
)</prerequisite>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">count(soap12:Body/*) le
1</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The content of the request message envelope associated with a
doc-lit WSDL binding does not match the wsdl:message definition.
the child element of soap12:body is not an instance of the global
element declaration referenced by the corresponding wsdl:part.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Non-matching WSDL
operation and envelope.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1111a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1111a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1111b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1111b" id=
"BP1111b">BP1111b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The content of the response message envelope matches the
definition in the WSDL document. In case of a doc-lit binding, the
child element of soap12:Body is an instance of the global element
declaration referenced by the corresponding wsdl:part. It is
assumed the doc-lit binding has only 1 part. (NOTE: BP211 assumed
prereq for the cotarget)</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ]
/wsil:messageContents/soap12:Envelope[soap12:Body[not
(soap12:Fault)]] [ some $myenv in . satisfies ( every $message in
//wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part[fn:resolve-QName(xsd:string(@element),
. ) = fn:node-name($target/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<prerequisite xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $myOpBind in
$myOpBinding satisfies ( not($myOpBind/..//wsoap12:body/@use !=
'literal') and (count($myOpBind/..//wsoap12:body) =
count($myOpBind/..//wsoap12:body/@use)) and
$myOpBind/../wsoap12:binding[ not (@style = 'rpc' )] and
$myOpBind/wsoap12:operation[ not (@style = 'rpc' )]
)</prerequisite>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">count(soap12:Body/*) le
1</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The content of the response message envelope does not match the
wsdl:message definition. the child element of soap12:Body is not an
instance of the global element declaration referenced by the
corresponding wsdl:part.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Non-matching WSDL
operation and envelope.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1111b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1111b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1012a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1012a" id=
"BP1012a">BP1012a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The content of the request message envelope matches the
definition in the WSDL document for rpc-lit binding. The order of
the part elements in the soap12:Body of the wired message, is same
as that of the wsdl:partS, in the wsdl:message that describes it
for each of the wsdl:part elements bound to the envelope's
corresponding wsoap12:body element.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'request' and
not (
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) ]
/wsil:messageContents/soap12:Envelope[soap12:Body/* and not
(soap12:Body//soap12:Fault) ] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding
[.//wsoap12:*[@style = 'rpc']]/wsdl:operation[@name =
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $mbody in
./soap12:Body satisfies some $dbody in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation[@name
= fn:local-name($mbody/*[1])]/wsdl:input/wsoap12:body satisfies
some $dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation[@name
= fn:local-name($mbody/*[1])]/*[fn:local-name(.) = 'input']
satisfies some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[@name
= fn:tokenize(xsd:string($dopmsg/@message), ':' )[fn:last()]]
satisfies ( not(wsdl:part) and not($mbody/*/* )) or (every $tst in
( for $i in 1 to fn:count($mbody/*/*) return
//wsdl:message/wsdl:part[not($dbody/@parts and
not(fn:contains($dbody/@parts,@name)))][$i]/@name =
fn:local-name($mbody/*/*[$i]) ) satisfies $tst =
fn:true())</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The content of the request message envelope does not match the
wsdl:message definition for rpc/lit binding. The order of parts in
soap12:Body does not match the order of wsdl:partS in wsdl:message
that describes it for each of the wsdl:part elements bound to the
envelope's corresponding wsoap12:body element.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Non-matching WSDL
operation and envelope.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1012a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1012a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1012b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1012b" id=
"BP1012b">BP1012b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The content of the response message envelope matches the
definition in the WSDL document for rpc-lit binding. The order of
the part elements in the soap12:Body of the wired message, is same
as that of the wsdl:partS, in the wsdl:message that describes it
for each of the wsdl:part elements bound to the envelope's
corresponding wsoap12:body element.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ]
/wsil:messageContents/soap12:Envelope[soap12:Body/* and not
(soap12:Body/soap12:Fault)] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]/ wsdl:operation [fn:string-join((@name, 'Response' ),'' )
=
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $mbody in
./soap12:Body satisfies some $dbody in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation[fn:string-join((@name,
'Response'),'') =
fn:local-name($mbody/*[1])]/wsdl:output/wsoap12:body satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation[fn:string-join((@name,
'Response'),'') = fn:local-name($mbody/*[1])]/*[fn:local-name(.) =
'output' ] satisfies some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[@name
= fn:tokenize(xsd:string($dopmsg/@message), ':' )[fn:last()] and
wsdl:part/@type] satisfies every $tst in ( for $i in 1 to
fn:count($mbody/*/*) return
//wsdl:message/wsdl:part[not($dbody/@parts and
not(fn:contains($dbody/@parts,@name)))][$i]/@name =
fn:local-name($mbody/*/*[$i]) ) satisfies $tst =
fn:true()</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The content of the response message envelope does not match the
wsdl:message definition for rpc/lit binding. The order of parts in
soap12:Body does not match the order of wsdl:partS in wsdl:message
that describes it for each of the wsdl:part elements bound to the
envelope's corresponding wsoap12:body element.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Non-matching WSDL
operation and envelope.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1012b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1012b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2302" id=
"R2302">R2302</a></span> A <span class=
"statement-target">DESCRIPTION</span> MAY use the
<code>parameterOrder</code> attribute of an
<code>wsdl:operation</code> element to indicate the return value
and method signatures as a hint to code generators. <span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
</div>
<div class="refinement">
<h4 id="Allowed_Operations">4.5.2 Allowed Operations</h4>
<div class="rationale">
<p>Solicit-Response and Notification operations are not well
defined by WSDL 1.1; furthermore, WSDL 1.1 does not define bindings
for them.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2303" id=
"R2303">R2303</a></span> A <span class=
"statement-target">DESCRIPTION</span> MUST NOT use Solicit-Response
and Notification type operations in a <code>wsdl:portType</code>
definition. <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2208">BP2208</a></span></p>
<div style="display: none;" id="BP2208">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2208" id=
"BP2208">BP2208</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The wsdl:operation element is either a WSDL request/response or
a one-way operation (no Notification or Sollicit-Response).</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2703</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
not(*[local-name-from-QName(node-name(.)) = 'output' and position()
= 1])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>wsdl:operation was not a request/response or one-way
operation.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Operation.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2208">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2208">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Distinctive_Operations">4.5.3 Distinctive Operations</h4>
<div class="rationale">
<p>Operation name overloading in a <code>wsdl:portType</code> is
disallowed by the Profile.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2304" id=
"R2304">R2304</a></span> A <code>wsdl:portType</code> in a
<span class="statement-target">DESCRIPTION</span> MUST have
operations with distinct values for their <code>name</code>
attributes. <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2010">BP2010</a></span></p>
<div style="display: none;" id="BP2010">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2010" id=
"BP2010">BP2010</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>name attributes of Operations are unique in the wsdl:portType
definition</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2703</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not(wsdl:operation[@name
= preceding-sibling::*/@name]) and not(wsdl:operation[@name =
following-sibling::*/@name])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>name attributes are not unique within the portType
definition.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">list of duplicate name(s)
and of elements that use them.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2010">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2010">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>Note that this requirement applies only to the
<code>wsdl:operation</code> s within a given
<code>wsdl:portType</code> . A <code>wsdl:portType</code> may have
<code>wsdl:operation</code> s with names that are the same as those
found in other <code>wsdl:portType</code> s.</p>
</div>
</div>
<div class="refinement">
<h4 id="parameterOrder_Attribute_Construction">4.5.4 parameterOrder
Attribute Construction</h4>
<div class="rationale">
<p>WSDL 1.1 does not clearly state how the
<code>parameterOrder</code> attribute of the
<code>wsdl:operation</code> element (which is the child of the
<code>wsdl:portType</code> element) should be constructed.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2305" id=
"R2305">R2305</a></span> A <code>wsdl:operation</code> element
child of a <code>wsdl:portType</code> element in a <span class=
"statement-target">DESCRIPTION</span> MUST be constructed so that
the <code>parameterOrder</code> attribute, if present, omits at
most 1 <code>wsdl:part</code> from the output message. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2014">BP2014</a></span></p>
<div style="display: none;" id="BP2014">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2014" id=
"BP2014">BP2014</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The parameterOrder attribute omits at most 1 part from an
output wsdl:message.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog//wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation[@parameterOrder]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">for $op in self::node()
return count( for $mpart in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/*/wsdl:message[@name
= $op/wsdl:output/@message]/wsdl:part return
index-of(tokenize($op/@parameterOrder,'\s+'), $mpart/@name)) ge
count(/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/*/wsdl:message[@name
= $op/wsdl:output/@message]/wsdl:part) - 1</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An operation associated with an rpc-literal binding has a
parameterOrder attribute that omits more than 1 part.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">{defective
portType}{output wsdl:message}</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2014">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2014">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>If a <code>wsdl:part</code> from the output message is omitted
from the list of <code>wsdl:part</code> s that is the value of the
<code>parameterOrder</code> attribute, the single omitted
<code>wsdl:part</code> is the return value. There are no
restrictions on the type of the return value. If no part is
omitted, there is no return value.</p>
</div>
</div>
<div class="refinement">
<h4 id="Exclusivity_of_type_and_element_Attributes">4.5.5
Exclusivity of type and element Attributes</h4>
<div class="rationale">
<p>WSDL 1.1 does not clearly state that both <code>type</code> and
<code>element</code> attributes cannot be specified to define a
<code>wsdl:part</code> in a <code>wsdl:message</code> .</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2306" id=
"R2306">R2306</a></span> A <code>wsdl:message</code> in a
<span class="statement-target">DESCRIPTION</span> MUST NOT specify
both <code>type</code> and <code>element</code> attributes on the
same <code>wsdl:part</code>. <span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2116">BP2116</a></span></p>
<div style="display: none;" id="BP2116">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2116" id=
"BP2116">BP2116</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The wsdl:message element does not contain part elements that
use both "type" and "element" attributes.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not(wsdl:part[@type and
@element])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A wsdl:message element has at least one wsdl:part element that
contains both type and element attributes.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective wsdl:message
element.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2116">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2116">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<h3 id="WSDLBINDINGS">4.6 Bindings</h3>
<p>In WSDL 1.1, the <code>wsdl:binding</code> element supplies the
concrete protocol and data format specifications for the operations
and messages defined by a particular <code>wsdl:portType</code> .
The Profile places the following constraints on conformant binding
specifications:</p>
<div class="refinement">
<h4 id="Use_of_SOAP_Binding">4.6.1 Use of SOAP Binding</h4>
<div class="rationale">
<p>The Profile limits the choice of bindings to the well-defined
and most commonly used SOAP 1.2 binding.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2401" id=
"R2401">R2401</a></span> A <code>wsdl:binding</code> element in a
<span class="statement-target">DESCRIPTION</span> MUST use the SOAP
1.2 binding as defined in the <a href=
"http://www.w3.org/Submission/2006/SUBM-wsdl11soap12-20060405/"
class="offsite">WSDL 1.1 Binding Extension for SOAP 1.2</a>.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2402">BP2402</a></span></p>
<div style="display: none;" id="BP2402">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2402" id=
"BP2402">BP2402</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The wsdl:binding element has a wsoap12:binding child
element.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2703</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
child::wsoap12:binding</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The wsdl:binding element does not use a wsoap12:binding element
as defined in section "3 SOAP Binding." of the WSDL 1.1
specification.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
wsdl:binding.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2402">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2402">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>Note that this places a requirement on the construction of
conformant <code>wsdl:binding</code> elements. It does not place a
requirement on descriptions as a whole; in particular, it does not
preclude WSDL documents from containing non-conformant
<code>wsdl:binding</code> elements. Also, a binding may have WSDL
extensibility elements present which change how messages are
serialized.</p>
</div>
</div>
<h3 id="WSDLSOAPBINDING">4.7 SOAP Binding</h3>
<p>The <a href=
"http://www.w3.org/Submission/2006/SUBM-wsdl11soap12-20060405/"
class="offsite">WSDL 1.1 Binding Extension for SOAP 1.2</a> defines
a binding for SOAP 1.2 endpoints. This Profile mandates the use of
the SOAP 1.2 binding as defined in WSDL 1.1 Binding Extension for
SOAP 1.2, and places the following constraints on its use:</p>
<p>Note that <a href="#wsdlsoapbinding-correct" class=
"offsite">Section 5.3, "SOAP Binding"</a> , contains additional,
corrective requirements on the use of the SOAP 1.2 binding.</p>
<div class="refinement">
<h4 id="HTTP_Transport">4.7.1 HTTP Transport</h4>
<div class="rationale">
<p>The profile limits the underlying transport protocol to
HTTP.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2702" id=
"R2702">R2702</a></span> When HTTP is used, a
<code>wsdl:binding</code> element in a <span class=
"statement-target">DESCRIPTION</span> MUST specify the HTTP
transport protocol with SOAP binding. Specifically, the
<code>transport</code> attribute of its
<code>wsoap12:binding</code> child MUST have the value
"http://schemas.xmlsoap.org/soap/http". <span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2404">BP2404</a></span></p>
<div style="display: none;" id="BP2404">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2404" id=
"BP2404">BP2404</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The contained soabinding element has a "transport" attribute,
which has value: http://schemas.xmlsoap.org/soap/http.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[wsoap12:binding]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2703 BP2402 BP2403</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
wsoap12:binding[@transport='http://schemas.xmlsoap.org/soap/http']</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Transport attribute of the soabinding does not contain
http://schemas.xmlsoap.org/soap/http.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">soabinding
element.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2404">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2404">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>Note that this requirement does not prohibit the use of HTTPS;
See R5000.</p>
</div>
</div>
<div class="refinement">
<h4 id="Consistency_of_style_Attribute">4.7.2 Consistency of style
Attribute</h4>
<div class="rationale">
<p>The <code>style</code> , "document" or "rpc", of an interaction
is specified at the <code>wsdl:operation</code> level, permitting
<code>wsdl:binding</code> s whose <code>wsdl:operation</code> s
have different <code>style</code> s. This has led to
interoperability problems. Additionally, use of document-literal
binding, which generally allows for simpler implementations than
the rpc-literal binding, is encouraged. This hint is not always
appropriate, especially in the case of some existing
implementations, which continue to be supported by this
profile.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2705" id=
"R2705">R2705</a></span> A <code>wsdl:binding</code> in a
<span class="statement-target">DESCRIPTION</span> MUST either be a
rpc-literal binding or a document-literal binding. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2017">BP2017</a></span></p>
<div style="display: none;" id="BP2017">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2017" id=
"BP2017">BP2017</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The wsdl:binding is either an rpc-literal binding or a
document-literal binding.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[wsoap12:binding]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2404</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not(.//wsoap12:body/@use
!= 'literal') and (count(.//wsoap12:body) =
count(.//wsoap12:body/@use)) and ((not(.//wsoap12:*/@style !=
'rpc') and not(.//wsoap12:operation[not(@style) and
not(../../wsoap12:binding/@style)])) or (not(.//wsoap12:*/@style !=
'document')))</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The "style" attribute of an operation in soabinding, does not
have the same value of "document" or "rpc", as other operations of
the binding.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">defective soabinding
element.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2017">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2017">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Encodings_and_the_use_Attribute">4.7.3 Encodings and the
use Attribute</h4>
<div class="rationale">
<p>The Profile prohibits the use of encodings, including the SOAP
encoding.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2706" id=
"R2706">R2706</a></span> A <code>wsdl:binding</code> in a
<span class="statement-target">DESCRIPTION</span> MUST use the
value of "literal" for the <code>use</code> attribute in all
<code>wsoap12:body</code>, <code>wsoap12:fault</code>,
<code>wsoap12:header</code> and <code>wsoap12:headerfault</code>
elements. <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2406">BP2406</a></span></p>
<div style="display: none;" id="BP2406">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2406" id=
"BP2406">BP2406</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The use attribute has a value of "literal".</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[wsoap12:binding]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2703</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not(.//*[@use and @use !=
"literal"])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The use attribute of a wsoap12:body, wsoap12:fault,
wsoap12:header and wsoap12:headerfault does not have value of
"literal".</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective wsoap12:body,
wsoap12:fault, wsoap12:header, or wsoap12:headerfault
elements.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2406">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2406">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Multiple_Bindings_for_portType_Elements">4.7.4 Multiple
Bindings for portType Elements</h4>
<div class="rationale">
<p>The Profile explicitly permits multiple bindings for the same
portType.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2709" id=
"R2709">R2709</a></span> A <code>wsdl:portType</code> in a
<span class="statement-target">DESCRIPTION</span> MAY have zero or
more <code>wsdl:binding</code>s that refer to it, defined in the
same or other WSDL documents. <span class="claim-type">CORE</span>
<span class="testable-type">NOT_TESTED</span></p>
</div>
<div class="refinement">
<h4 id="Operation_Signatures">4.7.5 Operation Signatures</h4>
<p>Definition: operation signature</p>
<div class="definition">
<p>The Profile defines the "operation signature" to be the fully
qualified name of the child element of SOAP body of the SOAP input
message described by an operation in a WSDL binding and the URI
value of the <code>wsa:Action</code> SOAP header block, if
present.</p>
<p>In the case of rpc-literal binding, the operation name is used
as a wrapper for the part accessors. In the document-literal case,
since a wrapper with the operation name is not present, the message
signatures must be correctly designed so that they meet this
requirement.</p>
</div>
<div class="rationale">
<p>An endpoint that supports multiple operations must unambiguously
identify the operation being invoked based on the input message
that it receives. This is only possible if all the operations
specified in the <code>wsdl:binding</code> associated with an
endpoint have a unique operation signature.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2710" id=
"R2710">R2710</a></span> The operations in a
<code>wsdl:binding</code> in a <span class=
"statement-target">DESCRIPTION</span> MUST result in operation
signatures that are different from one another. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2120a">BP2120a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2120b">BP2120b</a></span></p>
<div style="display: none;" id="BP2120a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2120a" id=
"BP2120a">BP2120a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>Each operation referenced by the binding results in a unique
wire signature.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding
[not(.//wsoap12:*[@style = 'rpc'])]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> imagesig</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="imagesig">for
$bop_1 in $target/wsdl:operation return fn:string-join( ( for $part
in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message
[ @name = (
fn:tokenize(/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType
[@name = fn:tokenize(xsd:string($target/@type), ':'
)[fn:last()]]/wsdl:operation[@name = $bop_1/@name]/
wsdl:input/@message, ':' )[fn:last()] ) ]/wsdl:part[1] return
(fn:namespace-uri-from-QName(fn:resolve-QName(xsd:string($part/@element),
$part)) ,
fn:local-name-from-QName(fn:resolve-QName(xsd:string($part/@element),
$part)) ) , for $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType
[@name = fn:tokenize(xsd:string($target/@type), ':'
)[fn:last()]]/wsdl:operation[@name = $bop_1/@name]/ wsdl:input
return ( ( if ($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Request' ) ) ) )
),',' )</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2017</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">fn:count($imagesig) =
fn:count(fn:distinct-values($imagesig))</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A binding has operations that are not unique.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective wsdl:operation
element(s).</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2120a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2120a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP2120b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2120b" id=
"BP2120b">BP2120b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>Each operation referenced by the binding results in a unique
wire signature.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding
[.//wsoap12:*[@style = 'rpc']]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> imagesig</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="imagesig">for
$bop_1 in $target/wsdl:operation return fn:string-join( (
$bop_1/wsdl:input/wsoap12:body/@namespace , $bop_1/@name , for
$opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType
[@name = fn:tokenize(xsd:string($target/@type), ':'
)[fn:last()]]/wsdl:operation[@name = $bop_1/@name]/ wsdl:input
return ( ( if ($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Request' ) ) ) )
),',' )</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2017</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">fn:count($imagesig) =
fn:count(fn:distinct-values($imagesig))</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A binding has operations that are not unique.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective wsdl:operation
element(s).</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2120b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2120b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Multiple_Ports_on_an_Endpoint">4.7.6 Multiple Ports on an
Endpoint</h4>
<div class="rationale">
<p>When input messages destined for two different
<code>wsdl:port</code> s at the same network endpoint are
indistinguishable on the wire, it may not be possible to determine
the <code>wsdl:port</code> being invoked by them. This may cause
interoperability problems. However, there may be situations (e.g.,
SOAP versioning, application versioning, conformance to different
profiles) where it is desirable to locate more than one port on an
endpoint; therefore, the Profile allows this.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2711" id=
"R2711">R2711</a></span> A <span class=
"statement-target">DESCRIPTION</span> SHOULD NOT have more than one
<code>wsdl:port</code> with the same value for the
<code>location</code> attribute of the <code>wsoap12:address</code>
element. <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2711">BP2711</a></span></p>
<div style="display: none;" id="BP2711">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2711" id=
"BP2711">BP2711</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>don't know why this is listed as Not testable.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
///wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/wsdl:port</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
not(wsoap12:address/@location =
preceding::wsdl:port/wsoap12:address/@location) and
not(wsoap12:address/@location =
following::wsdl:port/wsoap12:address/@location)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>preferred</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td></td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2711">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2711">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Child_Element_for_Document-Literal_Bindings">4.7.7 Child
Element for Document-Literal Bindings</h4>
<div class="rationale">
<p>WSDL 1.1 is not completely clear what, in document-literal style
bindings, the child element of <code>soap12:Body</code> is.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2712" id=
"R2712">R2712</a></span> A document-literal binding MUST be
serialized as an <span class="statement-target">ENVELOPE</span>
with a <code>soap12:Body</code> whose child element is an instance
of the global element declaration referenced by the corresponding
<code>wsdl:message</code> part. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1011a">BP1011a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1011b">BP1011b</a></span></p>
<div style="display: none;" id="BP1011a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1011a" id=
"BP1011a">BP1011a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The content of the envelope matches the definition in the WSDL
document. In case of a doc-lit binding, the child element of
soap12:body is an instance of the global element declaration
referenced by the corresponding wsdl:part. It is assumed the
doc-lit binding has only 1 part. (NOTE: BP211 assumed prereq for
the cotarget)</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'request' and
not (
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) ]
/wsil:messageContents/soap12:Envelope[soap12:Body[not
(soap12:Fault)]] [ some $myenv in . satisfies ( every $message in
//wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message
[wsdl:part[fn:resolve-QName(xsd:string(@element), . ) =
fn:node-name($target/soap12:Body/*[1])] ] satisfies some $dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Request' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">count(soap12:Body/*) le
1</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The content of the envelope associated with a doc-lit WSDL
binding does not match the wsdl:message definition. the child
element of soap12:body is not an instance of the global element
declaration referenced by the corresponding wsdl:part.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Non-matching WSDL
operation and envelope.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1011a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1011a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1011b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1011b" id=
"BP1011b">BP1011b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The content of the response message envelope matches the
definition in the WSDL document. In case of a doc-lit binding, the
child element of soap12:Body is an instance of the global element
declaration referenced by the corresponding wsdl:part. It is
assumed the doc-lit binding has only 1 part. (NOTE: BP211 assumed
prereq for the cotarget)</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ]
/wsil:messageContents/soap12:Envelope[soap12:Body[not
(soap12:Fault)]] [ some $myenv in . satisfies ( every $message in
//wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part[fn:resolve-QName(xsd:string(@element),
. ) = fn:node-name($target/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">count(soap12:Body/*) le
1</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The content of the envelope does not match the wsdl:message
definition. the child element of soap12:Body is not an instance of
the global element declaration referenced by the corresponding
wsdl:part.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Non-matching WSDL
operation and envelope.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1011b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1011b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="One-Way_Operations">4.7.8 One-Way Operations</h4>
<div class="rationale">
<p>There are differing interpretations of how HTTP is to be used
when performing one-way operations. The SOAP 1.2 Request-Response
SOAP MEP specifies the expectations for the SOAP/HTTP binding.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2714" id=
"R2714">R2714</a></span> For one-way operations, an HTTP Response
<span class="statement-target">MESSAGE</span> MAY contain an
envelope. <span class="claim-type">HTTP-TRANSPORT</span>
<span class="testable-type">NOT_TESTED</span></p>
<p class="statement"><span class="statement-id"><a name="R2727" id=
"R2727">R2727</a></span> For one-way operations, a <span class=
"statement-target">CONSUMER</span> MUST NOT interpret a successful
HTTP Response status code (i.e., 2xx) to mean the message is valid
or that the receiver would process it. <span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
<div class="explanation">
<p>One-way operations typically do not produce SOAP responses.
However, some INSTANCEs may choose to communicate
infrastructure-related faults (e.g. MustUnderstand,
VersionMismatch) in the HTTP Response message. In addition to this,
the use of some protocol extensions (e.g. WS-ReliableMessaging) may
create the possibility for non-empty responses to one-way messages.
For these reasons the Basic Profile 1.1 requirement that the HTTP
Response message not contain a SOAP envelope has been relaxed.
Note: the fact that an INSTANCE may choose to communicate
infrastructure-related faults in the HTTP Response does not mean
that the CONSUMER can expect it to do so.</p>
<p>The HTTP Response to a one-way operation indicates the success
or failure of the transmission of the message. Based on the
semantics of the different response status codes supported by the
HTTP protocol, the Profile specifies that "200" and "202" are the
preferred status codes that the sender should expect, signifying
that the one-way message was received. A successful transmission
does not indicate that the SOAP processing layer and the
application logic has had a chance to validate the envelope or have
committed to processing it.</p>
</div>
</div>
<div class="refinement">
<h4 id="Namespaces_for_wsoap12_Elements">4.7.9 Namespaces for
wsoap12 Elements</h4>
<div class="rationale">
<p>There is confusion about what namespace is associated with the
child elements of various children of <code>soap12:Envelope</code>
, which has led to interoperability difficulties. The Profile
defines these.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2716" id=
"R2716">R2716</a></span> A document-literal binding in a
<span class="statement-target">DESCRIPTION</span> MUST NOT have the
<code>namespace</code> attribute specified on contained
<code>wsoap12:body</code>, <code>wsoap12:header</code>,
<code>wsoap12:headerfault</code> and <code>wsoap12:fault</code>
elements. <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2019">BP2019</a></span></p>
<div style="display: none;" id="BP2019">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2019" id=
"BP2019">BP2019</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>For doc/lit binding, the "namespace" attribute is not specified
in any contained wsoap12:body, wsoap12:header,
wsoap12::headerfault, wsoap12:fault elements</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[not(.//wsoap12:*[@style
= 'rpc'])]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2406</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $wopbind in (
$target//wsoap12:body | $target//wsoap12:fault |
$target//wsoap12:header | $target//wsoap12:headerfault ) satisfies
not($wopbind/@namespace)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The binding is of style "document" and use "literal", and the
"namespace" attribute is specified in some wsoap12:body,
wsoap12:header, wsoap12::headerfault, wsoap12:fault element</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Contained element with
namespace attribute.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2019">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2019">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2717" id=
"R2717">R2717</a></span> An rpc-literal binding in a <span class=
"statement-target">DESCRIPTION</span> MUST have the
<code>namespace</code> attribute specified, the value of which MUST
be an absolute URI, on contained <code>wsoap12:body</code>
elements. <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2020">BP2020</a></span></p>
<div style="display: none;" id="BP2020">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2020" id=
"BP2020">BP2020</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The namespace attribute is specified on all wsoap12:body
elements and the value of the namespace attribute is an absolute
URI.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2017</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $wbody in
.//wsoap12:body satisfies
fn:count(fn:tokenize($wbody/@namespace,':')) &gt; 1</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A wsoap12:body element does not have a namespace attribute, or
the namespace attribute value is not an absolute URI.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">wsoap12:body elements
that failed the assertion</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2020">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2020">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2726" id=
"R2726">R2726</a></span> An rpc-literal binding in a <span class=
"statement-target">DESCRIPTION</span> MUST NOT have the
<code>namespace</code> attribute specified on contained
<code>wsoap12:header</code>, <code>wsoap12:headerfault</code> and
<code>wsoap12:fault</code> elements. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2117">BP2117</a></span></p>
<div style="display: none;" id="BP2117">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2117" id=
"BP2117">BP2117</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The rpc-literal binding does not have a namespace attribute
specified on a contained wsoap12:header, wsoap12:headerfault, and
wsoap12:fault element.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2017 BP2406</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
not(.//wsoap12:fault[@namespace]) and
not(.//wsoap12:header[@namespace]) and
not(.//wsoap12:headerfault[@namespace])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An rpc-literal binding has the namespace attribute specified on
contained wsoap12:header, wsoap12:headerfault and wsoap12:fault
elements.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">{Defective
wsdl:binding}{defective wsoap12:header, wsoap12:headerfault, or
wsoap12:fault element}</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2117">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2117">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>In a document-literal SOAP binding, the serialized element child
of the <code>soap12:Body</code> gets its namespace from the
targetNamespace of the schema that defines the element. Use of the
<code>namespace</code> attribute of the <code>wsoap12:body</code>
element would override the element's namespace. This is not allowed
by the Profile.</p>
<p>Conversely, in a rpc-literal SOAP binding, the serialized child
element of the <code>soap12:Body</code> element consists of a
wrapper element, whose namespace is the value of the
<code>namespace</code> attribute of the <code>wsoap12:body</code>
element and whose local name is either the name of the operation or
the name of the operation suffixed with "Response". The
<code>namespace</code> attribute is required, as opposed to being
optional, to ensure that the children of the
<code>soap12:Body</code> element are namespace-qualified.</p>
</div>
</div>
<div class="refinement">
<h4 id="Consistency_of_portType_and_binding_Elements">4.7.10
Consistency of portType and binding Elements</h4>
<div class="rationale">
<p>The WSDL description must be consistent at both
<code>wsdl:portType</code> and <code>wsdl:binding</code>
levels.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2718" id=
"R2718">R2718</a></span> A <code>wsdl:binding</code> in a
<span class="statement-target">DESCRIPTION</span> MUST have the
same set of <code>wsdl:operation</code>s as the
<code>wsdl:portType</code> to which it refers. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2118">BP2118</a></span></p>
<div style="display: none;" id="BP2118">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2118" id=
"BP2118">BP2118</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The list (or set) of wsdl:operation elements for the contained
wsdl:binding is the same as the list of wsdl:operations for the
referred wsdl:portType.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myportype</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myportype">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType[@name
=
fn:local-name-from-QName(fn:resolve-QName(xsd:string($target/@type),
$target))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">(every $operation in
$myportype/wsdl:operation satisfies<br />
(some $bop in $target/wsdl:operation satisfies<br />
$bop/@name = $operation/@name)) and<br />
(count(wsdl:operation) = count($myportype/wsdl:operation))
and<br />
not(wsdl:operation[@name = preceding-sibling::wsdl:operation/@name
])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A wsdl:binding does not have the same list of wsdl:operations
as the wsdl:portType to which it refers.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">{unmatching wsdl:binding
element}{unmatching portType element}</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2118">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2118">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Enumeration_of_Faults">4.7.11 Enumeration of Faults</h4>
<div class="rationale">
<p>A Web service description should include all faults known at the
time the service is defined. There is also need to permit
generation of new faults that had not been identified when the Web
service was defined.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2740" id=
"R2740">R2740</a></span> A <code>wsdl:binding</code> in a
<span class="statement-target">DESCRIPTION</span> SHOULD contain a
<code>wsoap12:fault</code> describing each known fault.
<span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
<p class="statement"><span class="statement-id"><a name="R2741" id=
"R2741">R2741</a></span> A <code>wsdl:binding</code> in a
<span class="statement-target">DESCRIPTION</span> SHOULD contain a
<code>wsoap12:headerfault</code> describing each known header
fault. <span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
<p class="statement"><span class="statement-id"><a name="R2742" id=
"R2742">R2742</a></span> An <span class=
"statement-target">ENVELOPE</span> MAY contain a fault with a
<code>detail</code> element that is not described by a
<code>wsoap12:fault</code> element in the corresponding WSDL
description. <span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
<p class="statement"><span class="statement-id"><a name="R2743" id=
"R2743">R2743</a></span> An <span class=
"statement-target">ENVELOPE</span> MAY contain the details of a
header processing related fault in a SOAP header block that is not
described by a <code>wsoap12:headerfault</code> element in the
corresponding WSDL description. <span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
</div>
<div class="refinement">
<h4 id="Consistency_of_Envelopes_with_Descriptions">4.7.12
Consistency of Envelopes with Descriptions</h4>
<div class="rationale">
<p>These requirements specify that when an instance receives an
envelope that does not conform to the WSDL description, a fault
should be generated unless the instance takes it upon itself to
process the envelope regardless of this.</p>
<p>As specified by the SOAP processing model, (a) a
"VersionMismatch" faultcode must be generated if the namespace of
the "Envelope" element is incorrect, (b) a "MustUnderstand" fault
must be generated if the instance does not understand a SOAP header
block with a value of "1" for the
<code>soap12:mustUnderstand</code> attribute. In all other cases
where an envelope is inconsistent with its WSDL description, a
fault with a "Client" faultcode should be generated.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2724" id=
"R2724">R2724</a></span> If an <span class=
"statement-target">INSTANCE</span> receives an envelope that is
inconsistent with its WSDL description, it SHOULD generate a
<code>soap12:Fault</code> with a faultcode of "Client", unless a
"MustUnderstand" or "VersionMismatch" fault is generated.
<span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
<p class="statement"><span class="statement-id"><a name="R2725" id=
"R2725">R2725</a></span> If an <span class=
"statement-target">INSTANCE</span> receives an envelope that is
inconsistent with its WSDL description, it MUST check for
"VersionMismatch", "MustUnderstand" and "Client" fault conditions
in that order. <span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
</div>
<div class="refinement">
<h4 id="Response_Wrappers">4.7.13 Response Wrappers</h4>
<div class="rationale">
<p>WSDL 1.1 Section 3.5 could be interpreted to mean the RPC
response wrapper element must be named identical to the name of the
<code>wsdl:operation</code> .</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2729" id=
"R2729">R2729</a></span> An <span class=
"statement-target">ENVELOPE</span> described with an rpc-literal
binding that is a response MUST have a wrapper element whose name
is the corresponding <code>wsdl:operation</code> name suffixed with
the string "Response". <span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1005">BP1005</a></span></p>
<div style="display: none;" id="BP1005">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1005" id=
"BP1005">BP1005</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope has a wrapper element with a name equal to the
name attribute on the wsdl:operation element suffixed with string
"Response".</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ]
/wsil:messageContents/ soap12:Envelope[soap12:Body/* and not
(soap12:Body/soap12:Fault)] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message [ @type = 'request' and
(if
(not(./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:MessageID)
) then ( @conversation = $target/../../@conversation) else
(./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:MessageID
= $target/soap12:Header/wsa:RelatesTo [@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ))
]/wsil:messageContents/soap12:Envelope[soap12:Body/*]</cotarget>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBindings</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBindings">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*
[@style = 'rpc']]/wsdl:operation[@name =
fn:local-name($related-Request[1]/soap12:Body/*[1])]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
fn:concat(fn:local-name($related-Request[1]/soap12:Body/*[1]),
'Response' ) = fn:local-name($target/soap12:Body/*[1])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Wrapper element in the envelope does not have a value equal to
the name attribute on the wsdl:operation element suffixed with
string "Response".</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1005">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1005">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Part_Accessors">4.7.14 Part Accessors</h4>
<div class="rationale">
<p>For rpc-literal envelopes, WSDL 1.1 is not clear what namespace,
if any, the accessor elements for parameters and return value are a
part of. Different implementations make different choices, leading
to interoperability problems.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2735" id=
"R2735">R2735</a></span> An <span class=
"statement-target">ENVELOPE</span> described with an rpc-literal
binding MUST place the part accessor elements for parameters and
return value in no namespace. <span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1008a">BP1008a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1008b">BP1008b</a></span></p>
<div style="display: none;" id="BP1008a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1008a" id=
"BP1008a">BP1008a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope has part accessor elements for parameters and
return value, in no namespaces, but the descendants of these are
namespace qualified as defined by the schema in which their types
are defined.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'request' and
not (
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) ]
/wsil:messageContents/soap12:Envelope[soap12:Body/* and not
(soap12:Body//soap12:Fault) ] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding
[.//wsoap12:*[@style = 'rpc']]/wsdl:operation[@name =
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $accessor in
$target/soap12:Body/*/* satisfies (
fn:namespace-uri-from-QName(fn:node-name($accessor)) = '' or
fn:namespace-uri-from-QName(fn:node-name($accessor)) =
'http://www.ws-i.org/testing/2008/02/log/')</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The request envelope has part accessor elements for parameters
and return value, within namespaces.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1008a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1008a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1008b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1008b" id=
"BP1008b">BP1008b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The response envelope has part accessor elements for parameters
and return value, in no namespaces.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ]
/wsil:messageContents/soap12:Envelope[soap12:Body/* and not
(soap12:Body/soap12:Fault)] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]/<br />
wsdl:operation<br />
[fn:string-join((@name, 'Response' ),'' ) =
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $accessor in
./soap12:Body/*/* satisfies (
fn:namespace-uri-from-QName(fn:node-name($accessor)) = '' or
fn:namespace-uri-from-QName(fn:node-name($accessor)) =
'http://www.ws-i.org/testing/2008/02/log/' )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The response envelope has part accessor elements for parameters
and return value, within namespaces.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1008b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1008b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2755" id=
"R2755">R2755</a></span> The part accessor elements in a
<span class="statement-target">MESSAGE</span> described with an
rpc-literal binding MUST have a local name of the same value as the
<code>name</code> attribute of the corresponding <code>wsdl:part
element</code>. <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1755a">BP1755a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1755b">BP1755b</a></span></p>
<div style="display: none;" id="BP1755a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1755a" id=
"BP1755a">BP1755a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>Each part accessor element in the envelope has a local name of
the same value as the name attribute of the corresponding wsdl:part
element.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'request' and
not (
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) ]
/wsil:messageContents/soap12:Envelope[soap12:Body/* and not
(soap12:Body//soap12:Fault) ] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding
[.//wsoap12:*[@style = 'rpc']]/wsdl:operation[@name =
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">(some $mbody in
./soap12:Body satisfies every $accessor in $mbody/*/* satisfies
some $dbody in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[@name = fn:local-name($mbody/*[1])]/wsdl:input/wsoap12:body
satisfies some $dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation
[@name = fn:local-name($mbody/*[1])]/*[fn:local-name(.) = 'input' ]
satisfies some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message
[@name = fn:tokenize(xsd:string($dopmsg/@message),':' )[fn:last() ]
]satisfies some $mpart in $dmesg/wsdl:part satisfies $mpart/@name =
fn:local-name($accessor) )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The envelope referenced by an rpc-literal binding has a part
accessor element with a local name that is not the same value as
the name attribute of the corresponding wsdl:part element.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1755a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1755a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1755b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1755b" id=
"BP1755b">BP1755b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>Each part accessor element in the response envelope has a local
name of the same value as the name attribute of the corresponding
wsdl:part element.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ]
/wsil:messageContents/soap12:Envelope[soap12:Body/* and not
(soap12:Body/soap12:Fault)] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]/ wsdl:operation [fn:string-join((@name, 'Response' ),'' )
=
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">(some $mbody in
./soap12:Body satisfies every $accessor in $mbody/*/* satisfies
some $dbody in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation[fn:string-join((@name,
'Response' ),'') =
fn:local-name($mbody/*[1])]/wsdl:output/wsoap12:body satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation[fn:string-join((@name,
'Response'),'') = fn:local-name($mbody/*[1])]/*[fn:local-name(.) =
'output' ] satisfies some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[@name
= fn:tokenize(xsd:string($dopmsg/@message),':' )[fn:last() ] ]
satisfies some $mpart in $dmesg/wsdl:part satisfies $mpart/@name =
fn:local-name($accessor) )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The response envelope referenced by an rpc-literal binding has
a part accessor element with a local name that is not the same
value as the name attribute of the corresponding wsdl:part
element.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1755b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1755b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>Settling on one alternative is crucial to achieving
interoperability. The Profile places the part accessor elements in
no namespace as doing so is simple, covers all cases, and does not
lead to logical inconsistency.</p>
</div>
</div>
<div class="refinement">
<h4 id="Namespaces_for_Children_of_Part_Accessors">4.7.15
Namespaces for Children of Part Accessors</h4>
<div class="rationale">
<p>For rpc-literal envelopes, WSDL 1.1 is not clear on what the
correct namespace qualification is for the child elements of the
part accessor elements when the corresponding abstract parts are
defined to be of types from a different namespace than the
<code>targetNamespace</code> of the WSDL description for the
abstract parts.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2737" id=
"R2737">R2737</a></span> An <span class=
"statement-target">ENVELOPE</span> described with an rpc-literal
binding MUST namespace qualify the descendents of part accessor
elements for the parameters and the return value, as defined by the
schema in which the part accessor types are defined. <span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE_XPATH</span></p>
<div class="explanation">
<p>WSDL 1.1 Section 3.5 states: "The part names, types and value of
the namespace attribute are all inputs to the encoding, although
the namespace attribute only applies to content not explicitly
defined by the abstract types."</p>
<p>However, it does not explicitly state that the element and
attribute content of the abstract (complexType) types is namespace
qualified to the targetNamespace in which those elements and
attributes were defined. WSDL 1.1 was intended to function in much
the same manner as XML Schema. Hence, implementations must follow
the same rules as for XML Schema. If a complexType defined in
<code>targetNamespace</code> "A" were imported and referenced in an
element declaration in a schema with <code>targetNamespace</code>
"B", the element and attribute content of the child elements of
that complexType would be qualified to namespace "A" and the
element would be qualified to namespace "B".</p>
</div>
<p class="example-banner">For example,</p>
<div class="example">
<p class="correct">CORRECT:</p>
<p>Given this WSDL, which defines some schema in the
"http://example.org/foo/" namespace in the <code>wsdl:types</code>
section contained within a <code>wsdl:definitions</code> that has a
<code>targetNamespace</code> attribute with the value
"http://example.org/bar/" (thus, having a type declared in one
namespace and the containing element defined in another);</p>
<pre>

&lt;definitions xmlns="http://schemas.xmlsoap.org/wsdl/"
             xmlns:wsoap12="http://schemas.xmlsoap.org/wsdl/soap12/"
             xmlns:xsd="http://www.w3.org/2001/XMLSchema"
             xmlns:bar="http://example.org/bar/"
             targetNamespace="http://example.org/bar/"
             xmlns:foo="http://example.org/foo/"&gt;
  &lt;types&gt;
    &lt;xsd:schema targetNamespace="http://example.org/foo/"
                xmlns:tns="http://example.org/foo/"
                xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                elementFormDefault="qualified"
                attributeFormDefault="unqualified"&gt;
      &lt;xsd:complexType name="fooType"&gt;
        &lt;xsd:sequence&gt;
          &lt;xsd:element ref="tns:bar"/&gt;
          &lt;xsd:element ref="tns:baf"/&gt;
        &lt;/xsd:sequence&gt;
      &lt;/xsd:complexType&gt;
      &lt;xsd:element name="bar" type="xsd:string"/&gt;
      &lt;xsd:element name="baf" type="xsd:integer"/&gt;
    &lt;/xsd:schema&gt;
  &lt;/types&gt;

  &lt;message name="BarMsg"&gt;
    &lt;part name="BarAccessor" type="foo:fooType"/&gt;
  &lt;/message&gt;

  &lt;portType name="BarPortType"&gt;
    &lt;operation name="BarOperation"&gt;
      &lt;input message="bar:BarMsg"/&gt;
    &lt;/operation&gt;
  &lt;/portType&gt;

  &lt;binding name="BarSOAP12Binding" type="bar:BarPortType"&gt;
    &lt;wsoap12:binding transport="http://schemas.xmlsoap.org/soap/http" style="rpc"/&gt;
    &lt;operation name="BarOperation"&gt;
      &lt;input&gt;
        &lt;wsoap12:body use="literal" namespace="http://example.org/bar/"/&gt;
      &lt;/input&gt;
    &lt;/operation&gt;
  &lt;/binding&gt;

  &lt;service name="serviceName"&gt;
    &lt;port name="BarSOAPPort" binding="bar:BarSOAP12Binding"&gt;
      &lt;wsoap12:address location="http://example.org/myBarSOAPPort"/&gt;
    &lt;/port&gt;
  &lt;/service&gt;
&lt;/definitions&gt;

</pre>
<p>The resulting envelope for BarOperation is:</p>
<pre>

&lt;s:Envelope xmlns:soap12="http://www.w3.org/2003/05/soap-envelope"
            xmlns:foo="http://example.org/foo/"&gt;
  &lt;soap12:Header/&gt;
  &lt;soap12:Body&gt;
    &lt;m:BarOperation xmlns:m="http://example.org/bar/"&gt;
      &lt;BarAccessor&gt;
        &lt;foo:bar&gt;String&lt;/foo:bar&gt;
        &lt;foo:baf&gt;0&lt;/foo:baf&gt;
      &lt;/BarAccessor&gt;
    &lt;/m:BarOperation&gt;
  &lt;/soap12:Body&gt;
&lt;/soap12:Envelope&gt;

</pre></div>
</div>
<div class="refinement">
<h4 id="Required_Headers">4.7.16 Required Headers</h4>
<div class="rationale">
<p>WSDL 1.1 does not clearly specify whether all
<code>wsoap12:header</code> s specified on the
<code>wsdl:input</code> or <code>wsdl:output</code> elements of a
<code>wsdl:operation</code> element in the SOAP binding section of
a WSDL description must be included in the resultant envelopes when
they are transmitted. The Profile makes all such headers mandatory,
as there is no way in WSDL 1.1 to mark a header optional.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2738" id=
"R2738">R2738</a></span> An <span class=
"statement-target">ENVELOPE</span> MUST include all
<code>wsoap12:header</code>s specified on a <code>wsdl:input</code>
or <code>wsdl:output</code> of a <code>wsdl:operation</code> of a
<code>wsdl:binding</code> that describes it. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1009a">BP1009a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1009b">BP1009b</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1009c">BP1009c</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1009d">BP1009d</a></span></p>
<div style="display: none;" id="BP1009a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1009a" id=
"BP1009a">BP1009a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The Envelope includes all wsoap12:headers specified in the
wsdl:input (if request) or wsdl:output (if response) of the
operation referred to by its wsdl:binding, and may also include
headers that were not specified.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'request' and
not (
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) ]
/wsil:messageContents/soap12:Envelope[soap12:Body[not
(soap12:Fault)]] [ some $myenv in . satisfies ( every $message in
//wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message
[wsdl:part[fn:resolve-QName(xsd:string(@element), . ) =
fn:node-name($target/soap12:Body/*[1])] ] satisfies some $dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Request' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<prerequisite xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
$myOpBinding/wsdl:input/wsoap12:header</prerequisite>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $myOpBind in
$myOpBinding satisfies ( every $inputhdr in
$myOpBind/wsdl:input/wsoap12:header satisfies some $mpart in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message
[@name =
fn:local-name-from-QName(fn:resolve-QName(xsd:string($inputhdr/@message),
$inputhdr)) ] /wsdl:part[ @name = $inputhdr/@part] satisfies some
$headerblk in $target/soap12:Header/* satisfies (
fn:resolve-QName(xsd:string($mpart/@element), $mpart ) =
fn:node-name($headerblk) ) )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Envelope does not include all wsoap12:headers specified in the
wsdl:input (of request) of its bound operation.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1009a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1009a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1009b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1009b" id=
"BP1009b">BP1009b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The Envelope includes all wsoap12:headers specified in the
wsdl:input (if request) or wsdl:output (if response) of the
operation referred to by its wsdl:binding, and may also include
headers that were not specified.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ]
/wsil:messageContents/soap12:Envelope[soap12:Body[not
(soap12:Fault)]] [ some $myenv in . satisfies ( every $message in
//wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part[fn:resolve-QName(xsd:string(@element),
. ) = fn:node-name($target/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<prerequisite xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
$myOpBinding/wsdl:output/wsoap12:header</prerequisite>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $myOpBind in
$myOpBinding satisfies ( every $outputhdr in
$myOpBind/wsdl:output/wsoap12:header satisfies some $mpart in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message
[@name =
fn:local-name-from-QName(fn:resolve-QName(xsd:string($outputhdr/@message),
$outputhdr)) ] /wsdl:part[ @name = $outputhdr/@part] satisfies some
$headerblk in $target/soap12:Header/* satisfies (
fn:resolve-QName(xsd:string($mpart/@element), $mpart ) =
fn:node-name($headerblk) ) )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Envelope does not include all wsoap12:headers specified in the
wsdl:input (if request) or wsdl:output (if response) of its bound
operation.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1009b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1009b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1009c">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1009c" id=
"BP1009c">BP1009c</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The Envelope includes all wsoap12:headers specified in the
wsdl:input (for request) of the operation referred to by its
wsdl:binding, and may also include headers that were not
specified.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'request' and
not
(./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) ]
/wsil:messageContents/soap12:Envelope[soap12:Body/* and not
(soap12:Body//soap12:Fault)] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]/ wsdl:operation[@name =
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<prerequisite xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
$myOpBinding/wsdl:input/wsoap12:header</prerequisite>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $myOpBind in
$myOpBinding satisfies ( every $inputhdr in
$myOpBind/wsdl:input/wsoap12:header satisfies some $mpart in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message
[@name =
fn:local-name-from-QName(fn:resolve-QName(xsd:string($inputhdr/@message),
$inputhdr)) ] /wsdl:part[ @name = $inputhdr/@part] satisfies some
$headerblk in $target/soap12:Header/* satisfies (
fn:resolve-QName(xsd:string($mpart/@element), $mpart ) =
fn:node-name($headerblk) ) )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Envelope does not include all wsoap12:headers specified in the
wsdl:input (if request) or wsdl:output (if response) of its bound
operation.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1009c">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1009c">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1009d">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1009d" id=
"BP1009d">BP1009d</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The Envelope includes all wsoap12:headers specified in the
wsdl:output (for response) of the operation referred to by its
wsdl:binding, and may also include headers that were not
specified.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ]
/wsil:messageContents/soap12:Envelope[soap12:Body/* and not
(soap12:Body//soap12:Fault) ] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding
[.//wsoap12:*[@style = 'rpc']]/wsdl:operation
[fn:string-join((@name, 'Response' ),'' ) =
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<prerequisite xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
$myOpBinding/wsdl:output/wsoap12:header</prerequisite>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $myOpBind in
$myOpBinding satisfies ( every $outputhdr in
$myOpBind/wsdl:output/wsoap12:header satisfies some $mpart in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message
[@name =
fn:local-name-from-QName(fn:resolve-QName(xsd:string($outputhdr/@message),
$outputhdr)) ] /wsdl:part[ @name = $outputhdr/@part] satisfies some
$headerblk in $target/soap12:Header/* satisfies (
fn:resolve-QName(xsd:string($mpart/@element), $mpart ) =
fn:node-name($headerblk) ) )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Envelope does not include all wsoap12:headers specified in the
wsdl:input (if request) or wsdl:output (if response) of its bound
operation.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1009d">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1009d">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Allowing_Undescribed_Headers">4.7.17 Allowing Undescribed
Headers</h4>
<div class="rationale">
<p>Headers are SOAP's extensibility mechanism. Headers that are not
defined in the WSDL description may need to be included in the
envelopes for various reasons.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2739" id=
"R2739">R2739</a></span> An <span class=
"statement-target">ENVELOPE</span> MAY contain SOAP header blocks
that are not described in the <code>wsdl:binding</code> that
describes it. <span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
<p class="statement"><span class="statement-id"><a name="R2753" id=
"R2753">R2753</a></span> An <span class=
"statement-target">ENVELOPE</span> containing SOAP header blocks
that are not described in the appropriate <code>wsdl:binding</code>
MAY have the <code>mustUnderstand</code> attribute on such SOAP
header blocks set to '1'. <span class="claim-type">CORE</span>
<span class="testable-type">NOT_TESTED</span></p>
</div>
<div class="refinement">
<h4 id="Ordering_Headers">4.7.18 Ordering Headers</h4>
<div class="rationale">
<p>There is no correlation between the order of
<code>wsoap12:header</code> s in the description and the order of
SOAP header blocks in the envelope. Similarly, more than one
instance of each specified SOAP header block may occur in the
envelope.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2751" id=
"R2751">R2751</a></span> The order of <code>wsoap12:header</code>
elements in <code>wsoap12:binding</code> sections of a <span class=
"statement-target">DESCRIPTION</span> MUST be considered
independent of the order of SOAP header blocks in the envelope.
<span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
<p class="statement"><span class="statement-id"><a name="R2752" id=
"R2752">R2752</a></span> An <span class=
"statement-target">ENVELOPE</span> MAY contain more than one
instance of each SOAP header block for each
<code>wsoap12:header</code> element in the appropriate child of
<code>wsoap12:binding</code> in the corresponding description.
<span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
</div>
<div class="refinement">
<h4 id=
"Describing_action_Parameter_on_the_Content-Type_MIME_Header">
4.7.19 Describing action Parameter on the Content-Type MIME
Header</h4>
<div class="rationale">
<p>See <a href="#Parameters_on_the_Content-Type_MIME_Header" class=
"offsite">Section 3.5.2 Parameters on the Content-Type MIME
Header</a> .</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2744" id=
"R2744">R2744</a></span> If the <code>action</code> parameter on
the HTTP <code>Content-Type</code> header is present in a
<span class="statement-target">MESSAGE</span>, its value MUST be
equal to the value of the <code>soapAction</code> attribute of the
corresponding <code>wsoap12:operation</code> in the WSDL
description, if this attribute is present and not empty.
<span class="claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1116a">BP1116a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1116b">BP1116b</a></span></p>
<div style="display: none;" id="BP1116a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1116a" id=
"BP1116a">BP1116a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The action parameter on the Content-Type header if present has
value equal to the value of the corresponding
wsoap12:operation/@soapAction attribute, and an empty string ("")
if there is no such attribute.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message
[wsil:httpHeaders/wsil:contentTypeHeader/wsil:parameter[fn:lower-case(@key)
= 'action'] (: and @type = 'request' :) and not (
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) ]
/wsil:messageContents/soap12:Envelope[soap12:Body[not
(soap12:Fault)]] [ some $myenv in . satisfies ( every $message in
//wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message
[wsdl:part[fn:resolve-QName(xsd:string(@element), . ) =
fn:node-name($target/soap12:Body/*[1])] ] satisfies some $dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Request' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP1006 BP1761</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $myOpBind in
$myOpBinding satisfies ( ($myOpBind/wsoap12:operation/@soapAction =
$target/../../wsil:httpHeaders/wsil:contentTypeHeader/wsil:parameter
[fn:lower-case(@key) = 'action']/@value) or (not
($myOpBind/wsoap12:operation/@soapAction ) and
$target/../../wsil:httpHeaders/wsil:contentTypeHeader/wsil:parameter[fn:lower-case(@key)
= 'action']/@value = '') )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The action parameter on the Content-Type header if present does
not match wsoap12:operation/@soapAction attribute.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">{All HTTP
headers}{soapAction value from the soabinding}.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1116a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1116a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1116b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1116b" id=
"BP1116b">BP1116b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The action parameter on the Content-Type header if present has
value equal to the value of the corresponding
wsoap12:operation/@soapAction attribute, and an empty string ("")
if there is no such attribute.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message
[wsil:httpHeaders/wsil:contentTypeHeader/wsil:parameter[fn:lower-case(@key)
= 'action'] (: and @type = 'request' :) and not (
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) ]
/wsil:messageContents/soap12:Envelope[soap12:Body/* and not
(soap12:Body//soap12:Fault) ] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding
[.//wsoap12:*[@style = 'rpc']]/wsdl:operation[@name =
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP1006 BP1761</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">some $myOpBind in
$myOpBinding satisfies ( ($myOpBind/wsoap12:operation/@soapAction =
$target/../../wsil:httpHeaders/wsil:contentTypeHeader/wsil:parameter
[fn:lower-case(@key) = 'action']/@value) or (not
($myOpBind/wsoap12:operation/@soapAction ) and
$target/../../wsil:httpHeaders/wsil:contentTypeHeader/wsil:parameter[fn:lower-case(@key)
= 'action']/@value = '') )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The action parameter on the Content-Type header if present does
not match wsoap12:operation/@soapAction attribute.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">{All HTTP
headers}{soapAction value from the soabinding}.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1116b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1116b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>See also <a href="#R1109" class="offsite">R1109</a> and related
requirements for more discussion of action parameter on the
<code>Content-Type</code> MIME header.</p>
</div>
<p class="example-banner">For example,</p>
<div class="example">
<p class="correct">CORRECT:</p>
<p>A WSDL Description that has:</p>
<p><code>&lt;wsoap12:operation
soapAction="http://example.org/foo"/&gt;</code></p>
<p>results in a message with the <code>action</code> parameter on
the <code>Content-Type</code> MIME header field-value set to:</p>
<p><code>"http://example.org/foo"</code></p>
</div>
</div>
<div class="refinement">
<h4 id="SOAPAction_HTTP_Header">4.7.20 SOAPAction HTTP Header</h4>
<div class="rationale">
<p>Unlike SOAP 1.1, SOAP 1.2 HTTP binding does not use the
SOAPAction HTTP header in the HTTP Request messages. Relying on the
presence of SOAPAction HTTP header or the value of SOAPAction HTTP
header may result in interoperability problems.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2760" id=
"R2760">R2760</a></span> A <span class=
"statement-target">RECEIVER</span> MUST NOT rely on the presence of
<code>SOAPAction</code> HTTP header to correctly process the
message. <span class="claim-type">HTTP-TRANSPORT</span>
<span class="testable-type">NOT_TESTABLE</span></p>
<p class="statement"><span class="statement-id"><a name="R2761" id=
"R2761">R2761</a></span> A <span class=
"statement-target">SENDER</span> SHOULD NOT include the
<code>SOAPAction</code> HTTP header. <span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1761">BP1761</a></span></p>
<div style="display: none;" id="BP1761">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1761" id=
"BP1761">BP1761</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>A SOAP1.2 SENDER SHOULD NOT include the SOAPAction HTTP
header</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[wsil:httpHeaders]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
not(wsil:httpHeaders/wsil:httpHeader[fn:lower-case(@key) =
'soapaction'])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>preferred</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A SOAP1.2 SENDER has included the SOAPAction HTTP header
(instead of using the 'action' header)</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1761">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1761">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="SOAP_Binding_Extensions">4.7.21 SOAP Binding
Extensions</h4>
<div class="rationale">
<p>The <code>wsdl:required</code> attribute has been widely
misunderstood and used by WSDL authors sometimes to incorrectly
indicate the optionality of <code>wsoap12:header</code> s. The
<code>wsdl:required</code> attribute, as specified in WSDL 1.1, is
an extensibility mechanism aimed at WSDL processors. It allows new
WSDL extension elements to be introduced in a graceful manner. The
intent of <code>wsdl:required</code> is to signal to the WSDL
processor whether the extension element needs to be recognized and
understood by the WSDL processor in order that the WSDL description
be correctly processed. It is not meant to signal conditionality or
optionality of some construct that is included in the envelopes.
For example, a <code>wsdl:required</code> attribute with the value
"false" on a <code>wsoap12:header</code> element must not be
interpreted to signal to the WSDL processor that the described SOAP
header block is conditional or optional in the envelopes generated
from the WSDL description. It is meant to be interpreted as "in
order to send a envelope to the endpoint that includes in its
description the <code>wsoap12:header</code> element, the WSDL
processor MUST understand the semantic implied by the
<code>wsoap12:header</code> element."</p>
<p>The default value for the <code>wsdl:required</code> attribute
for WSDL 1.1 SOAP Binding extension elements is "false". Most WSDL
descriptions in practice do not specify the
<code>wsdl:required</code> attribute on the SOAP Binding extension
elements, which could be interpreted by WSDL processors to mean
that the extension elements may be ignored. The Profile requires
that all WSDL 1.1 extensions be understood and processed by the
consumer, irrespective of the presence or the value of the
<code>wsdl:required</code> attribute on an extension element.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2747" id=
"R2747">R2747</a></span> A <span class=
"statement-target">CONSUMER</span> MUST understand and process all
WSDL 1.1 SOAP Binding extension elements, irrespective of the
presence or absence of the <code>wsdl:required</code> attribute on
an extension element; and irrespective of the value of the
<code>wsdl:required</code> attribute, when present. <span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
<p class="statement"><span class="statement-id"><a name="R2748" id=
"R2748">R2748</a></span> A <span class=
"statement-target">CONSUMER</span> MUST NOT interpret the presence
of the <code>wsdl:required</code> attribute on a
<code>wsoap12</code> extension element with a value of "false" to
mean the extension element is optional in the envelopes generated
from the WSDL description. <span class="claim-type">CORE</span>
<span class="testable-type">NOT_TESTABLE</span></p>
</div>
<h3 id="WSDL11SOAP12SA">4.8 Use of @soapActionRequired in WSDL 1.1
SOAP 1.2 Binding</h3>
<p>This section of the Profile incorporates the following
specifications by reference:</p>
<ul>
<li><a href="http://www.w3.org/Submission/wsdl11soap12/" class=
"offsite">WSDL 1.1 Binding Extension for SOAP 1.2</a></li>
</ul>
<p>The <a href=
"http://www.w3.org/Submission/2006/SUBM-wsdl11soap12-20060405/"
class="offsite">WSDL 1.1 Binding Extension for SOAP 1.2</a>
incorporates an attribute called
<code>wsoap12:soapActionRequired</code> that has a default value of
'true'. This has the effect that, in order to have the action
parameter omitted from the <code>Content-Type</code> HTTP header
field, one would need to explicitly include the attribute in a
description with a value of 'false'. The <code>action</code>
parameter is defined by SOAP 1.2 to be OPTIONAL so as to enable use
cases in which the sender of a SOAP message wishes to disallow
casual inspection of the clear-text part of the message to infer
its purpose or intent. Additionally, implementations are cautioned
that they SHOULD NOT require the parameter's presence in a message
in order to process the message.</p>
<p>The Profile WG believes that the
<code>wsoap12:soapActionRequired</code> attribute runs counter to
the SOAP 1.2 specification's intent. Therefore, the attribute has
been profiled such that it MUST NOT be used, as it would tend to
eliminate the very use cases that lead to the design of the SOAP
1.2 action parameter.</p>
<div class="refinement">
<p class="statement"><span class="statement-id"><a name="R2756" id=
"R2756">R2756</a></span> A <span class=
"statement-target">DESCRIPTION</span> MUST NOT include the
<code>wsoap12:soapActionRequired</code> attribute. <span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2756">BP2756</a></span></p>
<div style="display: none;" id="BP2756">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2756" id=
"BP2756">BP2756</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>A DESCRIPTION MUST NOT include the wsoap12:soapActionRequired
attribute</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not
(.//wsoap12:operation/@soapActionRequired)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A DESCRIPTION include the wsoap12:soapActionRequired
attribute</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2756">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2756">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2759" id=
"R2759">R2759</a></span> A <span class=
"statement-target">CONSUMER</span> MUST treat the absence of the
<code>wsoap12:soapActionRequired</code> attribute as if it had a
value of 'false'. <span class="claim-type">HTTP-TRANSPORT</span>
<span class="testable-type">NOT_TESTED</span></p>
<p class="statement"><span class="statement-id"><a name="R2758" id=
"R2758">R2758</a></span> A <span class=
"statement-target">MESSAGE</span> MAY omit the <code>action</code>
parameter from the <code>Content-Type</code> HTTP header field.
<span class="claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">NOT_TESTED</span></p>
<p class="statement"><span class="statement-id"><a name="R2757" id=
"R2757">R2757</a></span> A <span class=
"statement-target">RECEIVER</span> MUST NOT fault due to the
absence or presence of the <code>action</code> parameter on the
HTTP <code>Content-Type</code> header field. <span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1757">BP1757</a></span></p>
<div style="display: none;" id="BP1757">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1757" id=
"BP1757">BP1757</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>A receiver must not fault messages that do not have the action
parameter on the Content-Type HTTP header field.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[not(wsil:httpHeaders/wsil:contentTypeHeader/wsil:parameter[fn:lower-case(@key)
= 'action'])]/wsil:messageContents/soap12:Envelope</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP1761</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not
(/wsil:testLog/wsil:messageLog/wsil:message[(@type = 'response' and
@conversation = $target/../../@conversation) or
(.//soap12:Envelope/soap12:Header/wsa:RelatesTo =
$target/soap12:Header/wsa:MessageID)]/wsil:messageContents/soap12:Envelope/soap12:Body/soap12:Fault
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=warning</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A soap Fault has been generated when receiving a message with
no action parameter on the Content-Type HTTP header field: verify
that this Fault has another cause - it must not be caused by this
parameter absence.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">{SOAP
message}</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1757">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1757">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>Although the <a href=
"http://www.w3.org/Submission/2006/SUBM-wsdl11soap12-20060405/"
class="offsite">WSDL 1.1 Binding Extension for SOAP 1.2</a>
describes how the <code>action</code> parameter of the
<code>Content-Type</code> header field is set by the
<code>wsoap12:soapAction</code> attribute of the
<code>wsoap12:operation</code> element, there are implementations
that include the <code>action</code> parameter in request messages
even in cases where the <code>wsoap12:soapAction</code> attribute
does not appear in the <code>wsoap12:operation</code> that
describes these requests. Note that, in some of these cases, the
<code>action</code> parameter might have an empty string ("")
value.</p>
</div>
</div>
<h3 id="WSDLSCHEMA">4.9 Use of XML Schema</h3>
<p>This section of the Profile incorporates the following
specifications by reference:</p>
<ul>
<li><a href="http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/"
class="offsite">XML Schema Part 1: Structures</a></li>
<li><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/"
class="offsite">XML Schema Part 2: Datatypes</a></li>
</ul>
<p>WSDL 1.1 uses XML Schema as one of its type systems. The Profile
mandates the use of XML Schema as the type system for WSDL
descriptions of Web Services.</p>
<div class="refinement">
<div class="rationale"></div>
<p class="statement"><span class="statement-id"><a name="R2800" id=
"R2800">R2800</a></span> A <span class=
"statement-target">DESCRIPTION</span> MAY use any construct from
XML Schema 1.0. <span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
<p class="statement"><span class="statement-id"><a name="R2801" id=
"R2801">R2801</a></span> A <span class=
"statement-target">DESCRIPTION</span> MUST use XML Schema 1.0
Recommendation as the basis of user defined datatypes and
structures. <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2122">BP2122</a></span></p>
<div style="display: none;" id="BP2122">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2122" id=
"BP2122">BP2122</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The data type definition if any within the wsdl:types element
is an XML schema definition defined in the XML Schema 1.0
Recommendation with the namespace URI
"http://www.w3.org/2001/XMLSchema".</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsoap12=
"http://schemas.xmlsoap.org/wsdl/soap12/">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile[wsdl:definitions//xsd:schema]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> metadata</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsoap12=
"http://schemas.xmlsoap.org/wsdl/soap12/" name="metadata">
$target/@schemaValid</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsoap12=
"http://schemas.xmlsoap.org/wsdl/soap12/">$target/@schemaValid =
fn:true()</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A wsdl:types element contained a data type definition that is
not an XML schema definition.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsoap12=
"http://schemas.xmlsoap.org/wsdl/soap12/">Defective data type
definition.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2122">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2122">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<h3 id="WSA-Metadata">4.10 WS-Addressing 1.0 - Metadata</h3>
<p>WS-Addressing message addressing properties (MAPs) can be
specified in a WSDL document. The Profile adds restrictions to such
properties specified in WSDL.</p>
<div class="refinement">
<div class="rationale">
<p>The <code>wsam:Action</code> attribute is used in WSDL to
specify the value of the <code>wsa:Action</code> SOAP header in the
envelope. A default value computation algorithm is specified for
the case where an explicit <code>wsam:Action</code> attribute is
not specified.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2900" id=
"R2900">R2900</a></span> The value of the <code>wsa:Action</code>
header block in an <span class="statement-target">ENVELOPE</span>
MUST equal the value (either actual or computed) of the
<code>wsam:Action</code> attribute for the corresponding WSDL
element (<code>wsdl:input</code>, <code>wsdl:output</code>, or
<code>wsdl:fault</code>) contained in the target
<code>wsdl:operation</code> of the <code>wsdl:portType</code>.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1142a">BP1142a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1142b">BP1142b</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1142c">BP1142c</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1143a">BP1143a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1143b">BP1143b</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1143c">BP1143c</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1090a">BP1090a</a></span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1090b">BP1090b</a></span></p>
<div style="display: none;" id="BP1142a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1142a" id=
"BP1142a">BP1142a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. For a request message, with a wsa:Action element,
defined using an rpc/lit binding, the following must hold: - If
there is an EPR attached to the corresponding wsdl:port definition,
then the wsa:To element must be present - the
wsa:RelatesTo/@RelationshipType must be present with value
"http://www.w3.org/2005/08/addressing/reply" (this is covered by
2nd cotarget presence) - The wsa:Action value in the soap12:Header
must equal to that specified from the wsdl - If the operation
binding includes a wsdl:output element then there must be
wsa:messageID and a wsa:ReplyTo elements present in the
soap12:Header</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'request']/wsil:messageContents/soap12:Envelope [soap12:Header[
wsa:Action and not (wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] )] and soap12:Body/* and not
(soap12:Body/soap12:Fault) ] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding
[.//wsoap12:*[@style = 'rpc']]/wsdl:operation[@name =
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">( if<br />
(
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/
wsdl:port[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding),
. )) = $myOpBinding/../@name ]/wsa:EndpointReference )<br />
then<br />
(some $portEpr in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/
wsdl:port[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding),
. )) = $myOpBinding/../@name ]/wsa:EndpointReference satisfies (
$target/soap12:Header/wsa:To ) )<br />
else fn:true()<br />
)<br />
and<br />
( if<br />
( $myOpBinding/wsdl:output ) then<br />
($target/soap12:Header/wsa:MessageID) else fn:true()<br />
)<br />
and (: correct wsa:Action value :) (some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/
wsdl:operation[ $myOpBinding/@name = @name ]/wsdl:input satisfies
($target/soap12:Header/wsa:Action = ( if ($opmsg/@wsam:Action) then
$opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Request' ) ) ) )
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a request message, with a wsa:Action element,
defined using an rpc/lit binding, the following must hold: - If
there is an EPR attached to the corresponding wsdl:port definition,
then the wsa:To element must be present - The wsa:Action value in
the soap12:Header must equal to that specified from the wsdl - If
the operation binding includes a wsdl:output element then there
must be wsa:messageID and a wsa:ReplyTo elements present in the
soap12:Header</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">Complete message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1142a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1142a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1142b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1142b" id=
"BP1142b">BP1142b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. http://www.w3.org/2005/08/addressing/reply IRI. For a
response message with a wsa:Action element, defined using an
rpc/lit binding, the following must hold: - the wsa:ReplyTo EPR in
the related Request message must have the anonymous address - the
wsa:To element, if present, must have the anonymous value - The
wsa:Action value in the soap12:Header must equal to that specified
from the wsdl</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'response']/wsil:messageContents/
soap12:Envelope[soap12:Header[wsa:Action] and soap12:Body/* and not
(soap12:Body/soap12:Fault)] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]/ wsdl:operation [fn:string-join((@name, 'Response' ),'' )
=
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">( not
($related-Request/soap12:Header/wsa:ReplyTo) or
($related-Request/soap12:Header/wsa:ReplyTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
) ) and ( $target/soap12:Header/wsa:RelatesTo [ not (
@RelationshipType ) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) and (
$target/soap12:Header[ not (wsa:To) or (wsa:To =
'http://www.w3.org/2005/08/addressing/anonymous' )] ) and (:
correct wsa:Action value :) (some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/
wsdl:operation[ $myOpBinding/@name = @name ]/wsdl:output satisfies
($target/soap12:Header/wsa:Action = ( if ($opmsg/@wsam:Action) then
$opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) )
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a response message with a wsa:Action element,
defined using an rpc/lit binding, the following must hold: - the
wsa:ReplyTo EPR in the related Request message must have the
anonymous address - the wsa:To element, if present, must have the
anonymous value - The wsa:Action value in the soap12:Header must
equal to that specified from the wsdl</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1142b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1142b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1142c">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1142c" id=
"BP1142c">BP1142c</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. http://www.w3.org/2005/08/addressing/reply IRI. For a
non-anonymous response message with a wsa:Action element, defined
using an rpc/lit binding, the following must hold: - the
wsa:ReplyTo EPR in the related Request message must have a
non-anonymous address - the wsa:To element must be present, and
must have a non-anonymous value - The wsa:Action value in the
soap12:Header must equal to that specified from the wsdl</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'request']/wsil:messageContents/ soap12:Envelope [soap12:Body[not
(soap12:Fault)] and soap12:Header [wsa:Action and (wsa:RelatesTo
[@RelationshipType = 'http://www.w3.org/2005/08/addressing/reply'
or not (@RelationshipType)] ) ] ] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[.//wsoap12:*[@style
= 'rpc']]/ wsdl:operation [fn:string-join((@name, 'Response' ),'' )
=
fn:local-name-from-QName(node-name($target/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">(
($related-Request/soap12:Header/wsa:ReplyTo) and not
($related-Request/soap12:Header/wsa:ReplyTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
) ) and ( $target/soap12:Header/wsa:RelatesTo [ not (
@RelationshipType ) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) and (
$target/soap12:Header[ (wsa:To) and not (wsa:To =
'http://www.w3.org/2005/08/addressing/anonymous' ) ] ) and (:
correct wsa:Action value :) (some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/
wsdl:operation[ $myOpBinding/@name = @name ]/wsdl:output satisfies
($target/soap12:Header/wsa:Action = ( if ($opmsg/@wsam:Action) then
$opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) )
)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a non-anonymous response message with a wsa:Action
element, defined using an rpc/lit binding, the following must hold:
- the wsa:ReplyTo EPR in the related Request message must have a
non-anonymous address - the wsa:To element must be present, and
must have a non-anonymous value - The wsa:Action value in the
soap12:Header must equal to that specified from the wsdl</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1142c">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1142c">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1143a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1143a" id=
"BP1143a">BP1143a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. For a request message, with a wsa:Action element,
defined using a doc/lit binding, the following must hold: - If
there is an EPR attached to the corresponding wsdl:port definition,
then the wsa:To element must be present - The wsa:Action value in
the soap12:Header must equal to that specified from the wsdl (this
is covered by the cotarget presence) - If the operation binding
includes a wsdl:output element then there must be wsa:messageID and
a wsa:ReplyTo present in the soap12:Header</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'request']/wsil:messageContents/ soap12:Envelope [soap12:Body[not
(soap12:Fault)] and soap12:Header [wsa:Action and not
(wsa:RelatesTo [@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ) ] ] [ some $myenv in . satisfies ( every
$message in //wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part[fn:resolve-QName(xsd:string(@element),
. ) = fn:node-name($target/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Request' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">( if (
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/
wsdl:port[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding),
. )) = $myOpBinding/../@name ]/wsa:EndpointReference ) then (some
$portEpr in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:service/
wsdl:port[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@binding),
. )) = $myOpBinding/../@name ]/wsa:EndpointReference satisfies (
$target/soap12:Header/wsa:To ) ) else fn:true() ) and ( if (
$myOpBinding/wsdl:output ) then (
$target/soap12:Header/wsa:MessageID) else fn:true() )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a request message, with a wsa:Action element,
defined using a doc/lit binding, the following must hold: - If
there is an EPR attached to the corresponding wsdl:port definition,
then the wsa:To element must be present - The wsa:Action value in
the soap12:Header must equal to that specified from the wsdl (this
is covered by the cotarget presence) - If the operation binding
includes a wsdl:output element then there must be wsa:messageID and
a wsa:ReplyTo elements present in the soap12:Header</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1143a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1143a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1143b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1143b" id=
"BP1143b">BP1143b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. http://www.w3.org/2005/08/addressing/reply IRI. For a
response message with a wsa:Action element, defined using a doc/lit
binding, the following must hold: - the wsa:ReplyTo EPR in the
related Request message must have the anonymous address - the
wsa:RelatesTo/@RelationshipType must be present with value
"http://www.w3.org/2005/08/addressing/reply" (this is covered by
2nd cotarget presence) - the wsa:To element, if present, must have
the anonymous value - The wsa:Action value in the soap12:Header
must equal to that specified from the wsdl (this is covered by the
cotarget presence)</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'response']/wsil:messageContents/soap12:Envelope [soap12:Body[not
(soap12:Fault) ] and soap12:Header[wsa:Action] ] [ some $myenv in .
satisfies ( every $message in //wsdl:definitions/wsdl:message
satisfies ( (not($message/wsdl:part[1]/@type) ) and (
$myenv/soap12:Body/*[1] or $myenv/soap12:Header/wsa:Action )) )
]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part[fn:resolve-QName(xsd:string(@element),
. ) = fn:node-name($target/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) (: and ( if ($target/soap12:Header/wsa:Action)
then ( some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() ) :)
]</cotarget>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">( not
($related-Request/soap12:Header/wsa:ReplyTo) or
($related-Request/soap12:Header/wsa:ReplyTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
) ) and ( $target/soap12:Header/wsa:RelatesTo [ not (
@RelationshipType ) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) and (
$target/soap12:Header[ not (wsa:To) or (wsa:To =
'http://www.w3.org/2005/08/addressing/anonymous' )] )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a response message with a wsa:Action element,
defined using a doc/lit binding, the following must hold: - the
wsa:ReplyTo EPR in the related Request message must have the
anonymous address - the wsa:To element, if present, must have the
anonymous value - The wsa:Action value in the soap12:Header must
equal to that specified from the wsdl (this is covered by the
cotarget presence)</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1143b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1143b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1143c">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1143c" id=
"BP1143c">BP1143c</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The envelope must conform to WS-Addressing WSDL Binding,
Section 5.1. http://www.w3.org/2005/08/addressing/reply IRI. For a
non anon response message with a wsa:Action element, defined using
a doc/lit binding, the following must hold: - the wsa:ReplyTo EPR
in the related Request message must have a non-anonymous address -
the wsa:RelatesTo/@RelationshipType must be present with value
"http://www.w3.org/2005/08/addressing/reply" (this is covered by
2nd cotarget presence) - the wsa:To element, must be present and
not anonymous - The wsa:Action value in the soap12:Header must
equal to that specified from the wsdl (this is covered by the
cotarget presence)</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message[@type =
'request']/wsil:messageContents/soap12:Envelope [soap12:Body[not
(soap12:Fault)] and soap12:Header [wsa:Action and (wsa:RelatesTo
[@RelationshipType = 'http://www.w3.org/2005/08/addressing/reply'
or not (@RelationshipType)] ) ] ] [ some $myenv in . satisfies (
every $message in //wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if ($target/soap12:Body/*[1] )
then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part[fn:resolve-QName(xsd:string(@element),
. ) = fn:node-name($target/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if ($target/soap12:Header/wsa:Action) then (
some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:output
satisfies ($target/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Response' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>co-Target:</b> related-Request</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" name="related-Request">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">(
($related-Request/soap12:Header/wsa:ReplyTo) and not
($related-Request/soap12:Header/wsa:ReplyTo/wsa:Address='http://www.w3.org/2005/08/addressing/anonymous'
) ) and ( $target/soap12:Header/wsa:RelatesTo [ not (
@RelationshipType ) or (@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ) and (
$target/soap12:Header[ (wsa:To) and not (wsa:To =
'http://www.w3.org/2005/08/addressing/anonymous' )] )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>An envelope does not conform to WS-Addressing WSDL Binding,
Section 5.1. For a non anon response message with a wsa:Action
element, defined using a doc/lit binding, the following must hold:
- the wsa:ReplyTo EPR in the related Request message must have a
non-anonymous address - the wsa:To element, must be present with a
non-anonymous value - The wsa:Action value in the soap12:Header
must equal to that specified from the wsdl (this is covered by the
cotarget presence)</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Complete
message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1143c">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1143c">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1090a">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1090a" id=
"BP1090a">BP1090a</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>For a Fault response message with a wsa:Action element, defined
using a doc/lit binding, the following must hold: - The wsa:Action
value in the soap12:Header must equal to that specified from the
WSDL.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ]
/wsil:messageContents/soap12:Envelope[soap12:Body/soap12:Fault and
soap12:Header[wsa:Action]] [ some $myenv in . satisfies ( every
$message in //wsdl:definitions/wsdl:message satisfies (
(not($message/wsdl:part[1]/@type) ) and ( $myenv/soap12:Body/*[1]
or $myenv/soap12:Header/wsa:Action )) ) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> relatedRequest</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="relatedRequest">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ][1]</cotarget>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation
[ some $opBinding in . satisfies (if
($relatedRequest/soap12:Body/*[1] ) then (some $dmesg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message
[wsdl:part[fn:resolve-QName(xsd:string(@element), . ) =
fn:node-name($relatedRequest[1]/soap12:Body/*[1])] ] satisfies some
$dopmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
[fn:local-name-from-QName(fn:resolve-QName(xsd:string(@message), .
)) = $dmesg/@name] satisfies $opBinding/@name = $dopmsg/../@name )
else fn:true() ) and ( if
($relatedRequest/soap12:Header/wsa:Action) then ( some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation/wsdl:input
satisfies ($relatedRequest/soap12:Header/wsa:Action = ( if
($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', if($opmsg/@name) then
$opmsg/@name else fn:concat($opmsg/../@name, 'Request' ) ) ) ) and
( $opBinding/@name = $opmsg/../@name ) ) else fn:true() )
]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">(: correct wsa:Action value :)
not(/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation[
$myOpBinding/@name = @name ]/wsdl:fault) or (some $detailQName in
fn:node-name($target/soap12:Body/soap12:Fault/soap12:Detail/*[1])
satisfies some $msgDef in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message
[ wsdl:part[1][fn:resolve-QName(xsd:string(@element),.) =
$detailQName ]] satisfies (some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation[
$myOpBinding/@name = @name ] satisfies (not ($opmsg/wsdl:fault[
fn:local-name-from-QName(fn:resolve-QName(xsd:string(./@message),.))
= $msgDef/@name ]) or (some $flt in $opmsg/wsdl:fault[
fn:local-name-from-QName(fn:resolve-QName(xsd:string(./@message),.))
= $msgDef/@name ] satisfies ($target/soap12:Header/wsa:Action = (
if ($flt/@wsam:Action) then $flt/@wsam:Action else
fn:concat($opmsg/../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../@name, '/', $opmsg/@name, '/Fault/', $flt/@name
) ) ) )) ))</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=warning</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A Fault response message defined using a doc/lit binding has a
wsa:Action value that is not equal to that specified in the WSDL.
This may be due to the fact that the fault was generated by some
infrastructure component (e.g. WS-Addressing, WS-RM, etc.). Verify
that the fault was generated by some WS-* infrastructure component
and not by the application.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">Complete message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1090a">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1090a">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div style="display: none;" id="BP1090b">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1090b" id=
"BP1090b">BP1090b</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>For a Fault response message with a wsa:Action element, defined
using a doc/lit binding, the following must hold: - The wsa:Action
value in the soap12:Header must equal to that specified from the
WSDL.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:messageLog/wsil:message [@type = 'response' or
./wsil:messageContents/soap12:Envelope/soap12:Header/wsa:RelatesTo
[not (@RelationshipType) or ( @RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' ) ] ]
/wsil:messageContents/soap12:Envelope[ (soap12:Body/soap12:Fault)
and soap12:Header[wsa:Action]] [ some $myenv in . satisfies some
$message in //wsdl:definitions/wsdl:message satisfies
($message/wsdl:part[1]/@type) ]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> relatedRequest</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="relatedRequest">
/wsil:testLog/wsil:messageLog/wsil:message[@type = 'request']/
wsil:messageContents/soap12:Envelope[soap12:Header/wsa:MessageID =
$target/soap12:Header/wsa:RelatesTo[@RelationshipType =
'http://www.w3.org/2005/08/addressing/reply' or not
(@RelationshipType)] ][1]</cotarget>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpBinding</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="myOpBinding">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding
[.//wsoap12:*[@style = 'rpc']]/wsdl:operation[@name =
fn:local-name-from-QName(node-name($relatedRequest[1]/soap12:Body/*[1]))]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">(: correct wsa:Action value :)
some $detailQName in
fn:node-name($target/soap12:Body/soap12:Fault/soap12:Detail/*[1])
satisfies some $msgDef in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message
[ wsdl:part[1][fn:resolve-QName(xsd:string(@element),.) =
$detailQName ]] satisfies (some $opmsg in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/
wsdl:operation[ $myOpBinding/@name = @name ]/ wsdl:fault[
fn:local-name-from-QName(fn:resolve-QName(xsd:string(./@message),.))
= $msgDef/@name ] satisfies ($target/soap12:Header/wsa:Action = (
if ($opmsg/@wsam:Action) then $opmsg/@wsam:Action else
fn:concat($opmsg/../../../@targetNamespace, if
(not(fn:ends-with($opmsg/../../../@targetNamespace,'/'))) then '/'
else '', $opmsg/../../@name, '/', $opmsg/../@name, '/Fault/',
$opmsg/@name ) ) ) )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=warning</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A Fault response message defined using a rpc/lit binding has a
wsa:Action value that is not equal to that specified in the WSDL.
This may be due to the fact that the fault was generated by some
infrastructure component (e.g. WS-Addressing, WS-RM, etc.). Verify
that the fault was generated by some WS-* infrastructure component
and not by the application.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">Complete message.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1090b">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1090b">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2901" id=
"R2901">R2901</a></span> In a <span class=
"statement-target">DESCRIPTION</span>, the actual value of the
<code>wsam:Action</code> attribute for the <code>wsdl:input</code>
element contained in the target <code>wsdl:operation</code> of the
<code>wsdl:portType</code> MUST be equal to the value of the
<code>soapAction</code> attribute, if present, of the
<code>wsoap12:operation</code> element contained in the target
<code>wsdl:operation</code> of the <code>wsdl:binding</code>.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2801">BP2801</a></span></p>
<div style="display: none;" id="BP2801">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2801" id=
"BP2801">BP2801</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The value (either actual or computed) of wsam:Action attribute
for the wsdl:input element contained in the target wsdl:operation
of the wsdl:portType MUST equal the value of the soapAction
attribute, if present, inside the wsoap12:operation element
contained in the target wsdl:operation of the wsdl:binding.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation[wsoap12:operation[@soapAction]
and wsoap12:operation/@soapAction ne '' and (some $bop in .
satisfies
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation[@name
= $bop/@name]/wsdl:input[@wsam:Action])]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> myOpDefinition</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="myOpDefinition">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:portType/wsdl:operation[@name
= $target/@name]</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">
$target/wsoap12:operation/@soapAction =
$myOpDefinition/wsdl:input/@wsam:Action</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The value of wsam:Action attribute for the wsdl:input element
contained in the target wsdl:operation of the wsdl portType, does
not match the @soapAction value in this operation binding.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/">Operation.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2801">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2801">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>Note that this requirement is closely related to <a href=
"#R1144" class="offsite">R1144</a> , which defines the relationship
between the value of the <code>wsa:Action</code> SOAP header and
the value of the <code>action</code> parameter of the HTTP
Content-Type MIME header.</p>
</div>
</div>
<h2 id="wsdlcorrections">5. WSDL Corrections</h2>
<p>The following sections contain requirements that correct errors
and inconsistencies in the <a href=
"http://www.w3.org/TR/2001/NOTE-wsdl-20010315" class="offsite">Web
Services Description Language (WSDL) 1.1</a> . These have been
collected into this common section to serve as a reference point
for other specifications.</p>
<p>This section of the Profile incorporates the following
specifications by reference:</p>
<ul>
<li><a href="http://www.w3.org/TR/2001/NOTE-wsdl-20010315" class=
"offsite">Web Services Description Language (WSDL) 1.1</a></li>
<li><a href="http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/"
class="offsite">XML Schema Part 1: Structures</a></li>
<li><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/"
class="offsite">XML Schema Part 2: Datatypes</a></li>
</ul>
<p>These extensibility points are listed, along with any
extensibility points from other sections of this Profile, in
<a href="#points">Appendix B</a></p>
<h3 id="wsdldocstruct-correct">5.1 Document Structure</h3>
<p><a href=
"http://www.w3.org/TR/2001/NOTE-wsdl-20010315#_document-s" class=
"offsite">WSDL 1.1, Section 2.1</a> defines the overall structure
of an XML document for describing Web services. This Profile
mandates the use of that structure, with the following
corrections:</p>
<div class="refinement">
<h4 id="WSDL_Schema_Definitions">5.1.1 WSDL Schema Definitions</h4>
<div class="rationale">
<p>The normative schemas for WSDL appearing in Appendix 4 of the
WSDL 1.1 specification have inconsistencies with the normative text
of the specification. The Profile references new schema documents
that have incorporated fixes for known errors.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2028" id=
"R2028">R2028</a></span> A <span class=
"statement-target">DESCRIPTION</span> using the WSDL namespace
(prefixed "wsdl" in this Profile) MUST be valid according to the
XML Schema found at "<a href=
"http://ws-i.org/profiles/basic/1.1/wsdl-2004-08-24.xsd" class=
"offsite">http://ws-i.org/profiles/basic/1.1/wsdl-2004-08-24.xsd</a>".
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2705">BP2705</a></span></p>
<div style="display: none;" id="BP2705">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2705" id=
"BP2705">BP2705</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The wsdl:definitions in namespace
http://schemas.xmlsoap.org/wsdl/ is valid in accordance with the
wsi version of the wsdl 1.1 schema at
http://ws-i.org/profiles/basic/1.1/wsdl-2004-08-24.xsd .</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsoap12=
"http://schemas.xmlsoap.org/wsdl/soap12/">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile[wsdl:definitions]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> metadata</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsoap12=
"http://schemas.xmlsoap.org/wsdl/soap12/" name="metadata">
$target/@schemaValid</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsoap12=
"http://schemas.xmlsoap.org/wsdl/soap12/">$target/@schemaValid =
fn:true()</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The description file contains a WSDL definition which does not
conform to the schema located at
http://ws-i.org/profiles/basic/1.1/wsdl-2004-08-24.xsd</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsoap12=
"http://schemas.xmlsoap.org/wsdl/soap12/">Error message from the
XML parser</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2705">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2705">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2029" id=
"R2029">R2029</a></span> A <span class=
"statement-target">DESCRIPTION</span> using the WSDL SOAP binding
namespace (prefixed "wsoap12" in this Profile) MUST be valid
according to the XML Schema found at " <a href=
"http://schemas.xmlsoap.org/wsdl/soap12/wsdl11soap12-20060302.xsd"
class=
"offsite">http://schemas.xmlsoap.org/wsdl/soap12/wsdl11soap12-20060302.xsd</a>".
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2704">BP2704</a></span></p>
<div style="display: none;" id="BP2704">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2704" id=
"BP2704">BP2704</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The wsdl:definitions using the WSDL SOAP binding namespace
(prefixed "wsoap12" in this Profile) MUST be valid according to the
XML Schema found at "
http://schemas.xmlsoap.org/wsdl/soap12/wsdl11soap12.xsd ".</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsoap12=
"http://schemas.xmlsoap.org/wsdl/soap12/">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions[.//wsoap12:*]</target>
</td>
</tr>
<tr>
<td><b>co-Target:</b> metadata</td>
<td>
<cotarget xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsoap12=
"http://schemas.xmlsoap.org/wsdl/soap12/" name="metadata">
$target/../@schemaValid</cotarget>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsoap12=
"http://schemas.xmlsoap.org/wsdl/soap12/">$target/../@schemaValid =
fn:true()</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The wsdl:definitions is using the WSDL SOAP binding namespace
(prefixed "wsoap12" in this Profile) in a way that is not valid
according to the XML Schema found at "
http://schemas.xmlsoap.org/wsdl/soap12/wsdl11soap12.xsd ".</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsoap12=
"http://schemas.xmlsoap.org/wsdl/soap12/">Error message from the
XML parser</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2704">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2704">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>Although the Profile requires WSDL descriptions to be Schema
valid, it does not require consumers to validate WSDL documents. It
is the responsibility of a WSDL document's author to assure that it
is Schema valid.</p>
</div>
</div>
<div class="refinement">
<h4 id="WSDL_and_Schema_Import">5.1.2 WSDL and Schema Import</h4>
<div class="rationale">
<p>Some examples in WSDL 1.1 incorrectly show the WSDL import
statement being used to import XML Schema definitions. The Profile
clarifies use of the import mechanisms to keep them consistent and
confined to their respective domains. Imported schema documents are
also constrained by XML version and encoding requirements
consistent to those of the importing WSDL documents.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2001" id=
"R2001">R2001</a></span> A <span class=
"statement-target">DESCRIPTION</span> MUST only use the WSDL
"import" statement to import another WSDL description. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2101">BP2101</a></span></p>
<div style="display: none;" id="BP2101">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2101" id=
"BP2101">BP2101</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>Each wsdl:import statement is only used to import another WSDL
description.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions[wsdl:import]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $wsdlImp in
$target/wsdl:import satisfies some $wsdlFile in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile[@filename=$wsdlImp/@location]
satisfies ( (fn:namespace-uri($wsdlFile/*[1]) =
'http://schemas.xmlsoap.org/wsdl/' ) and (
fn:local-name($wsdlFile/*[1]) = 'definitions' ) )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A wsdl:import element does not contain a reference to another
WSDL description.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">wsdl:import element(s)
that does not reference a WSDL description.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2101">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2101">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2803" id=
"R2803">R2803</a></span> In a <span class=
"statement-target">DESCRIPTION</span>, the namespace attribute of
the <code>wsdl:import</code> MUST NOT be a relative URI.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2803">BP2803</a></span></p>
<div style="display: none;" id="BP2803">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2803" id=
"BP2803">BP2803</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The "namespace" attribute's value is not a relative URI.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions[wsdl:import]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2703</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $imp in
wsdl:import[@namespace] satisfies (starts-with($imp/@namespace,
'http://') or starts-with($imp/@namespace, 'HTTP://') or
starts-with($imp/@namespace, 'urn:') or
starts-with($imp/@namespace, 'URN:') or
starts-with($imp/@namespace, 'ft') or starts-with($imp/@namespace,
'FT'))</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The wsdl:import element's "namespace" attribute value is a
relative URI.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective wsdl:import
element.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2803">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2803">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2002" id=
"R2002">R2002</a></span> To import XML Schema Definitions, a
<span class="statement-target">DESCRIPTION</span> MUST use the XML
Schema "import" statement. <span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2101">BP2101</a></span></p>
<div style="display: none;" id="BP2101">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2101" id=
"BP2101">BP2101</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>Each wsdl:import statement is only used to import another WSDL
description.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions[wsdl:import]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $wsdlImp in
$target/wsdl:import satisfies some $wsdlFile in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile[@filename=$wsdlImp/@location]
satisfies ( (fn:namespace-uri($wsdlFile/*[1]) =
'http://schemas.xmlsoap.org/wsdl/' ) and (
fn:local-name($wsdlFile/*[1]) = 'definitions' ) )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A wsdl:import element does not contain a reference to another
WSDL description.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">wsdl:import element(s)
that does not reference a WSDL description.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2101">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2101">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2003" id=
"R2003">R2003</a></span> A <span class=
"statement-target">DESCRIPTION</span> MUST use the XML Schema
"import" statement only within the <code>xsd:schema</code> element
of the types section. <span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2103">BP2103</a></span></p>
<div style="display: none;" id="BP2103">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2103" id=
"BP2103">BP2103</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>For the referenced definitions as well as all imported
descriptions, The XML schema import statement is only used within
an xsd:schema element.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions[descendant::xsd:import]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $imp in
descendant::xsd:import satisfies ($imp/ancestor::xsd:schema and
$imp/ancestor::wsdl:types)</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A XML schema import element was found outside of an xsd:schema
element.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective XML schema
import element.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2103">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2103">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2004" id=
"R2004">R2004</a></span> In a <span class=
"statement-target">DESCRIPTION</span> the schemaLocation attribute
of an xsd:import element MUST NOT resolve to any document whose
root element is not "schema" from the namespace
"http://www.w3.org/2001/XMLSchema". <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2106">BP2106</a></span></p>
<div style="display: none;" id="BP2106">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2106" id=
"BP2106">BP2106</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>In a DESCRIPTION the schemaLocation attribute of an xsd:import
element MUST NOT resolve to any document whose root element is not
"schema" from the namespace
"http://www.w3.org/2001/XMLSchema".</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions[wsdl:types/xsd:schema/xsd:import]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $schemaImp in
$target/wsdl:types/xsd:schema/xsd:import[@schemaLocation] satisfies
some $impSchemaFile in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile[@filename=$schemaImp/@schemaLocation]
satisfies (
fn:namespace-uri($impSchemaFile/*[1])='http://www.w3.org/2001/XMLSchema'
and fn:local-name($impSchemaFile/*[1])='schema' )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>xsd:import element does not resolve to document whose root
element is not "schema" from xsd namespace</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective XML schema
import element.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2106">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2106">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2009" id=
"R2009">R2009</a></span> An XML Schema directly or indirectly
imported by a <span class="statement-target">DESCRIPTION</span> MAY
include the Unicode Byte Order Mark (BOM). <span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
<p class="statement"><span class="statement-id"><a name="R2010" id=
"R2010">R2010</a></span> An XML Schema directly or indirectly
imported by a <span class="statement-target">DESCRIPTION</span>
MUST use either UTF-8 or UTF-16 encoding. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2202">BP2202</a></span></p>
<div style="display: none;" id="BP2202">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2202" id=
"BP2202">BP2202</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>All imported schema use UTF-8 or UTF-16 for the encoding.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions[wsdl:types/xsd:schema/xsd:import]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $schImp in
$target/wsdl:types/xsd:schema/xsd:import[@schemaLocation] satisfies
( some $schFile in
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile[@filename=$schImp/@schemaLocation]
satisfies (not ($schFile/@encoding) or $schFile/@encoding = 'UTF-8'
or $schFile/@encoding = 'UTF-16' or $schFile/@encoding = 'utf-8' or
$schFile/@encoding = 'utf-16') )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The XML declaration statement within an imported XML Schema
does not use expected encoding (UTF-8 or UTF-16).</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">XML declaration
statement.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2202">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2202">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2011" id=
"R2011">R2011</a></span> An XML Schema directly or indirectly
imported by a <span class="statement-target">DESCRIPTION</span>
MUST use version 1.0 of the eXtensible Markup Language W3C
Recommendation. <span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
<p class="example-banner">For example,</p>
<div class="example">
<p class="incorrect">INCORRECT:</p>
<pre>
&lt;definitions name="StockQuote"
             targetNamespace="http://example.com/stockquote/definitions"
             xmlns:sq="http://example.com/stockquote"
             ...
             xmlns="http://schemas.xmlsoap.org/wsdl/"&gt;

  &lt;import namespace="http://example.com/stockquote"
           location="http://example.com/stockquote/schemas/stockquote.xsd"/&gt;

  &lt;message name="GetLastTradePriceInput"&gt;
    &lt;part name="body" element="sq:TradePriceRequest"/&gt;
  &lt;/message&gt;
  ...
&lt;/definitions&gt;
</pre></div>
<div class="example">
<p class="correct">CORRECT:</p>
<pre>
&lt;definitions name="StockQuote"
             targetNamespace="http://example.com/stockquote/definitions"
             xmlns:sq="http://example.com/stockquote"
             ...
             xmlns="http://schemas.xmlsoap.org/wsdl/"&gt;

  &lt;import namespace="http://example.com/stockquote/definitions"
          location="http://example.com/stockquote/definitions/stockquote.wsdl"/&gt;

  &lt;message name="GetLastTradePriceInput"&gt;
    &lt;part name="body" element="sq:TradePriceRequest"/&gt;
  &lt;/message&gt;
  ...
&lt;/definitions&gt;
</pre></div>
<div class="example">
<p class="correct">CORRECT:</p>
<pre>
&lt;definitions name="StockQuote"
             targetNamespace="http://example.com/stockquote/definitions"
             xmlns:sq="http://example.com/stockquote"
             xmlns:xsd="http://www.w3.org/2001/XMLSchema"
             ...
             xmlns="http://schemas.xmlsoap.org/wsdl/"&gt;

  &lt;types&gt;
    &lt;xsd:schema targetNamespace="http://example.com/stockquote"&gt;
      &lt;xsd:import namespace="http://example.com/stockquote"
                  schemaLocation="http://example.com/stockquote/schemas/stockquote.xsd"/&gt;
      &lt;xsd:element name="TradePriceRequest" type="sq:PriceRequestType"/&gt;
    &lt;/xsd:schema&gt;
  &lt;/types&gt;

  &lt;message name="GetLastTradePriceInput"&gt;
    &lt;part name="body" element="sq:TradePriceRequest"/&gt;
  &lt;/message&gt;
  ...
&lt;/definitions&gt;
</pre></div>
</div>
<div class="refinement">
<h4 id="Placement_of_WSDL_import_Elements">5.1.3 Placement of WSDL
import Elements</h4>
<div class="rationale">
<p>Example 3 in WSDL 1.1 Section 3.1 causes confusion regarding the
placement of <code>wsdl:import</code> .</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2022" id=
"R2022">R2022</a></span> When they appear in a <span class=
"statement-target">DESCRIPTION</span>, <code>wsdl:import</code>
elements MUST precede all other elements from the WSDL namespace
except <code>wsdl:documentation</code>. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2105">BP2105</a></span></p>
<div style="display: none;" id="BP2105">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2105" id=
"BP2105">BP2105</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>wsdl:import elements occur either as first children elements in
the WSDL namespace of the wsdl:defintitions element, or they are
only preceded by wsdl:documentation elements.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions[wsdl:import]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
not(wsdl:import/preceding-sibling::wsdl:*[(local-name-from-QName(node-name(.))
!= 'documentation') and (local-name-from-QName(node-name(.)) !=
'import')])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A wsdl:import element in the WSDL namespace under the
wsdl:definitions element, is preceded by child elements other than
wsdl:documentation elements.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Display the WSDL import
element(s) that failed the assertion.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2105">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2105">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2023" id=
"R2023">R2023</a></span> When they appear in a <span class=
"statement-target">DESCRIPTION</span>, <code>wsdl:types</code>
elements MUST precede all other elements from the WSDL namespace
except <code>wsdl:documentation</code> and
<code>wsdl:import</code>. <span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2018">BP2018</a></span></p>
<div style="display: none;" id="BP2018">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2018" id=
"BP2018">BP2018</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The wsdl:types elements occur either as first children in the
WSDL namespace of the wsdl:definitions element, or they are only
preceded by wsdl:documentation element(s) and/or wsdl:import(s)
element(s).</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions[wsdl:types]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2703</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
not(wsdl:types/preceding-sibling::wsdl:*[(local-name-from-QName(node-name(.))
!= 'documentation') and (local-name-from-QName(node-name(.)) !=
'import') and (local-name-from-QName(node-name(.)) !=
'types')])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>wsdl:types element(s) in the WSDL namespace of the
wsdl:definitions element were preceded by child elements other than
wsdl:documentation or wsdl:import elements.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2018">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2018">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="example-banner">For example,</p>
<div class="example">
<p class="incorrect">INCORRECT:</p>
<pre>
&lt;definitions name="StockQuote"
             ...
             xmlns="http://schemas.xmlsoap.org/wsdl/"&gt;

  &lt;message name="GetLastTradePriceInput"&gt;
    &lt;part name="body" element="sq:TradePriceRequest"/&gt;
  &lt;/message&gt;
  ...
  &lt;import namespace="http://example.com/stockquote/definitions"
          location="http://example.com/stockquote/definitions/stockquote.wsdl"/&gt;
  ...
  &lt;service name="StockQuoteService"&gt;
    &lt;port name="StockQuotePort" binding="tns:StockQuoteSoap"&gt;
      ...
    &lt;/port&gt;
  &lt;/service&gt;
&lt;/definitions&gt;
</pre></div>
<div class="example">
<p class="correct">CORRECT:</p>
<pre>
&lt;definitions name="StockQuote"
             ...
             xmlns="http://schemas.xmlsoap.org/wsdl/"&gt;

  &lt;import namespace="http://example.com/stockquote/definitions"
          location="http://example.com/stockquote/definitions/stockquote.wsdl"/&gt;

  &lt;message name="GetLastTradePriceInput"&gt;
    &lt;part name="body" element="sq:TradePriceRequest"/&gt;
  &lt;/message&gt;
  ...
  &lt;service name="StockQuoteService"&gt;
    &lt;port name="StockQuotePort" binding="tns:StockQuoteSoap"&gt;
      ...
    &lt;/port&gt;
  &lt;/service&gt;
&lt;/definitions&gt;
</pre></div>
<div class="example">
<p class="incorrect">INCORRECT:</p>
<pre>
&lt;definitions name="StockQuote"
             ...
             xmlns:xsd="http://www.w3.org/2001/XMLSchema"
             xmlns="http://schemas.xmlsoap.org/wsdl/"&gt;

  &lt;message name="GetLastTradePriceInput"&gt;
    &lt;part name="body" element="sq:TradePriceRequest"/&gt;
  &lt;/message&gt;
  ...
  &lt;service name="StockQuoteService"&gt;
    &lt;port name="StockQuotePort" binding="tns:StockQuoteSoap"&gt;
      ...
    &lt;/port&gt;
  &lt;/service&gt;

  &lt;types&gt;
    &lt;xsd:schema targetNamespace="http://example.com/stockquote"&gt;
      ...
    &lt;/xsd:schema&gt;
  &lt;/types&gt;
&lt;/definitions&gt;
</pre></div>
<div class="example">
<p class="correct">CORRECT:</p>
<pre>
&lt;definitions name="StockQuote"
             ...
             xmlns:xsd="http://www.w3.org/2001/XMLSchema"
             xmlns="http://schemas.xmlsoap.org/wsdl/"&gt;

  &lt;import namespace="http://example.com/stockquote/definitions"
          location="http://example.com/stockquote/definitions/stockquote.wsdl"/&gt;

  &lt;types&gt;
    &lt;xsd:schema targetNamespace="http://example.com/stockquote"&gt;
      ...
    &lt;/xsd:schema&gt;
  &lt;/types&gt;

  &lt;message name="GetLastTradePriceInput"&gt;
    &lt;part name="body" element="sq:TradePriceRequest"/&gt;
  &lt;/message&gt;
  ...
  &lt;service name="StockQuoteService"&gt;
    &lt;port name="StockQuotePort" binding="tns:StockQuoteSoap"&gt;
      ...
    &lt;/port&gt;
  &lt;/service&gt;
&lt;/definitions&gt;
</pre></div>
</div>
<div class="refinement">
<h4 id="WSDL_documentation_Element">5.1.4 WSDL documentation
Element</h4>
<div class="rationale">
<p>The WSDL 1.1 schema and the WSDL 1.1 specification are
inconsistent with respect to where <code>wsdl:documentation</code>
elements may be placed.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2030" id=
"R2030">R2030</a></span> In a <span class=
"statement-target">DESCRIPTION</span> the wsdl:documentation
element MAY be present as the first child element of
<code>wsdl:import</code>, <code>wsdl:part</code> and
<code>wsdl:definitions</code> in addition to the elements cited in
the WSDL 1.1 specification. <span class="claim-type">CORE</span>
<span class="testable-type">NOT_TESTED</span></p>
</div>
<h3 id="wsdlmsgs-correct">5.2 Message</h3>
<p><a href="http://www.w3.org/TR/2001/NOTE-wsdl-20010315#_messages"
class="offsite">WSDL 1.1, Section 2.3</a> defines the
<code>wsdl:message</code> elements that are used to represent
abstract definitions of the data being transmitted. This Profile
defines the following corrections on <code>wsdl:message</code>
elements.</p>
<div class="refinement">
<h4 id="Declaration_of_part_Elements">5.2.1 Declaration of part
Elements</h4>
<div class="rationale">
<p>Examples 4 and 5 in WSDL 1.1 Section 3.1 incorrectly show the
use of XML Schema types (e.g. "xsd:string") as a valid value for
the <code>element</code> attribute of a <code>wsdl:part</code>
element.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2206" id=
"R2206">R2206</a></span> A <code>wsdl:message</code> in a
<span class="statement-target">DESCRIPTION</span> containing a
<code>wsdl:part</code> that uses the <code>element</code> attribute
MUST refer, in that attribute, to a global element declaration.
<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2115">BP2115</a></span></p>
<div style="display: none;" id="BP2115">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2115" id=
"BP2115">BP2115</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>An "element" attribute on any wsdl:part element refers to a
global element declaration.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:message[wsdl:part/@element]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $part in
wsdl:part[@element] satisfies some $ged in //xsd:schema/xsd:element
satisfies ( ( $ged/../@targetNamespace = namespace-uri-from-QName(
resolve-QName(xsd:string($part/@element),$part)) or (not
($ged/../@targetNamespace) and not (namespace-uri-from-QName(
resolve-QName(xsd:string($part/@element),$part)) ) ) ) and
local-name-from-QName(resolve-QName(xsd:string($part/@element),$part))
= $ged/@name )</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>A wsdl:message element containing a wsdl:part element that uses
the "element" attribute does not refer, via that attribute, to a
global element declaration.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective wsdl:message
element.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2115">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2115">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="example-banner">For example,</p>
<div class="example">
<p class="incorrect">INCORRECT:</p>
<pre>
&lt;message name="GetTradePriceInput"&gt;
  &lt;part name="tickerSymbol" element="xsd:string"/&gt;
&lt;/message&gt;
</pre></div>
<div class="example">
<p class="correct">CORRECT:</p>
<pre>
&lt;message name="GetTradePriceInput"&gt;
  &lt;part name="body" element="tns:SubscribeToQuotes"/&gt;
&lt;/message&gt;
</pre></div>
</div>
<h3 id="wsdlsoapbinding-correct">5.3 SOAP Binding</h3>
<p>The <a href=
"http://www.w3.org/Submission/2006/SUBM-wsdl11soap12-20060405/"
class="offsite">WSDL 1.1 Binding Extension for SOAP 1.2</a> defines
a binding for SOAP 1.2 endpoints. This Profile mandates the use of
the SOAP 1.2 binding as defined in WSDL 1.1 Binding Extension for
SOAP 1.2, with the following corrections:</p>
<div class="refinement">
<h4 id="Specifying_the_transport_Attribute">5.3.1 Specifying the
transport Attribute</h4>
<div class="rationale">
<p>There is an inconsistency between the WSDL 1.1 specification and
the WSDL 1.1 schema regarding the <code>transport</code> attribute.
The WSDL 1.1 specification requires it; however, the schema shows
it to be optional.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2701" id=
"R2701">R2701</a></span> The <code>wsdl:binding</code> element in a
<span class="statement-target">DESCRIPTION</span> MUST be
constructed so that its <code>wsoap12:binding</code> child element
specifies the <code>transport</code> attribute. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2403">BP2403</a></span></p>
<div style="display: none;" id="BP2403">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2403" id=
"BP2403">BP2403</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The contained soabinding element has a "transport"
attribute</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[wsoap12:binding]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2703 BP2402</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
wsoap12:binding[@transport]</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Transport attribute of the soabinding does not exist.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">soabinding
element.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2403">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2403">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="SOAP_1.2_Binding_Extension">5.3.2 SOAP 1.2 Binding
Extension</h4>
<p class="statement"><span class="statement-id"><a name="R2179" id=
"R2179">R2179</a></span> In a <span class=
"statement-target">DESCRIPTION</span>, a <code>wsoap12:fault</code>
MUST specify the contents of the SOAP 1.2 fault <code>Detail</code>
element. <span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
<div class="explanation">
<p>The <code>wsoap12:fault</code> element is meant to describe the
SOAP 1.2 fault detail entries. WSDL 1.1 Binding Extension for SOAP
1.2 incorrectly says that it specifies the contents of the
<code>Reason</code> element.</p>
</div>
</div>
<div class="refinement">
<h4 id="Type_and_Name_of_SOAP_Binding_Elements">5.3.3 Type and Name
of SOAP Binding Elements</h4>
<div class="rationale">
<p>The WSDL 1.1 schema disagrees with the WSDL 1.1 specification
about the name and type of an attribute of the
<code>wsoap12:header</code> and <code>wsoap12:headerfault</code>
elements.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2720" id=
"R2720">R2720</a></span> A <code>wsdl:binding</code> in a
<span class="statement-target">DESCRIPTION</span> MUST use the
<code>part</code> attribute with a schema type of "NMTOKEN" on all
contained <code>wsoap12:header</code> and
<code>wsoap12:headerfault</code> elements. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2021">BP2021</a></span></p>
<div style="display: none;" id="BP2021">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2021" id=
"BP2021">BP2021</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The wsdl:input element and wsdl:output element of each
operation uses the attribute name "part" with a Schema type of
"NMTOKEN" and does not use "parts", for both wsoap12:header
elements and wsoap12:headerfault elements.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation[wsdl:input/wsoap12:header
or wsdl:input/wsoap12:headerfault or wsdl:output/wsoap12:header or
wsdl:output/wsoap12:headerfault]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2703</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
(not(wsdl:input/wsoap12:header) or
(wsdl:input/wsoap12:header[@part] and
not(wsdl:input/wsoap12:header[@parts]) and
not(wsdl:input/wsoap12:header[contains(@part, ' ')]) and
not(wsdl:input/wsoap12:header[contains(@part, ',')]))) and
(not(wsdl:input/wsoap12:headerfault) or
(wsdl:input/wsoap12:headerfault[@part] and
not(wsdl:input/wsoap12:headerfault[@parts]) and
not(wsdl:input/wsoap12:headerfault[contains(@part, ' ')]) and
not(wsdl:input/wsoap12:headerfault[contains(@part, ',')]))) and
(not(wsdl:output/wsoap12:header) or
(wsdl:output/wsoap12:header[@part] and
not(wsdl:output/wsoap12:header[@parts]) and
not(wsdl:output/wsoap12:header[contains(@part, ' ')]) and
not(wsdl:output/wsoap12:header[contains(@part, ',')]))) and
(not(wsdl:output/wsoap12:headerfault) or
(wsdl:output/wsoap12:headerfault[@part] and
not(wsdl:output/wsoap12:headerfault[@parts]) and
not(wsdl:output/wsoap12:headerfault[contains(@part, ' ')]) and
not(wsdl:output/wsoap12:headerfault[contains(@part,
',')])))</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The wsdl:input element or wsdl:output element of an operation
does not use the attribute name "part" with a Schema type of
"NMTOKEN" for wsoap12:header elements or wsoap12:headerfault
elements, or it uses "parts".</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">wsdl:input element or
wsdl:output element of the defective operation.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2021">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2021">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2749" id=
"R2749">R2749</a></span> A <code>wsdl:binding</code> in a
<span class="statement-target">DESCRIPTION</span> MUST NOT use the
<code>parts</code> attribute on contained
<code>wsoap12:header</code> and <code>wsoap12:headerfault</code>
elements. <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2021">BP2021</a></span></p>
<div style="display: none;" id="BP2021">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2021" id=
"BP2021">BP2021</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The wsdl:input element and wsdl:output element of each
operation uses the attribute name "part" with a Schema type of
"NMTOKEN" and does not use "parts", for both wsoap12:header
elements and wsoap12:headerfault elements.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation[wsdl:input/wsoap12:header
or wsdl:input/wsoap12:headerfault or wsdl:output/wsoap12:header or
wsdl:output/wsoap12:headerfault]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2703</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
(not(wsdl:input/wsoap12:header) or
(wsdl:input/wsoap12:header[@part] and
not(wsdl:input/wsoap12:header[@parts]) and
not(wsdl:input/wsoap12:header[contains(@part, ' ')]) and
not(wsdl:input/wsoap12:header[contains(@part, ',')]))) and
(not(wsdl:input/wsoap12:headerfault) or
(wsdl:input/wsoap12:headerfault[@part] and
not(wsdl:input/wsoap12:headerfault[@parts]) and
not(wsdl:input/wsoap12:headerfault[contains(@part, ' ')]) and
not(wsdl:input/wsoap12:headerfault[contains(@part, ',')]))) and
(not(wsdl:output/wsoap12:header) or
(wsdl:output/wsoap12:header[@part] and
not(wsdl:output/wsoap12:header[@parts]) and
not(wsdl:output/wsoap12:header[contains(@part, ' ')]) and
not(wsdl:output/wsoap12:header[contains(@part, ',')]))) and
(not(wsdl:output/wsoap12:headerfault) or
(wsdl:output/wsoap12:headerfault[@part] and
not(wsdl:output/wsoap12:headerfault[@parts]) and
not(wsdl:output/wsoap12:headerfault[contains(@part, ' ')]) and
not(wsdl:output/wsoap12:headerfault[contains(@part,
',')])))</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The wsdl:input element or wsdl:output element of an operation
does not use the attribute name "part" with a Schema type of
"NMTOKEN" for wsoap12:header elements or wsoap12:headerfault
elements, or it uses "parts".</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">wsdl:input element or
wsdl:output element of the defective operation.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2021">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2021">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>The WSDL Schema gives the attribute's name as "parts" and its
type as "NMTOKENS". The schema is incorrect since each
<code>wsoap12:header</code> and <code>wsoap12:headerfault</code>
element references a single <code>wsdl:part</code> .</p>
</div>
<p class="example-banner">For example,</p>
<div class="example">
<p class="correct">CORRECT:</p>
<pre>
&lt;binding name="StockQuoteSoap" type="tns:StockQuotePortType"&gt;
  &lt;wsoap12:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/&gt;
  &lt;operation name="SubscribeToQuotes"&gt;
    &lt;input&gt;
      &lt;wsoap12:body parts="body" use="literal"/&gt;
      &lt;wsoap12:header message="tns:SubscribeToQuotes" part="subscribeheader" use="literal"/&gt;
    &lt;/input&gt;
  &lt;/operation&gt;
&lt;/binding&gt;
</pre></div>
</div>
<div class="refinement">
<h4 id="name_Attribute_on_Faults">5.3.4 name Attribute on
Faults</h4>
<div class="rationale">
<p>There is inconsistency between the WSDL 1.1 specification and
the WSDL 1.1 schema, which does not list the <code>name</code>
attribute.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2721" id=
"R2721">R2721</a></span> A <code>wsdl:binding</code> in a
<span class="statement-target">DESCRIPTION</span> MUST have the
<code>name</code> attribute specified on all contained
<code>wsoap12:fault</code> elements. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2022">BP2022</a></span></p>
<div style="display: none;" id="BP2022">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2022" id=
"BP2022">BP2022</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>the name attribute is specified on the wsoap12:fault
element.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation/wsdl:fault/wsoap12:fault</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">@name and @name !=
''</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Defective wsoap12:fault element: the name attribute is not
specified on the wsoap12:fault element.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective wsoap12:fault
element</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2022">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2022">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<p class="statement"><span class="statement-id"><a name="R2754" id=
"R2754">R2754</a></span> In a <span class=
"statement-target">DESCRIPTION</span>, the value of the
<code>name</code> attribute on a <code>wsoap12:fault</code> element
MUST match the value of the <code>name</code> attribute on its
parent <code>wsdl:fault</code> element. <span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2032">BP2032</a></span></p>
<div style="display: none;" id="BP2032">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2032" id=
"BP2032">BP2032</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>the name attribute that is specified on the wsoap12:fault
element matches the value specified on the parent element
wsdl:fault.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding/wsdl:operation/wsdl:fault</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">@name =
wsoap12:fault/@name</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Defective wsoap12:fault element: the "name" attribute value
does not match the value of the "name" attribute on the parent
element wsdl:fault.</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective wsoap12:fault
element</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2032">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2032">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</div>
<div class="refinement">
<h4 id="Omission_of_the_use_Attribute">5.3.5 Omission of the use
Attribute</h4>
<div class="rationale">
<p>There is inconsistency between the WSDL 1.1 specification and
the WSDL 1.1 schema regarding the <code>use</code> attribute.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2722" id=
"R2722">R2722</a></span> A <code>wsdl:binding</code> in a
<span class="statement-target">DESCRIPTION</span> MAY specify the
<code>use</code> attribute on contained <code>wsoap12:fault</code>
elements. <span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
<p class="statement"><span class="statement-id"><a name="R2723" id=
"R2723">R2723</a></span> If in a <code>wsdl:binding</code> in a
<span class="statement-target">DESCRIPTION</span> the
<code>use</code> attribute on a contained
<code>wsoap12:fault</code> element is present, its value MUST be
"literal". <span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP2406">BP2406</a></span></p>
<div style="display: none;" id="BP2406">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP2406" id=
"BP2406">BP2406</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The use attribute has a value of "literal".</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:descriptionFiles/wsil:descriptionFile/wsdl:definitions/wsdl:binding[wsoap12:binding]</target>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>BP2703</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">not(.//*[@use and @use !=
"literal"])</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>mandatory</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>The use attribute of a wsoap12:body, wsoap12:fault,
wsoap12:header and wsoap12:headerfault does not have value of
"literal".</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">Defective wsoap12:body,
wsoap12:fault, wsoap12:header, or wsoap12:headerfault
elements.</diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP2406">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP2406">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
<div class="explanation">
<p>WSDL 1.1 Section 3.6 indicates that the <code>use</code>
attribute of <code>wsoap12:fault</code> is required while in the
schema the <code>use</code> attribute is defined as optional. The
Profile defines it as optional, to be consistent with
<code>wsoap12:body</code> .</p>
<p>Since the <code>use</code> attribute is optional, the Profile
identifies the default value for the attribute when omitted.</p>
<p>Finally, to assure that the Profile is self-consistent, the only
permitted value for the <code>use</code> attribute is
"literal".</p>
</div>
</div>
<div class="refinement">
<h4 id="Default_for_use_Attribute">5.3.6 Default for use
Attribute</h4>
<div class="rationale">
<p>There is an inconsistency between the WSDL 1.1 specification and
the WSDL 1.1 schema regarding whether the <code>use</code>
attribute is optional on <code>wsoap12:body</code> ,
<code>wsoap12:header</code> , and <code>wsoap12:headerfault</code>
, and if so, what omitting the attribute means.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R2707" id=
"R2707">R2707</a></span> A <code>wsdl:binding</code> in a
<span class="statement-target">DESCRIPTION</span> that contains one
or more <code>wsoap12:body</code>, <code>wsoap12:fault</code>,
<code>wsoap12:header</code> or <code>wsoap12:headerfault</code>
elements that do not specify the <code>use</code> attribute MUST be
interpreted as though the value "literal" had been specified in
each case. <span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></p>
</div>
<h2 id="discovery">6. Service Publication and Discovery</h2>
<p>When publication or discovery of Web services is required, UDDI
is the mechanism the Profile has adopted to describe Web service
providers and the Web services they provide. Business, intended
use, and Web service type descriptions are made in UDDI terms;
detailed technical descriptions are made in WSDL terms. Where the
two specifications define overlapping descriptive data and both
forms of description are used, the Profile specifies that the
descriptions must not conflict.</p>
<p>Registration of Web service instances in UDDI registries is
optional. By no means do all usage scenarios require the kind of
metadata and discovery UDDI provides, but where such capability is
needed, UDDI is the sanctioned mechanism.</p>
<p>Note that the Web services that constitute UDDI V2 are not fully
conformant with the Profile 1.0 because they do not accept messages
whose envelopes are encoded in either UTF-8 and UTF-16 as required
by the Profile. (They accept UTF-8 only.) That there should be such
a discrepancy is hardly surprising given that UDDI V2 was designed
and, in many cases, implemented before the Profile was developed.
UDDI's designers are aware of UDDI V2's nonconformance and will
take it into consideration in their future work.</p>
<p>This section of the Profile incorporates the following
specifications by reference:</p>
<ul>
<li><a href=
"http://uddi.org/pubs/ProgrammersAPI-V2.04-Published-20020719.htm"
class="offsite">UDDI Version 2.04 API Specification, Dated 19 July
2002</a></li>
<li><a href=
"http://uddi.org/pubs/DataStructure-V2.03-Published-20020719.htm"
class="offsite">UDDI Version 2.03 Data Structure Reference, Dated
19 July 2002</a></li>
<li><a href="http://uddi.org/schema/uddi_v2.xsd" class=
"offsite">UDDI Version 2 XML Schema</a></li>
</ul>
<p>These extensibility points are listed, along with any
extensibility points from other sections of this Profile, in
<a href="#points">Appendix B</a></p>
<h3 id="UDDIBTS">6.1 bindingTemplates</h3>
<p>This section of the Profile incorporates the following
specifications by reference:</p>
<ul>
<li><a href=
"http://uddi.org/pubs/DataStructure-V2.03-Published-20020719.htm#_Toc25130769"
class="offsite">UDDI Version 2.03 Data Structure Reference, Section
7</a></li>
</ul>
<p>UDDI represents Web service instances as
<code>uddi:bindingTemplate</code> elements. The
<code>uddi:bindingTemplate</code> plays a role that is the rough
analog of the <code>wsdl:port</code> , but provides options that
are not expressible in WSDL. To keep the WSDL description of an
instance and its UDDI description consistent, the Profile places
the following constraints on how <code>uddi:bindingTemplate</code>
elements may be constructed.</p>
<div class="refinement">
<div class="rationale">
<p>WSDL's <code>wsoap12:address</code> element requires the network
address of the instance to be directly specified. In contrast, UDDI
V2 provides two alternatives for specifying the network address of
instances it represents. One, the <code>uddi:accessPoint</code> ,
mirrors the WSDL mechanism by directly specifying the address. The
other, the <code>uddi:hostingRedirector</code> , provides a Web
service-based indirection mechanism for resolving the address, and
is inconsistent with the WSDL mechanism.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R3100" id=
"R3100">R3100</a></span> <span class=
"statement-target">REGDATA</span> of type
<code>uddi:bindingTemplate</code> representing a conformant
INSTANCE MUST contain the <code>uddi:accessPoint</code> element.
<span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
<p class="example-banner">For example,</p>
<div class="example">
<p class="incorrect">INCORRECT:</p>
<pre>
&lt;bindingTemplate bindingKey="..."&gt;
  &lt;description xml:lang="EN"&gt;BarSOAPPort&lt;/description&gt;
  &lt;hostingRedirector bindingKey="..."/&gt;
  &lt;tModelInstanceDetails&gt;
    ...
  &lt;/tModelInstanceDetails&gt;
&lt;/bindingTemplate&gt;
</pre></div>
<div class="example">
<p class="correct">CORRECT:</p>
<pre>
&lt;bindingTemplate bindingKey="..."&gt;
  &lt;description xml:lang="EN"&gt;BarSOAPPort&lt;/description&gt;
  &lt;accessPoint&gt;http://example.org/myBarSOAPPort&lt;/accessPoint&gt;
  &lt;tModelInstanceDetails&gt;
    ...
  &lt;/tModelInstanceDetails&gt;
&lt;/bindingTemplate&gt;
</pre></div>
</div>
<h3 id="UDDITMS">6.2 tModels</h3>
<p>This section of the Profile incorporates the following
specifications by reference:</p>
<ul>
<li><a href=
"http://uddi.org/pubs/DataStructure-V2.03-Published-20020719.htm#_Toc25130775"
class="offsite">UDDI Version 2.03 Data Structure Reference, Section
8</a></li>
</ul>
<p>UDDI represents Web service types as <code>uddi:tModel</code>
elements. (See <a href=
"http://uddi.org/pubs/DataStructure-V2.03-Published-20020719.htm#_Toc25130777"
class="offsite">UDDI Data Structures section 8.1.1</a> .) These
may, but need not, point (using a URI) to the document that
contains the actual description. Further, UDDI is agnostic with
respect to the mechanisms used to describe Web service types. The
Profile cannot be agnostic about this because interoperation is
very much complicated if Web service types do not have descriptions
or if the descriptions can take arbitrary forms.</p>
<p>The <a href=
"http://uddi.org/pubs/ProgrammersAPI-V2.04-Published-20020719.htm#_Toc25137792"
class="offsite">UDDI API Specification, appendix I.1.2.1.1</a>
allows but does not require <code>uddi:tModel</code> elements that
use WSDL to describe the Web service type they represent to state
that they use WSDL as the description language. Not doing so leads
to interoperability problems because it is then ambiguous what
description language is being used.</p>
<p>Therefore the Profile places the following constraints on how
<code>uddi:tModel</code> elements that describe Web service types
may be constructed:</p>
<div class="refinement">
<div class="rationale">
<p>The Profile chooses WSDL as the description language because it
is by far the most widely used such language.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R3002" id=
"R3002">R3002</a></span> <span class=
"statement-target">REGDATA</span> of type <code>uddi:tModel</code>
representing a conformant Web service type MUST use WSDL as the
description language. <span class="claim-type">CORE</span>
<span class="testable-type">NOT_TESTED</span></p>
</div>
<div class="refinement">
<div class="rationale">
<p>To specify that conformant Web service types use WSDL, the
Profile adopts the UDDI categorization for making this
assertion.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R3003" id=
"R3003">R3003</a></span> <span class=
"statement-target">REGDATA</span> of type <code>uddi:tModel</code>
representing a conformant Web service type MUST be categorized
using the uddi:types taxonomy and a categorization of "wsdlSpec".
<span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
</div>
<div class="refinement">
<div class="rationale">
<p>For the <code>uddi:overviewURL</code> in a
<code>uddi:tModel</code> to resolve to a <code>wsdl:binding</code>
, the Profile must adopt a convention for distinguishing among
multiple <code>wsdl:binding</code> s in a WSDL document. The UDDI
Best Practice for Using WSDL in a UDDI Registry specifies the most
widely recognized such convention.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R3010" id=
"R3010">R3010</a></span> <span class=
"statement-target">REGDATA</span> of type <code>uddi:tModel</code>
representing a conformant Web service type MUST follow <a href=
"http://www.oasis-open.org/committees/uddi-spec/doc/bp/uddi-spec-tc-bp-using-wsdl-v108-20021110.htm"
class="offsite">V1.08 of the UDDI Best Practice for Using WSDL in a
UDDI Registry</a>. <span class="claim-type">CORE</span>
<span class="testable-type">NOT_TESTED</span></p>
</div>
<div class="refinement">
<div class="rationale">
<p>It would be inconsistent if the <code>wsdl:binding</code> that
is referenced by the <code>uddi:tModel</code> does not conform to
the Profile.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R3011" id=
"R3011">R3011</a></span> The <code>wsdl:binding</code> that is
referenced by <span class="statement-target">REGDATA</span> of type
<code>uddi:tModel</code> MUST itself conform to the Profile.
<span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTED</span></p>
</div>
<h2 id="security">7. Security</h2>
<p>As is true of all network-oriented information technologies, the
subject of security is a crucial one for Web services. For Web
services, as for other information technologies, security consists
of understanding the potential threats an attacker may mount and
applying operational, physical, and technological countermeasures
to reduce the risk of a successful attack to an acceptable level.
Because an "acceptable level of risk" varies hugely depending on
the application, and because costs of implementing countermeasures
is also highly variable, there can be no universal "right answer"
for securing Web services. Choosing the absolutely correct balance
of countermeasures and acceptable risk can only be done on a case
by case basis.</p>
<p>While Basic Profile conformance is important for the web
services community to ensure interoperability, an instance is
expected take whatever security countermeasures it deems necessary
to protect itself; even if in that specific case it is acting
outside of and is not in conformance with this Profile.</p>
<p>There <em>are</em> common patterns of countermeasures that
experience shows reduce the risks to acceptable levels for many Web
services. The Profile adopts, but does not mandate use of, the most
widely used of these: HTTP secured with either TLS 1.0 or SSL 3.0
(HTTPS). That is, conformant Web services may use HTTPS; they may
also use other countermeasure technologies or none at all.</p>
<p>HTTPS is widely regarded as a mature standard for encrypted
transport connections to provide a basic level of confidentiality.
HTTPS thus forms the first and simplest means of achieving some
basic security features that are required by many real-world Web
service applications. HTTPS may also be used to provide client
authentication through the use of client-side certificates.</p>
<p>See conformance criteria in <a href="#conformance" class=
"offsite">Section 2</a> when the HTTP(S) transport protocol is
used.</p>
<p>This section of the Profile incorporates the following
specifications by reference, and defines extensibility points
within them:</p>
<ul>
<li><a href="http://www.ietf.org/rfc/rfc2818" class=
"offsite">RFC2818: HTTP Over TLS</a></li>
<li><a href="http://www.ietf.org/rfc/rfc2246" class=
"offsite">RFC2246: The TLS Protocol Version 1.0</a><br />
Extensibility points:
<ul>
<li><span id="E0019" class="statement-id">E0019</span> - TLS
Cyphersuite - TLS allows for the use of arbitrary encryption
algorithms.<span class="claim-type">HTTP-TRANSPORT</span></li>
<li><span id="E0020" class="statement-id">E0020</span> - TLS
Extensions - TLS allows for extensions during the handshake
phase.<span class="claim-type">HTTP-TRANSPORT</span></li>
</ul>
</li>
<li><a href="http://wp.netscape.com/eng/ssl3/draft302.txt" class=
"offsite">The SSL Protocol Version 3.0</a><br />
Extensibility points:
<ul>
<li><span id="E0021" class="statement-id">E0021</span> - SSL
Cyphersuite - SSL allows for the use of arbitrary encryption
algorithms.<span class="claim-type">HTTP-TRANSPORT</span></li>
</ul>
</li>
<li><a href="http://www.ietf.org/rfc/rfc2459" class=
"offsite">RFC2459: Internet X.509 Public Key Infrastructure
Certificate and CRL Profile</a><br />
Extensibility points:
<ul>
<li><span id="E0022" class="statement-id">E0022</span> -
Certificate Authority - The choice of the Certificate Authority is
a private agreement between parties.<span class=
"claim-type">HTTP-TRANSPORT</span></li>
<li><span id="E0023" class="statement-id">E0023</span> -
Certificate Extensions - X509 allows for arbitrary certificate
extensions.<span class="claim-type">HTTP-TRANSPORT</span></li>
</ul>
</li>
</ul>
<p>These extensibility points are listed, along with any
extensibility points from other sections of this Profile, in
<a href="#points">Appendix B</a></p>
<h3 id="HTTPSBase">7.1 Use of HTTPS</h3>
<div class="refinement">
<div class="rationale">
<p>HTTPS is such a useful, widely understood basic security
mechanism that the Profile needs to allow it.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R5000" id=
"R5000">R5000</a></span> An <span class=
"statement-target">INSTANCE</span> MAY require the use of HTTPS.
<span class="claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">NOT_TESTED</span></p>
<p class="statement"><span class="statement-id"><a name="R5001" id=
"R5001">R5001</a></span> If an <span class=
"statement-target">INSTANCE</span> requires the use of HTTPS, the
location attribute of the <code>wsoap12:address</code> element in
its <code>wsdl:port</code> description MUST be a URI whose scheme
is "https"; otherwise it MUST be a URI whose scheme is "http".
<span class="claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">NOT_TESTED</span></p>
</div>
<div class="refinement">
<div class="rationale">
<p>Simple HTTPS provides authentication of the Web service instance
by the consumer but not authentication of the consumer by the
instance. For many instances this leaves the risk too high to
permit interoperation. Including the mutual authentication facility
of HTTPS in the Profile permits instances to use the countermeasure
of authenticating the consumer. In cases in which authentication of
the instance by the consumer is insufficient, this often reduces
the risk sufficiently to permit interoperation.</p>
</div>
<p class="statement"><span class="statement-id"><a name="R5010" id=
"R5010">R5010</a></span> An <span class=
"statement-target">INSTANCE</span> MAY require the use of HTTPS
with mutual authentication. <span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">NOT_TESTED</span></p>
</div>
<h2 id="references">Appendix A: Referenced Specifications</h2>
<p>The following specifications' requirements are incorporated into
the Profile by reference, except where superseded by the
Profile:</p>
<ul>
<li><a href="http://www.w3.org/TR/2007/REC-soap12-part1-20070427/"
class="offsite">SOAP Version 1.2 Part 1: Messaging Framework
(Second Edition)</a></li>
<li><a href="http://www.w3.org/TR/2007/REC-soap12-part2-20070427/"
class="offsite">SOAP Version 1.2 Part 2: Adjuncts (Second
Edition)</a></li>
<li><a href="http://www.ietf.org/rfc/rfc2616" class=
"offsite">RFC2616: Hypertext Transfer Protocol -- HTTP/1.1</a></li>
<li><a href="http://www.ietf.org/rfc/rfc2965" class=
"offsite">RFC2965: HTTP State Management Mechanism</a></li>
<li><a href="http://www.w3.org/TR/2006/REC-ws-addr-core-20060509"
class="offsite">WS-Addressing 1.0 - Core</a></li>
<li><a href="http://www.w3.org/TR/2006/REC-ws-addr-soap-20060509/"
class="offsite">WS-Addressing 1.0 - SOAP Binding (except for
sections 4, 5.1.1, 5.2.1 and 6.2)</a></li>
<li><a href=
"http://www.w3.org/TR/2007/REC-ws-addr-metadata-20070904/" class=
"offsite">WS-Addressing 1.0 - Metadata (except for sections 4.1.1,
4.4.2, 4.4.3 and 5.2)</a></li>
<li><a href="http://www.w3.org/TR/soap12-mtom/" class=
"offsite">SOAP Message Transmission Optimization Mechanism</a></li>
<li><a href="http://www.w3.org/TR/xop10/" class=
"offsite">XML-Binary Optimized Packaging</a></li>
<li><a href="http://www.ietf.org/rfc/rfc3023" class="offsite">XML
Media Types</a></li>
<li><a href="http://www.w3.org/TR/2006/REC-xml-20060816/" class=
"offsite">Extensible Markup Language (XML) 1.0 (Fourth
Edition)</a></li>
<li><a href=
"http://www.ws-i.org/Profiles/AttachmentsProfile-1.0.html" class=
"offsite">Attachments Profile Version 1.0</a></li>
<li><a href="http://www.apps.ietf.org/rfc/rfc3986.html" class=
"offsite">RFC3986: Uniform Resource Identifier (URI): Generic
Syntax</a></li>
<li><a href="http://www.w3.org/TR/2006/REC-xml-names-20060816/"
class="offsite">Namespaces in XML 1.0 (Second Edition)</a></li>
<li><a href="http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/"
class="offsite">XML Schema Part 1: Structures</a></li>
<li><a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/"
class="offsite">XML Schema Part 2: Datatypes</a></li>
<li><a href="http://www.w3.org/TR/2001/NOTE-wsdl-20010315" class=
"offsite">Web Services Description Language (WSDL) 1.1</a></li>
<li><a href="http://www.w3.org/Submission/wsdl11soap12/" class=
"offsite">WSDL 1.1 Binding Extension for SOAP 1.2</a></li>
<li><a href=
"http://uddi.org/pubs/ProgrammersAPI-V2.04-Published-20020719.htm"
class="offsite">UDDI Version 2.04 API Specification, Dated 19 July
2002</a></li>
<li><a href=
"http://uddi.org/pubs/DataStructure-V2.03-Published-20020719.htm"
class="offsite">UDDI Version 2.03 Data Structure Reference, Dated
19 July 2002</a></li>
<li><a href="http://uddi.org/schema/uddi_v2.xsd" class=
"offsite">UDDI Version 2 XML Schema</a></li>
<li><a href=
"http://uddi.org/pubs/DataStructure-V2.03-Published-20020719.htm#_Toc25130769"
class="offsite">UDDI Version 2.03 Data Structure Reference, Section
7</a></li>
<li><a href=
"http://uddi.org/pubs/DataStructure-V2.03-Published-20020719.htm#_Toc25130775"
class="offsite">UDDI Version 2.03 Data Structure Reference, Section
8</a></li>
<li><a href="http://www.ietf.org/rfc/rfc2818" class=
"offsite">RFC2818: HTTP Over TLS</a></li>
<li><a href="http://www.ietf.org/rfc/rfc2246" class=
"offsite">RFC2246: The TLS Protocol Version 1.0</a></li>
<li><a href="http://wp.netscape.com/eng/ssl3/draft302.txt" class=
"offsite">The SSL Protocol Version 3.0</a></li>
<li><a href="http://www.ietf.org/rfc/rfc2459" class=
"offsite">RFC2459: Internet X.509 Public Key Infrastructure
Certificate and CRL Profile</a></li>
</ul>
<h2 id="points">Appendix B: Extensibility Points</h2>
<p>This section identifies extensibility points, as defined in
"Scope of the Profile," for the Profile's component
specifications.</p>
<p>These mechanisms are out of the scope of the Profile and Profile
conformance. An initial, non-exhaustive list of these extensibility
points is provided here as their use may affect interoperability.
In order to avoid interoperability issues not addressed by the
Profile, out-of-band agreement on the use of these extensibility
points may be necessary between the parties to a Web service.</p>
<p>In <a href=
"http://www.w3.org/TR/2007/REC-soap12-part1-20070427/" class=
"offsite">SOAP Version 1.2 Part 1: Messaging Framework (Second
Edition):</a></p>
<ul>
<li><span class="statement-id">E0001</span> - <strong>Header
blocks</strong> - Header blocks are an extensibility mechanism in
SOAP.<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1901">BP1901</a></span>
<div style="display: none;" id="BP1901">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1901" id=
"BP1901">BP1901</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The soap:Envelope contains other header blocks.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope[soap12:Header[some
$hbloc in child::* satisfies not(fn:namespace-uri($hbloc) =
'http://www.w3.org/2005/08/addressing') and
not($hbloc/attribute::*:IsReferenceParameter) ]]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">fn:true()</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=warning, false=failed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>permitted</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Extensibility Point WARNING: The soap12:Envelope makes use of
extra SOAP headers</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1901">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1901">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</li>
<li><span class="statement-id">E0002</span> - <strong>Processing
order</strong> - The order of processing of a SOAP envelope's
components (e.g., headers) is unspecified, and therefore may need
to be negotiated out-of-band.<span class="claim-type">CORE</span>
<span class="testable-type">NOT_TESTABLE</span></li>
<li><span class="statement-id">E0003</span> - <strong>Use of
intermediaries</strong> - SOAP Intermediaries is an underspecified
mechanism in SOAP 1.2, and their use may require out-of-band
negotiation. Their use may also necessitate careful consideration
of where Profile conformance is measured.<span class=
"claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></li>
<li><span class="statement-id">E0004</span> - <strong>SOAP role
values</strong> - Values of the SOAP role attribute, other than the
special uri 'http://www.w3.org/2003/05/soap-envelope/role/next',
represent a private agreement between parties of the web
service.<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1904">BP1904</a></span>
<div style="display: none;" id="BP1904">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1904" id=
"BP1904">BP1904</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The soap12:Envelope contains @role with unspecified
values.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope[.//attribute::*:role]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">every $rval in
.//*/attribute::*:role satisfies ($rval =
'http://www.w3.org/2003/05/soap-envelope/role/next' or $rval =
'http://www.w3.org/2003/05/soap-envelope/role/none')</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=passed, false=warning</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>permitted</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Extensibility Point WARNING: The soap12:Envelope contains @role
with unspecified values</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1904">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1904">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</li>
<li><span class="statement-id">E0005</span> - <strong>Fault
details</strong> - Faults may have Detail elements. The contents of
these elements are not described in SOAP 1.2.<span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span> <span class=
"testref-type"><a onclick="javascript:toggle(this)" href=
"#BP1905">BP1905</a></span>
<div style="display: none;" id="BP1905">
<table width="80%" class="assertion" border="1">
<tr>
<th width="20%">Test Assertion:</th>
<th align="left"><span class="assertion-id"><a name="BP1905" id=
"BP1905">BP1905</a></span></th>
</tr>
<tr>
<td><b>Description:</b></td>
<td>The soap12:Envelope contains a Fault with unspecified Detail
content.</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<target xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">
/wsil:testLog/wsil:messageLog/wsil:message/wsil:messageContents/soap12:Envelope[soap12:Body/soap12:Fault/soap12:Detail]</target>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<predicate xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope">fn:true()</predicate>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>true=warning, false=passed</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>permitted</td>
</tr>
<tr>
<td><b>Error Message:</b></td>
<td>Extensibility Point WARNING: The soap12:Fault makes use of
optional Detail element</td>
</tr>
<tr>
<td><b>Diagnostic Data:</b></td>
<td>
<diagnostic xmlns=
"http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd" xmlns:h=
"http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd" xmlns:xsi=
"http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" xmlns:soap=
"http://www.w3.org/2003/05/soap-envelope"></diagnostic>
</td>
</tr>
</table>
<span class="glossaryref-type"><a onclick="javascript:toggle(this)"
href="#glossaryBP1905">HELP - GLOSSARY</a></span></div>
<div style="display: none;" id="glossaryBP1905">
<table width="80%" class="taglossary" border="1">
<tr>
<th width="20%">Test Assertion Part</th>
<th align="left"><span class="taglossary-id"><a name="glossary" id=
"glossary">What it means:</a></span></th>
</tr>
<tr>
<td><b>Test Assertion ID:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="TA_Id">
<p><i>[<b>markup: testAssertion/@id</b>]</i> (required)</p>
A unique ID for the current test assertion.</item>
</td>
</tr>
<tr>
<td><b>Description:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="description">
<p><i>[<b>markup: testAssertion/description</b> ]</i>
(optional)</p>
<p>A plain text description of the current test assertion. At
minimum expressing the TA predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Comments:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="comments">
<p><i>[<b>markup: testAssertion/comments</b> ]</i> (optional)</p>
A plain text comment about the TA script and how well it covers the
profile requirement. Explanation material for users, and developers
(what could be improved, etc.).</item>
</td>
</tr>
<tr>
<td><b>Target:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="target">
<p><i>[<b>markup: testAssertion/target</b> ]</i> (required)</p>
The artifacts to be tested, defined by an XPath expression that
returns a list of XML nodes from the log file in input. For every
artifact (node) selected by the Target expression, there will be a
report entry for this TA in the test report, with a result of
either:
<ul>
<li>passed</li>
<li>failed</li>
<li>warning</li>
<li>notApplicable</li>
<li>notRelevant</li>
<li>missingInput</li>
<li>undetermined</li>
</ul>
<p>See the "reporting" item for the meaning of these results.</p>
</item>
</td>
</tr>
<tr>
<td><b>Cotarget:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="cotarget">
<p><i>[<b>markup: testAssertion/cotarget</b> ]</i> (optional)</p>
<p>Artifact that is related to the target, and that needs be
accessed for the testing. Identified by an XPath expression that
may refer to the related target node using the variable
'$target'.</p>
<p>For example, the target can be a SOAP message and the cotarget
the WSDL file that describes this SOAP message.</p>
<p>A cotarget must have a @name attribute that identifies it. The
value of this attribute can be used as a variable (when prepending
'$' to it) by subsequently defined cotargets, prerequisite and
predicate.</p>
</item>
</td>
</tr>
<tr>
<td><b>Prerequisite:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prerequisite">
<p><i>[<b>markup: testAssertion/@preReq</b> ]</i> (optional)</p>
<p><i>[<b>markup: testAssertion/prerequisite</b> ]</i>
(optional)</p>
<p>The pre-condition for evaluating this Test Assertion on this
target. If the prerequisite evaluates to "false" then the target
does not qualify for this Test Assertion (the test report is
"notRelevant")</p>
<p>The first part (preReq attribute) is an enumeration of Test
Assertion IDs. Each one of the prerequisite TAs must either use the
same target (e.g. SOAP Envelope, or WSDL binding, etc.) as this TA,
or a target that is of a more general type than the main TA target.
The target must "pass" each one of these prerequisite TAs in order
to qualify for this TA.</p>
<p>(e.g. the target of TA t1 can be a WSDL binding while the target
of a TA t2 prerequisite of t1, can be the entire WSDL file).</p>
<p>The second part ("prerequisite" element) is an XPath (boolean)
expression of the same nature as the predicate. If present, it must
evaluate to "true" for the target to qualify. If it fails, the
result for the current TA in the report will be "notRelevant".
Otherwise, the target can be further evaluated by the predicate of
the main TA. The expression may refer to the target explicitly
using the variable name "$target", or to any cotarget using its
name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Predicate:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="predicate">
<p><i>[<b>markup: testAssertion/predicate</b>]</i> required
element]</p>
<p>A logical expression that evaluates whether this target is
fulfilling the profile requirement addressed by this test
Assertion. By default:</p>
- A result of <b>true</b> means the requirement is fulfilled
(reported as a "passed" in the test report).<br />
- A result of <b>false</b> means the requirement is violated
(reported as a "failed" in the test report).<br />
<p>However, in some cases and for testability reasons, the
predicate may be designed as a partial indicator e.g. only
indicates some cases of fulfillment, or some cases of violation. As
a result, when "true" indicates fulfillment it may be that "false"
is unconclusive, or conversely "false" will indicate violation, but
"true" is unconclusive. In such cases, the "Reporting" element
specifies the meaning of the predicate result w/r to the profile
requirement.</p>
<p>The predicate expression implicitly refers to the target (whic
is its "XPath context") although it may explicitly refer to it
using the variable name "$target". It may refer to any cotarget
using its name as variable name ($[name]).</p>
</item>
</td>
</tr>
<tr>
<td><b>Prescription:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="prescription">
<p><i>[<b>markup: testAssertion/prescription/@level</b> ]</i>
(required)</p>
Conveys the level of prescription associated with the profile
requirement. At least three values may be used:
<ul>
<li><b>mandatory</b>: maps to RFC2119 keywords MUST, MUST NOT,
SHALL, SHALL NOT, REQUIRED (and sometimes MAY NOT)</li>
<li><b>preferred</b>: maps to RFC2119 keywords SHOULD, SHOULD NOT,
RECOMMENDED, NOT RECOMMENDED</li>
<li><b>permitted</b>: maps to RFC2119 keywords MAY, OPTIONAL.</li>
</ul>
</item>
</td>
</tr>
<tr>
<td><b>Reporting:</b></td>
<td>
<item xmlns="http://www.ws-i.org/2002/08/12/ProfileDoc-2.0.xsd"
xmlns:h="http://www.ws-i.org/2002/08/12/ProfileMarkup-2.0.xsd"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd=
"http://www.w3.org/2001/XMLSchema" xmlns:xs=
"http://www.w3.org/2001/XMLSchema" xmlns:soap12=
"http://www.w3.org/2003/05/soap-envelope" xmlns:wsdl=
"http://schemas.xmlsoap.org/wsdl/" name="reporting">
<p><i>[<b>markup: testAssertion/reporting</b> ]</i> (optional)</p>
<p>For each possible outcome of the predicate (true or false),
specifies how it must be interpreted w/r to the profile feature.
Two attributes are used that both must be present, when this
element is present:</p>
<ul>
<li><b>@true attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'passed')</li>
<li><b>@false attribute</b>: may take values among {passed, failed,
warning, undetermined} (default is 'failed')</li>
</ul>
The reported outcomes have the following meaning:<br />
<ul>
<li><b>passed</b>: the target passes the test and can be considered
as fulfilling the profile feature.</li>
<li><b>failed</b>: the target fails the test and can be considered
as violating (or not exhibiting) the profile feature.</li>
<li><b>warning</b>: the test result is inconclusive. There is a
possibility of profile requirement violation, that deserved further
investigation.</li>
<li><b>undetermined</b>: the test result is inconclusive for this
predicate value.</li>
</ul>
<p>NOTES: the predicate of the TA may be worded in a negative way
so that @false='passed' although that is not recommended. The
result of a test should not be related to the prescription level,
e.g. a "preferred" or "permitted" level should not imply that
@false='warning'.</p>
<p>Other test results that are automatically generated and not
controlled by the "reporting" element are:</p>
<ul>
<li><b>notRelevant</b>: the target failed the prerequisite
condition and therefore does not qualify for further testing (i.e.
the predicate expression is NOT evaluated on it).</li>
<li><b>missingInput</b>: a cotarget expression returned an empty
node set.</li>
<li><b>notApplicable</b>: this target was not even selected by the
target XPath expression, while being of the same general artifact
type (e.g. message type).</li>
</ul>
</item>
</td>
</tr>
</table>
</div>
</li>
<li><span class="statement-id">E0024</span> - <strong>Namespace
Attributes</strong> - Namespace attributes on soap12:Envelope and
soap12:Header elements<span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span></li>
<li><span class="statement-id">E0025</span> - <strong>Attributes on
soap12:Body elements</strong> - Neither namespaced nor local
attributes are constrained by SOAP 1.2.<span class=
"claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span></li>
</ul>
<p>In <a href=
"http://www.w3.org/TR/2007/REC-soap12-part2-20070427/" class=
"offsite">SOAP Version 1.2 Part 2: Adjuncts (Second
Edition):</a></p>
<ul>
<li><span class="statement-id">E0026</span> - <strong>SOAP envelope
in HTTP Response message to WSDL one-way operation</strong> - The
SOAP 1.2 Request Response Binding specification does not specify
the purpose or processing of such envelopes.<span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span></li>
</ul>
<p>In <a href="http://www.ietf.org/rfc/rfc2616" class=
"offsite">RFC2616: Hypertext Transfer Protocol -- HTTP/1.1:</a></p>
<ul>
<li><span class="statement-id">E0007</span> - <strong>HTTP
Authentication</strong> - HTTP authentication allows for extension
schemes, arbitrary digest hash algorithms and
parameters.<span class="claim-type">HTTP-TRANSPORT</span>
<span class="testable-type">TESTABLE</span></li>
<li><span class="statement-id">E0008</span> - <strong>Unspecified
Header Fields</strong> - HTTP allows arbitrary headers to occur in
messages.<span class="claim-type">HTTP-TRANSPORT</span>
<span class="testable-type">TESTABLE</span></li>
<li><span class="statement-id">E0010</span> -
<strong>Content-Encoding</strong> - The set of content-codings
allowed by HTTP is open-ended and any besides 'gzip', 'compress',
or 'deflate' are an extensibility point.<span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span></li>
<li><span class="statement-id">E0011</span> -
<strong>Transfer-Encoding</strong> - The set of transfer-encodings
allowed by HTTP is open-ended.<span class=
"claim-type">HTTP-TRANSPORT</span> <span class=
"testable-type">TESTABLE</span></li>
<li><span class="statement-id">E0029</span> - <strong>Use of
messages other than SOAP 1.2 or XOP messages</strong> - Use of
Messages other than a SIMPLE_SOAP_MESSAGE or a XOP_ENCODED_MESSAGE
is an extensibility point<span class="claim-type">CORE</span>
<span class="testable-type">TESTABLE</span></li>
</ul>
<p>In <a href=
"http://www.w3.org/TR/2006/REC-ws-addr-soap-20060509/" class=
"offsite">WS-Addressing 1.0 - SOAP Binding (except for sections 4,
5.1.1, 5.2.1 and 6.2):</a></p>
<ul>
<li><span class="statement-id">E0027</span> - <strong>Use of SOAP
role attribute and WS-Addressing</strong> - WS-Addressing allows
multiple instances of headers such as wsa:To, wsa:ReplyTo, and
wsa:FaultTo, so long as they are targeted to different SOAP
roles.<span class="claim-type">CORE</span> <span class=
"testable-type">TESTABLE</span></li>
<li><span class="statement-id">E0028</span> - <strong>Endpoint
references are extensible</strong> - When extension attributes or
elements appear as part of an endpoint reference, the processing
model for such extensions is defined by the specification for those
extensions.<span class="claim-type">CORE</span> <span class=
"testable-type">NOT_TESTABLE</span></li>
</ul>
<p>In <a href="http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/"
class="offsite">XML Schema Part 1: Structures:</a></p>
<ul>
<li><span class="statement-id">E0017</span> - <strong>Schema
annotations</strong> - XML Schema allows for annotations, which may
be used to convey additional information about data
structures.<span class="claim-type">CORE</span></li>
</ul>
<p>In <a href="http://www.w3.org/TR/2001/NOTE-wsdl-20010315" class=
"offsite">Web Services Description Language (WSDL) 1.1:</a></p>
<ul>
<li><span class="statement-id">E0013</span> - <strong>WSDL
extensions</strong> - WSDL allows extension elements and attributes
in certain places, including the use and specification of alternate
protocol binding extensions; use of such extensions requires
out-of-band negotiation.<span class="claim-type">CORE</span></li>
<li><span class="statement-id">E0014</span> - <strong>Validation
mode</strong> - whether the parser used to read WSDL and XML Schema
documents performs DTD validation or not.<span class=
"claim-type">CORE</span></li>
<li><span class="statement-id">E0015</span> - <strong>Fetching of
external resources</strong> - whether the parser used to read WSDL
and XML Schema documents fetches external entities and
DTDs.<span class="claim-type">CORE</span></li>
<li><span class="statement-id">E0016</span> - <strong>Relative
URIs</strong> - WSDL does not adequately specify the use of
relative URIs for the following: wsoap12:body/@namespace,
wsoap12:address/@location, wsdl:import/@location,
xsd:schema/@targetNamespace and xsd:import/@schemaLocation. Their
use may require further coordination; see XML Base for more
information.<span class="claim-type">CORE</span></li>
</ul>
<p>In <a href="http://www.ietf.org/rfc/rfc2246" class=
"offsite">RFC2246: The TLS Protocol Version 1.0:</a></p>
<ul>
<li><span class="statement-id">E0019</span> - <strong>TLS
Cyphersuite</strong> - TLS allows for the use of arbitrary
encryption algorithms.<span class=
"claim-type">HTTP-TRANSPORT</span></li>
<li><span class="statement-id">E0020</span> - <strong>TLS
Extensions</strong> - TLS allows for extensions during the
handshake phase.<span class="claim-type">HTTP-TRANSPORT</span></li>
</ul>
<p>In <a href="http://wp.netscape.com/eng/ssl3/draft302.txt" class=
"offsite">The SSL Protocol Version 3.0:</a></p>
<ul>
<li><span class="statement-id">E0021</span> - <strong>SSL
Cyphersuite</strong> - SSL allows for the use of arbitrary
encryption algorithms.<span class=
"claim-type">HTTP-TRANSPORT</span></li>
</ul>
<p>In <a href="http://www.ietf.org/rfc/rfc2459" class=
"offsite">RFC2459: Internet X.509 Public Key Infrastructure
Certificate and CRL Profile:</a></p>
<ul>
<li><span class="statement-id">E0022</span> - <strong>Certificate
Authority</strong> - The choice of the Certificate Authority is a
private agreement between parties.<span class=
"claim-type">HTTP-TRANSPORT</span></li>
<li><span class="statement-id">E0023</span> - <strong>Certificate
Extensions</strong> - X509 allows for arbitrary certificate
extensions.<span class="claim-type">HTTP-TRANSPORT</span></li>
</ul>
<h2 id="normative_references">Appendix C: Normative References</h2>
<p>In addition to all of the profiled specifications listed in
Appendix A, the following specifications are normatively
referenced:</p>
<p>RFC2119 <a href=
"http://ietf.org/rfc/rfc2119">http://ietf.org/rfc/rfc2119</a> Key
words for use in RFCs to Indicate Requirement Levels, S. Bradner
March 1997</p>
<p>Namespaces in XML 1.0 (Second Edition) <a href=
"http://www.w3.org/TR/REC-xml-names/">http://www.w3.org/TR/REC-xml-names/</a>
T. Bray et al August 2006</p>
<p>WS-I Conformance Claim Attachment Mechanisms Version 1.0
<a href="http://www.ws-i.org/Profiles/ConformanceClaims-1.0-2004-11-15.html">
http://www.ws-i.org/Profiles/ConformanceClaims-1.0-2004-11-15.html</a>,
M. Nottingham et al November 2004</p>
<h2 id="defs">Appendix D: Defined Terms</h2>
<p>The following list of terms have specific definitions that are
authoritative for this profile:</p>
<dl>
<dt>non-addressable</dt>
<dd>
<div class="definition">
<p>A CONSUMER or INSTANCE is deemed "non-addressable" when, for
whatever reason, it is either unwilling or unable to provide a
network endpoint that is capable of accepting connections. This
means that the CONSUMER or INSTANCE cannot service incoming HTTP
connections and can only transmit HTTP Request messages and receive
HTTP Response messages.</p>
</div>
</dd>
<dt>rpc-literal binding</dt>
<dd>
<div class="definition">
<p>An "rpc-literal binding" is a <code>wsdl:binding</code> element
whose child <code>wsdl:operation</code> elements are all
rpc-literal operations.</p>
<p>An "rpc-literal operation" is a <code>wsdl:operation</code>
child element of <code>wsdl:binding</code> whose
<code>wsoap12:body</code> descendant elements specify the
<code>use</code> attribute with the value "literal", and
either:</p>
<ol type="">
<li>The <code>style</code> attribute with the value "rpc" is
specified on the child <code>wsoap12:operation</code> element;
or</li>
<li>The <code>style</code> attribute is not present on the child
<code>wsoap12:operation</code> element, and the
<code>wsoap12:binding</code> element in the enclosing
<code>wsdl:binding</code> specifies the <code>style</code>
attribute with the value "rpc".</li>
</ol>
</div>
</dd>
<dt>document-literal binding</dt>
<dd>
<div class="definition">
<p>A "document-literal binding" is a <code>wsdl:binding</code>
element whose child <code>wsdl:operation</code> elements are all
document-literal operations.</p>
<p>A "document-literal operation" is a <code>wsdl:operation</code>
child element of <code>wsdl:binding</code> whose
<code>wsoap12:body</code> descendent elements specifies the
<code>use</code> attribute with the value "literal" and,
either:</p>
<ol type="">
<li>The <code>style</code> attribute with the value "document" is
specified on the child <code>wsoap12:operation</code> element;
or</li>
<li>The <code>style</code> attribute is not present on the child
<code>wsoap12:operation</code> element, and the
<code>wsoap12:binding</code> element in the enclosing
<code>wsdl:binding</code> specifies the <code>style</code>
attribute with the value "document"; or</li>
<li>The <code>style</code> attribute is not present on both the
child <code>wsoap12:operation</code> element and the
<code>wsoap12:binding</code> element in the enclosing
<code>wsdl:binding</code> .</li>
</ol>
</div>
</dd>
<dt>operation signature</dt>
<dd>
<div class="definition">
<p>The Profile defines the "operation signature" to be the fully
qualified name of the child element of SOAP body of the SOAP input
message described by an operation in a WSDL binding and the URI
value of the <code>wsa:Action</code> SOAP header block, if
present.</p>
<p>In the case of rpc-literal binding, the operation name is used
as a wrapper for the part accessors. In the document-literal case,
since a wrapper with the operation name is not present, the message
signatures must be correctly designed so that they meet this
requirement.</p>
</div>
</dd>
</dl>
<h2 id="acks">Appendix E: Acknowledgements</h2>
<p>This document is the work of the WS-I Basic Profile Working
Group.</p>
<h2 id="schm">Appendix F: Schemas</h2>
<div class="refinement">
<div class="explanation">
<p>A normative copy of the XML Schema description for this Profile
can be retrieved from the following address: <a href=
"http://ws-i.org/profiles/basic-profile/2.0/bp20.xsd" class=
"offsite">http://ws-i.org/profiles/basic-profiles/2.0/bp20.xsd</a>
. A non-normative copy of the XML Schema is listed below for
convenience:</p>
</div>
<p class="example-banner">For example,</p>
<div class="example">
<p class="correct">CORRECT:</p>
<pre>
&lt;xs:schema targetNamespace='http://ws-i.org/profiles/basic-profile/2.0/'
           xmlns:xs='http://www.w3.org/2001/XMLSchema'
           elementFormDefault='qualified'
           blockDefault='#all'&gt;
  &lt;xs:element name='Conformant'&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:any namespace='##other' processContents='lax' minOccurs='0' maxOccurs='unbounded'/&gt;
      &lt;/xs:sequence&gt;
      &lt;xs:anyAttribute namespace='##other' processContents='lax' /&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
&lt;/xs:schema&gt;

</pre></div>
</div>
</body>
</html>
